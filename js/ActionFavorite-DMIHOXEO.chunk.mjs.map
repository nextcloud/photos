{"version":3,"file":"ActionFavorite-DMIHOXEO.chunk.mjs","sources":["../src/components/Actions/ActionFavorite.vue"],"sourcesContent":["<!--\n  - SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n<template>\n\t<NcActionButton\n\t\tv-if=\"shouldFavoriteSelection\"\n\t\t:close-after-click=\"true\"\n\t\t:aria-label=\"t('photos', 'Mark selection as favorite')\"\n\t\t@click=\"favoriteSelection\">\n\t\t{{ t('photos', 'Add selection to favorites') }}\n\t\t<StarOutline slot=\"icon\" />\n\t</NcActionButton>\n\t<NcActionButton\n\t\tv-else\n\t\t:close-after-click=\"true\"\n\t\t:aria-label=\"t('photos', 'Remove selection from favorites')\"\n\t\t@click=\"unFavoriteSelection\">\n\t\t{{ t('photos', 'Remove selection from favorites') }}\n\t\t<Star slot=\"icon\" />\n\t</NcActionButton>\n</template>\n\n<script lang='ts'>\nimport { t } from '@nextcloud/l10n'\nimport {\n\ttype PropType,\n\n\tdefineComponent,\n} from 'vue'\nimport NcActionButton from '@nextcloud/vue/components/NcActionButton'\nimport Star from 'vue-material-design-icons/Star.vue'\nimport StarOutline from 'vue-material-design-icons/StarOutline.vue'\n\nexport default defineComponent({\n\tname: 'ActionFavorite',\n\tcomponents: {\n\t\tStar,\n\t\tStarOutline,\n\t\tNcActionButton,\n\t},\n\n\tprops: {\n\t\tselectedFileIds: {\n\t\t\ttype: Array as PropType<string[]>,\n\t\t\trequired: true,\n\t\t},\n\t},\n\n\tcomputed: {\n\t\tfiles() {\n\t\t\treturn this.$store.state.files.files\n\t\t},\n\n\t\tshouldFavoriteSelection() {\n\t\t\t// Favorite all selection if at least one file is not in the favorites.\n\t\t\treturn this.selectedFileIds.some((fileId) => this.files[fileId].attributes.favorite === 0)\n\t\t},\n\t},\n\n\tmethods: {\n\t\tasync favoriteSelection() {\n\t\t\tawait this.$store.dispatch('toggleFavoriteForFiles', { fileIds: this.selectedFileIds, favoriteState: 1 })\n\t\t},\n\n\t\tasync unFavoriteSelection() {\n\t\t\tawait this.$store.dispatch('toggleFavoriteForFiles', { fileIds: this.selectedFileIds, favoriteState: 0 })\n\t\t},\n\n\t\tt,\n\t},\n})\n</script>\n"],"names":["t"],"mappings":";;;;;AAkCA,MAAA,YAAA,gBAAA;AAAA,EACA,MAAA;AAAA,EACA,YAAA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACA;AAAA,EAEA,OAAA;AAAA,IACA,iBAAA;AAAA,MACA,MAAA;AAAA,MACA,UAAA;AAAA,IAAA;AAAA,EAEA;AAAA,EAEA,UAAA;AAAA,IACA,QAAA;AACA,aAAA,KAAA,OAAA,MAAA,MAAA;AAAA,IACA;AAAA,IAEA,0BAAA;AAEA,aAAA,KAAA,gBAAA,KAAA,CAAA,WAAA,KAAA,MAAA,MAAA,EAAA,WAAA,aAAA,CAAA;AAAA,IAAA;AAAA,EAEA;AAAA,EAEA,SAAA;AAAA,IACA,MAAA,oBAAA;AACA,YAAA,KAAA,OAAA,SAAA,0BAAA,EAAA,SAAA,KAAA,iBAAA,eAAA,GAAA;AAAA,IACA;AAAA,IAEA,MAAA,sBAAA;AACA,YAAA,KAAA,OAAA,SAAA,0BAAA,EAAA,SAAA,KAAA,iBAAA,eAAA,GAAA;AAAA,IACA;AAAA,IAEAA,GAAAA;AAAAA,EAAA;AAEA,CAAA;;;;;;;;;;;;;;;;;;"}
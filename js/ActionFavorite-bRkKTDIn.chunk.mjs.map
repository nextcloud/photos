{"version":3,"file":"ActionFavorite-bRkKTDIn.chunk.mjs","sources":["../src/components/Actions/ActionFavorite.vue"],"sourcesContent":["<!--\n  - SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n<template>\n\t<NcActionButton\n\t\tv-if=\"shouldFavoriteSelection\"\n\t\t:close-after-click=\"true\"\n\t\t:aria-label=\"t('photos', 'Mark selection as favorite')\"\n\t\t@click=\"favoriteSelection\">\n\t\t{{ t('photos', 'Add selection to favorites') }}\n\t\t<StarOutline slot=\"icon\" />\n\t</NcActionButton>\n\t<NcActionButton\n\t\tv-else\n\t\t:close-after-click=\"true\"\n\t\t:aria-label=\"t('photos', 'Remove selection from favorites')\"\n\t\t@click=\"unFavoriteSelection\">\n\t\t{{ t('photos', 'Remove selection from favorites') }}\n\t\t<Star slot=\"icon\" />\n\t</NcActionButton>\n</template>\n\n<script lang='ts'>\nimport { t } from '@nextcloud/l10n'\nimport {\n\ttype PropType,\n\n\tdefineComponent,\n} from 'vue'\nimport NcActionButton from '@nextcloud/vue/components/NcActionButton'\nimport Star from 'vue-material-design-icons/Star.vue'\nimport StarOutline from 'vue-material-design-icons/StarOutline.vue'\n\nexport default defineComponent({\n\tname: 'ActionFavorite',\n\tcomponents: {\n\t\tStar,\n\t\tStarOutline,\n\t\tNcActionButton,\n\t},\n\n\tprops: {\n\t\tselectedFileIds: {\n\t\t\ttype: Array as PropType<string[]>,\n\t\t\trequired: true,\n\t\t},\n\t},\n\n\tcomputed: {\n\t\tfiles() {\n\t\t\treturn this.$store.state.files.files\n\t\t},\n\n\t\tshouldFavoriteSelection() {\n\t\t\t// Favorite all selection if at least one file is not in the favorites.\n\t\t\treturn this.selectedFileIds.some((fileId) => this.files[fileId].attributes.favorite === 0)\n\t\t},\n\t},\n\n\tmethods: {\n\t\tasync favoriteSelection() {\n\t\t\tawait this.$store.dispatch('toggleFavoriteForFiles', { fileIds: this.selectedFileIds, favoriteState: 1 })\n\t\t},\n\n\t\tasync unFavoriteSelection() {\n\t\t\tawait this.$store.dispatch('toggleFavoriteForFiles', { fileIds: this.selectedFileIds, favoriteState: 0 })\n\t\t},\n\n\t\tt,\n\t},\n})\n</script>\n"],"names":["_sfc_main","defineComponent","Star","StarOutline","NcActionButton","fileId","t"],"mappings":"8LAkCA,MAAAA,EAAAC,EAAA,CACA,KAAA,iBACA,WAAA,CACA,KAAAC,EACA,YAAAC,EACA,eAAAC,CACA,EAEA,MAAA,CACA,gBAAA,CACA,KAAA,MACA,SAAA,EAAA,CAEA,EAEA,SAAA,CACA,OAAA,CACA,OAAA,KAAA,OAAA,MAAA,MAAA,KACA,EAEA,yBAAA,CAEA,OAAA,KAAA,gBAAA,KAAAC,GAAA,KAAA,MAAAA,CAAA,EAAA,WAAA,WAAA,CAAA,CAAA,CAEA,EAEA,QAAA,CACA,MAAA,mBAAA,CACA,MAAA,KAAA,OAAA,SAAA,yBAAA,CAAA,QAAA,KAAA,gBAAA,cAAA,EAAA,CACA,EAEA,MAAA,qBAAA,CACA,MAAA,KAAA,OAAA,SAAA,yBAAA,CAAA,QAAA,KAAA,gBAAA,cAAA,EAAA,CACA,EAEAC,EAAAA,CAAA,CAEA,CAAA"}
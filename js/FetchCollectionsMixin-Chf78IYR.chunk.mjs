import{d as s}from"./vue.runtime.esm-OiydnxB-.chunk.mjs";import{f as n}from"./collectionFetcher-DAjdzmEV.chunk.mjs";import{d as e,l as c}from"./index-ycziVi-9.chunk.mjs";import{A as a}from"./AbortControllerMixin-BH-eXynx.chunk.mjs";const m=s({name:"FetchCollectionsMixin",data(){return{errorFetchingCollections:null,loadingCollections:!1}},mixins:[a],methods:{async fetchCollections(r,i=[],l=e){var t;if(this.loadingCollections)return[];try{this.loadingCollections=!0,this.errorFetchingCollections=null;const o=await n(r,{signal:this.abortController.signal},i,l);return this.$store.dispatch("addCollections",{collections:o}),o}catch(o){((t=o.response)==null?void 0:t.status)===404?this.errorFetchingCollections=404:this.errorFetchingCollections=o,c.error("Error fetching collections:",{error:o})}finally{this.loadingCollections=!1}return[]}}});export{m as F};
//# sourceMappingURL=FetchCollectionsMixin-Chf78IYR.chunk.mjs.map

{"version":3,"file":"FileComponent-CcjuR452.chunk.mjs","sources":["../node_modules/blurhash/dist/esm/index.js","../node_modules/@mdi/svg/svg/star.svg?raw","../src/components/FavoriteIcon.vue","../src/services/PreviewService.ts","../src/components/FileComponent.vue"],"sourcesContent":["var q=[\"0\",\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"A\",\"B\",\"C\",\"D\",\"E\",\"F\",\"G\",\"H\",\"I\",\"J\",\"K\",\"L\",\"M\",\"N\",\"O\",\"P\",\"Q\",\"R\",\"S\",\"T\",\"U\",\"V\",\"W\",\"X\",\"Y\",\"Z\",\"a\",\"b\",\"c\",\"d\",\"e\",\"f\",\"g\",\"h\",\"i\",\"j\",\"k\",\"l\",\"m\",\"n\",\"o\",\"p\",\"q\",\"r\",\"s\",\"t\",\"u\",\"v\",\"w\",\"x\",\"y\",\"z\",\"#\",\"$\",\"%\",\"*\",\"+\",\",\",\"-\",\".\",\":\",\";\",\"=\",\"?\",\"@\",\"[\",\"]\",\"^\",\"_\",\"{\",\"|\",\"}\",\"~\"],x=t=>{let e=0;for(let r=0;r<t.length;r++){let n=t[r],l=q.indexOf(n);e=e*83+l}return e},p=(t,e)=>{var r=\"\";for(let n=1;n<=e;n++){let l=Math.floor(t)/Math.pow(83,e-n)%83;r+=q[Math.floor(l)]}return r};var f=t=>{let e=t/255;return e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)},h=t=>{let e=Math.max(0,Math.min(1,t));return e<=.0031308?Math.trunc(e*12.92*255+.5):Math.trunc((1.055*Math.pow(e,.4166666666666667)-.055)*255+.5)},F=t=>t<0?-1:1,M=(t,e)=>F(t)*Math.pow(Math.abs(t),e);var d=class extends Error{constructor(e){super(e),this.name=\"ValidationError\",this.message=e}};var C=t=>{if(!t||t.length<6)throw new d(\"The blurhash string must be at least 6 characters\");let e=x(t[0]),r=Math.floor(e/9)+1,n=e%9+1;if(t.length!==4+2*n*r)throw new d(`blurhash length mismatch: length is ${t.length} but it should be ${4+2*n*r}`)},N=t=>{try{C(t)}catch(e){return{result:!1,errorReason:e.message}}return{result:!0}},z=t=>{let e=t>>16,r=t>>8&255,n=t&255;return[f(e),f(r),f(n)]},L=(t,e)=>{let r=Math.floor(t/361),n=Math.floor(t/19)%19,l=t%19;return[M((r-9)/9,2)*e,M((n-9)/9,2)*e,M((l-9)/9,2)*e]},U=(t,e,r,n)=>{C(t),n=n|1;let l=x(t[0]),m=Math.floor(l/9)+1,b=l%9+1,i=(x(t[1])+1)/166,u=new Array(b*m);for(let o=0;o<u.length;o++)if(o===0){let a=x(t.substring(2,6));u[o]=z(a)}else{let a=x(t.substring(4+o*2,6+o*2));u[o]=L(a,i*n)}let c=e*4,s=new Uint8ClampedArray(c*r);for(let o=0;o<r;o++)for(let a=0;a<e;a++){let y=0,B=0,R=0;for(let w=0;w<m;w++)for(let P=0;P<b;P++){let G=Math.cos(Math.PI*a*P/e)*Math.cos(Math.PI*o*w/r),T=u[P+w*b];y+=T[0]*G,B+=T[1]*G,R+=T[2]*G}let V=h(y),I=h(B),E=h(R);s[4*a+0+o*c]=V,s[4*a+1+o*c]=I,s[4*a+2+o*c]=E,s[4*a+3+o*c]=255}return s},j=U;var A=4,D=(t,e,r,n)=>{let l=0,m=0,b=0,g=e*A;for(let u=0;u<e;u++){let c=A*u;for(let s=0;s<r;s++){let o=c+s*g,a=n(u,s);l+=a*f(t[o]),m+=a*f(t[o+1]),b+=a*f(t[o+2])}}let i=1/(e*r);return[l*i,m*i,b*i]},$=t=>{let e=h(t[0]),r=h(t[1]),n=h(t[2]);return(e<<16)+(r<<8)+n},H=(t,e)=>{let r=Math.floor(Math.max(0,Math.min(18,Math.floor(M(t[0]/e,.5)*9+9.5)))),n=Math.floor(Math.max(0,Math.min(18,Math.floor(M(t[1]/e,.5)*9+9.5)))),l=Math.floor(Math.max(0,Math.min(18,Math.floor(M(t[2]/e,.5)*9+9.5))));return r*19*19+n*19+l},O=(t,e,r,n,l)=>{if(n<1||n>9||l<1||l>9)throw new d(\"BlurHash must have between 1 and 9 components\");if(e*r*4!==t.length)throw new d(\"Width and height must match the pixels array\");let m=[];for(let s=0;s<l;s++)for(let o=0;o<n;o++){let a=o==0&&s==0?1:2,y=D(t,e,r,(B,R)=>a*Math.cos(Math.PI*o*B/e)*Math.cos(Math.PI*s*R/r));m.push(y)}let b=m[0],g=m.slice(1),i=\"\",u=n-1+(l-1)*9;i+=p(u,1);let c;if(g.length>0){let s=Math.max(...g.map(a=>Math.max(...a))),o=Math.floor(Math.max(0,Math.min(82,Math.floor(s*166-.5))));c=(o+1)/166,i+=p(o,1)}else c=1,i+=p(0,1);return i+=p($(b),4),g.forEach(s=>{i+=p(H(s,c),2)}),i},S=O;export{d as ValidationError,j as decode,S as encode,N as isBlurhashValid};\n//# sourceMappingURL=index.js.map","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"mdi-star\\\" viewBox=\\\"0 0 24 24\\\"><path d=\\\"M12,17.27L18.18,21L16.54,13.97L22,9.24L14.81,8.62L12,2L9.19,8.62L2,9.24L7.45,13.97L5.82,21L12,17.27Z\\\" /></svg>\"","<!--\n - SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n<template>\n\t<NcIconSvgWrapper class=\"favorite-marker-icon\" :name=\"t('photos', 'Favorite')\" :svg=\"StarSvg\" />\n</template>\n\n<script lang='ts'>\nimport StarSvg from '@mdi/svg/svg/star.svg?raw'\nimport { t } from '@nextcloud/l10n'\nimport { defineComponent } from 'vue'\nimport NcIconSvgWrapper from '@nextcloud/vue/components/NcIconSvgWrapper'\n\n/**\n * A favorite icon to be used for overlaying favorite entries like the file preview / icon\n * It has a stroke around the star icon to ensure enough contrast for accessibility.\n *\n * If the background has a hover state you might want to also apply it to the stroke like this:\n * ```scss\n * .parent:hover :deep(.favorite-marker-icon svg path) {\n *      stroke: var(--color-background-hover);\n * }\n * ```\n */\nexport default defineComponent({\n\tname: 'FavoriteIcon',\n\tcomponents: {\n\t\tNcIconSvgWrapper,\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\tStarSvg,\n\t\t}\n\t},\n\n\tmounted() {\n\t\tthis.$nextTick(() => {\n\t\t\t// MDI default viewbox is \"0 0 24 24\" but we add a stroke of 10px so we must adjust it\n\t\t\tconst el = this.$el.querySelector('svg')\n\t\t\tel?.setAttribute?.('viewBox', '-4 -4 30 30')\n\t\t})\n\t},\n\n\tmethods: {\n\t\tt,\n\t},\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.favorite-marker-icon {\n\tcolor: #a08b00;\n\t// Override NcIconSvgWrapper defaults (clickable area)\n\tmin-width: unset !important;\n\tmin-height: unset !important;\n\n\t:deep() {\n\t\tsvg {\n\t\t\t// We added a stroke for a11y so we must increase the size to include the stroke\n\t\t\twidth: 32px !important;\n\t\t\theight: 32px !important;\n\n\t\t\t// Override NcIconSvgWrapper defaults of 20px\n\t\t\tmax-width: unset !important;\n\t\t\tmax-height: unset !important;\n\n\t\t\t// Sow a border around the icon for better contrast\n\t\t\tpath {\n\t\t\t\tstroke: var(--color-main-background);\n\t\t\t\tstroke-width: 10px;\n\t\t\t\tstroke-linejoin: round;\n\t\t\t\tpaint-order: stroke;\n\t\t\t}\n\t\t}\n\t}\n}\n</style>\n","/**\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\n// The preview service worker cache name (see webpack config)\nconst SWCacheName = 'images'\nconst hotCache = []\n\n/**\n * Check if the preview is already cached by the service worker\n *\n * @param previewUrl\n */\nexport const isCachedPreview = async function(previewUrl: string): Promise<boolean> {\n\ttry {\n\t\t// Browser's cache take ~100ms to check, hot cache ~10ms.\n\t\tif (!hotCache[previewUrl]) {\n\t\t\tconst cache = await window.caches?.open(SWCacheName)\n\t\t\tconst response = await cache?.match(previewUrl)\n\t\t\thotCache[previewUrl] = response !== undefined\n\t\t}\n\n\t\treturn hotCache[previewUrl]\n\t} catch {\n\t\treturn false\n\t}\n}\n","<!--\n - SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<div\n\t\tclass=\"file-container\"\n\t\tdata-test=\"media\"\n\t\t:class=\"{ selected }\">\n\t\t<a\n\t\t\tclass=\"file\"\n\t\t\t:href=\"file.source\"\n\t\t\t:aria-label=\"ariaLabel\"\n\t\t\t@click.stop.prevent=\"emitClick\">\n\n\t\t\t<!-- image and loading placeholder -->\n\t\t\t<div class=\"file__images\">\n\t\t\t\t<VideoOutline v-if=\"file.mime?.includes('video')\" class=\"icon-overlay\" :size=\"64\" />\n\t\t\t\t<PlayCircleOutlineIcon v-else-if=\"file.attributes['metadata-files-live-photo'] !== undefined\" class=\"icon-overlay\" :size=\"64\" />\n\n\t\t\t\t<!-- We have two img elements to load the small and large preview -->\n\t\t\t\t<!-- Do not show the small preview if the larger one is loaded -->\n\t\t\t\t<!-- Prioritize visible files -->\n\t\t\t\t<!-- Load small preview first, then the larger one -->\n\t\t\t\t<!-- Preload large preview for near visible files -->\n\t\t\t\t<!-- Preload small preview for further away files -->\n\t\t\t\t<template v-if=\"initialized\">\n\t\t\t\t\t<canvas\n\t\t\t\t\t\tv-if=\"hasBlurhash && !loadedSmall && !loadedLarge\"\n\t\t\t\t\t\tref=\"canvas\"\n\t\t\t\t\t\tclass=\"file__blurhash\"\n\t\t\t\t\t\taria-hidden=\"true\" />\n\n\t\t\t\t\t<img\n\t\t\t\t\t\tv-if=\"!loadedLarge && (loadedSmall || (distance < 5 && !errorSmall))\"\n\t\t\t\t\t\tref=\"imgSmall\"\n\t\t\t\t\t\t:key=\"`${file.basename}-small`\"\n\t\t\t\t\t\t:src=\"srcSmall\"\n\t\t\t\t\t\t:alt=\"file.basename\"\n\t\t\t\t\t\t:decoding=\"loadedSmall || isVisible ? 'sync' : 'async'\"\n\t\t\t\t\t\t:fetchpriority=\"loadedSmall || isVisible ? 'high' : 'low'\"\n\t\t\t\t\t\t:loading=\"loadedSmall || isVisible ? 'eager' : distance < 2 ? 'auto' : 'lazy'\"\n\t\t\t\t\t\t@load=\"onLoadSmall\"\n\t\t\t\t\t\t@error=\"onErrorSmall\">\n\n\t\t\t\t\t<img\n\t\t\t\t\t\tv-if=\"loadedLarge || ((isVisible || (distance < 2 && (loadedSmall || errorSmall))) && !errorLarge)\"\n\t\t\t\t\t\tref=\"imgLarge\"\n\t\t\t\t\t\t:key=\"`${file.basename}-large`\"\n\t\t\t\t\t\t:src=\"srcLarge\"\n\t\t\t\t\t\t:alt=\"file.basename\"\n\t\t\t\t\t\t:decoding=\"loadedLarge || isVisible ? 'sync' : 'async'\"\n\t\t\t\t\t\t:fetchpriority=\"loadedLarge || isVisible ? 'high' : 'low'\"\n\t\t\t\t\t\t:loading=\"loadedLarge || isVisible ? 'auto' : 'lazy'\"\n\t\t\t\t\t\t@load=\"onLoadLarge\"\n\t\t\t\t\t\t@error=\"onErrorLarge\">\n\t\t\t\t</template>\n\t\t\t</div>\n\t\t</a>\n\n\t\t<NcCheckboxRadioSwitch\n\t\t\tv-if=\"allowSelection\"\n\t\t\tclass=\"selection-checkbox\"\n\t\t\t:aria-label=\"t('photos', 'Select image {imageName}', { imageName: file.basename })\"\n\t\t\t:checked=\"selected\"\n\t\t\t@update:checked=\"onToggle\" />\n\n\t\t<FavoriteIcon\n\t\t\tv-if=\"file.attributes.favorite === 1\"\n\t\t\tv-once\n\t\t\tclass=\"favorite-state\" />\n\t</div>\n</template>\n\n<script lang='ts'>\nimport type { PropType } from 'vue'\nimport type { PhotoFile } from '../store/files.js'\n\nimport { t } from '@nextcloud/l10n'\nimport { generateUrl } from '@nextcloud/router'\nimport { decode } from 'blurhash'\nimport NcCheckboxRadioSwitch from '@nextcloud/vue/components/NcCheckboxRadioSwitch'\nimport PlayCircleOutlineIcon from 'vue-material-design-icons/PlayCircleOutline.vue'\nimport VideoOutline from 'vue-material-design-icons/VideoOutline.vue'\nimport FavoriteIcon from './FavoriteIcon.vue'\nimport { isCachedPreview } from '../services/PreviewService.js'\n\nexport default {\n\tname: 'FileComponent',\n\tcomponents: {\n\t\tFavoriteIcon,\n\t\tNcCheckboxRadioSwitch,\n\t\tVideoOutline,\n\t\tPlayCircleOutlineIcon,\n\t},\n\n\tinheritAttrs: false,\n\tprops: {\n\t\tfile: {\n\t\t\ttype: Object as PropType<PhotoFile>,\n\t\t\trequired: true,\n\t\t},\n\n\t\tselected: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\n\t\tallowSelection: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\n\t\tdistance: {\n\t\t\ttype: Number,\n\t\t\tdefault: 0,\n\t\t},\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\tinitialized: false,\n\t\t\tloadedSmall: false,\n\t\t\terrorSmall: false,\n\t\t\tloadedLarge: false,\n\t\t\terrorLarge: false,\n\t\t}\n\t},\n\n\tcomputed: {\n\t\tariaLabel(): string {\n\t\t\tif (this.file.attributes.favorite) {\n\t\t\t\treturn t('photos', 'Favorite image, open the full size \"{name}\" image', { name: this.file.basename })\n\t\t\t}\n\t\t\treturn t('photos', 'Open the full size \"{name}\" image', { name: this.file.basename })\n\t\t},\n\n\t\tisImage(): boolean {\n\t\t\treturn this.file.mime?.startsWith('image') ?? false\n\t\t},\n\n\t\tdecodedEtag(): string {\n\t\t\treturn this.file.attributes.etag.replace('&quot;', '').replace('&quot;', '')\n\t\t},\n\n\t\tsrcLarge(): string {\n\t\t\treturn this.getItemURL(512)\n\t\t},\n\n\t\tsrcSmall(): string {\n\t\t\treturn this.getItemURL(64)\n\t\t},\n\n\t\tisVisible(): boolean {\n\t\t\treturn this.distance === 0\n\t\t},\n\n\t\thasBlurhash() {\n\t\t\treturn this.file.attributes.metadataBlurhash !== undefined\n\t\t},\n\t},\n\n\twatch: {\n\t\tasync file() {\n\t\t\tthis.initialized = false\n\t\t\tthis.loadedSmall = false\n\t\t\tthis.errorSmall = false\n\t\t\tthis.loadedLarge = false\n\t\t\tthis.errorLarge = false\n\n\t\t\tawait this.init()\n\t\t},\n\t},\n\n\tasync mounted() {\n\t\tawait this.init()\n\t},\n\n\tbeforeDestroy() {\n\t\t// cancel any pending load\n\t\tif (this.$refs.imgSmall !== undefined) {\n\t\t\t(this.$refs.imgSmall as HTMLImageElement).src = ''\n\t\t}\n\t\tif (this.$refs.srcLarge !== undefined) {\n\t\t\t(this.$refs.srcLarge as HTMLImageElement).src = ''\n\t\t}\n\t},\n\n\tmethods: {\n\t\tasync init() {\n\t\t\t[this.loadedSmall, this.loadedLarge] = await Promise.all([\n\t\t\t\tawait isCachedPreview(this.srcSmall),\n\t\t\t\tawait isCachedPreview(this.srcLarge),\n\t\t\t])\n\n\t\t\tthis.initialized = true\n\n\t\t\tawait this.$nextTick() // Wait for next tick to have the canvas in the DOM\n\n\t\t\tthis.drawBlurhash()\n\t\t},\n\n\t\temitClick() {\n\t\t\tthis.$emit('click', this.file.fileid)\n\t\t},\n\n\t\tonLoadSmall() {\n\t\t\tthis.loadedSmall = true\n\t\t},\n\n\t\tonLoadLarge() {\n\t\t\tthis.loadedLarge = true\n\t\t},\n\n\t\tonErrorSmall() {\n\t\t\tthis.errorSmall = true\n\t\t},\n\n\t\tonErrorLarge() {\n\t\t\tthis.errorLarge = true\n\t\t},\n\n\t\tonToggle(value) {\n\t\t\tthis.$emit('select-toggled', { id: this.file.fileid, value })\n\t\t},\n\n\t\tgetItemURL(size) {\n\t\t\tconst token = this.$route?.params.token\n\t\t\tif (token) {\n\t\t\t\treturn generateUrl(`/apps/photos/api/v1/publicPreview/${this.file.fileid}?etag=${this.decodedEtag}&x=${size}&y=${size}&token=${token}`)\n\t\t\t} else {\n\t\t\t\treturn generateUrl(`/apps/photos/api/v1/preview/${this.file.fileid}?etag=${this.decodedEtag}&x=${size}&y=${size}`)\n\t\t\t}\n\t\t},\n\n\t\tdrawBlurhash() {\n\t\t\tif (!this.hasBlurhash || !this.$refs.canvas) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tconst width = (this.$refs.canvas as HTMLCanvasElement).width\n\t\t\tconst height = (this.$refs.canvas as HTMLCanvasElement).height\n\n\t\t\tconst pixels = decode(this.file.attributes.metadataBlurhash, width, height)\n\n\t\t\tconst ctx = (this.$refs.canvas as HTMLCanvasElement).getContext('2d') as CanvasRenderingContext2D\n\t\t\tconst imageData = ctx.createImageData(width, height) as ImageData\n\t\t\timageData.data.set(pixels)\n\t\t\tctx.putImageData(imageData, 0, 0)\n\t\t},\n\n\t\tt,\n\t},\n\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.file-container {\n\tcontain: strict;\n\tbackground: var(--color-primary-element-light);\n\tposition: relative;\n\theight: 100%;\n\twidth: 100%;\n\tborder: 2px solid var(--color-main-background); // Use border so create a separation between images.\n\tbox-sizing: border-box;\n\n\t// Selection border.\n\t&.selected,\n\t&:focus-within,\n\t&:has(:focus) {\n\t\t&::after {\n\t\t\tposition: absolute;\n\t\t\ttop: 0;\n\t\t\tinset-inline-start: 0;\n\t\t\tz-index: 2;\n\t\t\twidth: 100%;\n\t\t\theight: 100%;\n\t\t\tcontent: '';\n\t\t\toutline: var(--color-primary-element) solid 4px;\n\t\t\toutline-offset: -4px;\n\t\t\tpointer-events: none;\n\t\t}\n\n\t\t.selection-checkbox {\n\t\t\topacity: 1;\n\t\t}\n\t}\n\n\t.file {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tbox-sizing: border-box;\n\t\toutline: none; // Override global focus state.\n\t\tdisplay: flex; // Fill parent size\n\n\t\t&__blurhash {\n\t\t\tposition: absolute;\n\t\t\ttop: 0;\n\t\t\theight: 100%;\n\t\t\twidth: 100%;\n\t\t\tobject-fit: cover;\n\t\t}\n\n\t\t&__images {\n\t\t\twidth: 100%;\n\t\t\theight: 100%;\n\n\t\t\t.icon-overlay {\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: 0px;\n\t\t\t\tinset-inline-end: 0px;\n\t\t\t\twidth: 100%;\n\t\t\t\theight: 100%;\n\t\t\t\tz-index: 1;\n\t\t\t\topacity: 0.8;\n\n\t\t\t\t:deep(.material-design-icon__svg) {\n\t\t\t\t\tfill: var(--color-main-background);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\timg {\n\t\t\t\twidth: 100%;\n\t\t\t\theight: 100%;\n\t\t\t\tobject-fit: cover;\n\t\t\t\tposition: absolute;\n\t\t\t\tcolor: transparent; /// Hide alt='' text when loading.\n\t\t\t}\n\t\t}\n\t}\n\n\t// Reveal checkbox on hover.\n\t&:hover, &.selected, &:focus-within {\n\t\t.selection-checkbox {\n\t\t\topacity: 1;\n\t\t}\n\n\t\t.favorite-state {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n\n\t.selection-checkbox {\n\t\topacity: 0;\n\t\tposition: absolute;\n\t\ttop: 8px;\n\t\t// Fancy calculation to render the checkbox in the middle of narrow images.\n\t\tinset-inline-end: min(22px, calc(50% - 7px));\n\t\tz-index: 1;\n\t\twidth: fit-content;\n\n\t\t:deep .checkbox-radio-switch__input:focus-visible + .checkbox-radio-switch__content,\n\t\t.checkbox-radio-switch__input:focus-visible {\n\t\t\toutline: 2px solid var(--color-main-text);\n\t\t\tbox-shadow: 0 0 0 3px var(--color-main-background);\n\t\t\toutline-offset: 0px;\n\t\t}\n\n\t\t:deep(.checkbox-radio-switch__content) {\n\t\t\tpadding: 10px;\n\t\t\tbox-sizing: border-box;\n\t\t\tbackground: var(--color-main-background);\n\n\t\t\t// Add a background to the checkbox so we do not see the image through it.\n\t\t\t&::after {\n\t\t\t\tcontent: '';\n\t\t\t\twidth: 16px;\n\t\t\t\theight: 16px;\n\t\t\t\tposition: absolute;\n\t\t\t\tinset-inline-start: 14px;\n\t\t\t\tz-index: -1;\n\t\t\t}\n\n\t\t\t.checkbox-radio-switch__icon {\n\t\t\t\tmargin: 0;\n\t\t\t}\n\t\t}\n\n\t\t.input-label {\n\t\t\tposition: fixed;\n\t\t\tz-index: -1;\n\t\t\ttop: -5000px;\n\t\t\tinset-inline-start: -5000px;\n\t\t}\n\t}\n\n\t.favorite-state {\n\t\tposition: absolute;\n\t\ttop: 2px;\n\t\t// Fancy calculation to render the start in the middle of narrow images.\n\t\tinset-inline-end: min(2px, calc(50% - 7px));\n\t}\n}\n</style>\n"],"names":["t","generateUrl","decode"],"mappings":"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","x_google_ignoreList":[0,1]}
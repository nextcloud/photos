import{Q as re,d as k,c as f,f as p,R as A,w as U,g as G,y as L,S as ae,J as oe,l as M,T as le,K as z,a as E,q as ce,F as x,W as ue,p as de,X as j,Y as pe,r as D,Z as W,P as Z,o as fe}from"./preload-helper-3AjuMuUS.chunk.mjs";import{Z as g,_ as v,i as me,s as $,O as Y,C as K,j as J,x as he}from"./index-gMNm7ohC.chunk.mjs";import{s as ve,f as ye}from"./index-yAeEl58F.chunk.mjs";import{N as Q}from"./NcCheckboxRadioSwitch-DAPHFb0L-C9OROJHU.chunk.mjs";import{N as ge}from"./NcDateTime-enXYuwj8-D4J7Fl4q.chunk.mjs";import{E as _e}from"./index-ClQEQNgz.chunk.mjs";import{f as we,N as be,a as Ce,b as ke}from"./NcBreadcrumbs-BPfsSByZ-DW-Fn_3B.chunk.mjs";import{N as Se}from"./NcSelect-DTniMiUS-XMMR2P9B.chunk.mjs";import{N as Fe}from"./NcTextField-CfZknuqx-Byt57ojb.chunk.mjs";import{N as Ne}from"./NcEmptyContent-D8596OTl.chunk.mjs";import"./useModelMigration-EhAWvqDD-kTTXbVGW.chunk.mjs";import"./useFormatDateTime-BO3rjD6c.chunk.mjs";import"./NcActionButton-DykQxmXJ-C3Q_TP_S.chunk.mjs";import"./index-Bd0suSUq.chunk.mjs";import"./NcAvatar-D5nljVEA-BYg5Fe2z.chunk.mjs";import"./useIsMobile-CObDjo05.chunk.mjs";import"./createElementId-DhjFt1I9-B2HCdIOx.chunk.mjs";function T(t,i,e){const s=`#initial-state-${t}-${i}`;if(window._nc_initial_state?.has(s))return window._nc_initial_state.get(s);window._nc_initial_state||(window._nc_initial_state=new Map);const n=document.querySelector(s);if(n===null)return e;try{const r=JSON.parse(atob(n.value));return window._nc_initial_state.set(s,r),r}catch(r){return console.error("[@nextcloud/initial-state] Could not parse initial state",{key:i,app:t,error:r}),e}}function X(){return T("files_sharing","isPublic",null)??document.querySelector('input#isPublic[type="hidden"][name="isPublic"][value="1"]')!==null}function V(t){return typeof t=="function"?t():re(t)}typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;var O="M15,14C12.33,14 7,15.33 7,18V20H23V18C23,15.33 17.67,14 15,14M6,10V7H4V10H1V12H4V15H6V12H9V10M15,12A4,4 0 0,0 19,8A4,4 0 0,0 15,4A4,4 0 0,0 11,8A4,4 0 0,0 15,12Z",Ve="M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M16.2,16.2L11,13V7H12.5V12.2L17,14.9L16.2,16.2Z",xe="M10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6H12L10,4Z",Le="M1,1V5H2V19H1V23H5V22H19V23H23V19H22V5H23V1H19V2H5V1M5,4H19V5H20V19H19V20H5V19H4V5H5M6,6V14H9V18H18V9H14V6M8,8H12V12H8M14,11H16V16H11V14H14",Pe="M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z",Ie="M12,17A2,2 0 0,0 14,15C14,13.89 13.1,13 12,13A2,2 0 0,0 10,15A2,2 0 0,0 12,17M18,8A2,2 0 0,1 20,10V20A2,2 0 0,1 18,22H6A2,2 0 0,1 4,20V10C4,8.89 4.9,8 6,8H7V6A5,5 0 0,1 12,1A5,5 0 0,1 17,6V8H18M12,3A3,3 0 0,0 9,6V8H15V6A3,3 0 0,0 12,3Z",He="M17,3A2,2 0 0,1 19,5V15A2,2 0 0,1 17,17H13V19H14A1,1 0 0,1 15,20H22V22H15A1,1 0 0,1 14,23H10A1,1 0 0,1 9,22H2V20H9A1,1 0 0,1 10,19H11V17H7C5.89,17 5,16.1 5,15V5A2,2 0 0,1 7,3H17Z",ze="M12,17.27L18.18,21L16.54,13.97L22,9.24L14.81,8.62L12,2L9.19,8.62L2,9.24L7.45,13.97L5.82,21L12,17.27Z",Be="M5.5,7A1.5,1.5 0 0,1 4,5.5A1.5,1.5 0 0,1 5.5,4A1.5,1.5 0 0,1 7,5.5A1.5,1.5 0 0,1 5.5,7M21.41,11.58L12.41,2.58C12.05,2.22 11.55,2 11,2H4C2.89,2 2,2.89 2,4V11C2,11.55 2.22,12.05 2.59,12.41L11.58,21.41C11.95,21.77 12.45,22 13,22C13.55,22 14.05,21.77 14.41,21.41L21.41,14.41C21.78,14.05 22,13.55 22,13C22,12.44 21.77,11.94 21.41,11.58Z",B;(function(t){t[t.User=0]="User",t[t.Group=1]="Group",t[t.Link=3]="Link",t[t.Email=4]="Email",t[t.Remote=6]="Remote",t[t.Team=7]="Team",t[t.Guest=8]="Guest",t[t.RemoteGroup=9]="RemoteGroup",t[t.Room=10]="Room",t[t.Deck=12]="Deck",t[t.FederatedGroup=14]="FederatedGroup",t[t.ScienceMesh=15]="ScienceMesh"})(B||(B={}));class R extends Error{name="TimeoutError";constructor(i,e){super(i,e),Error.captureStackTrace?.(this,R)}}const q=t=>t.reason??new DOMException("This operation was aborted.","AbortError");function Ae(t,i){const{milliseconds:e,fallback:s,message:n,customTimers:r={setTimeout,clearTimeout},signal:a}=i;let l,u;const o=new Promise((m,c)=>{if(typeof e!="number"||Math.sign(e)!==1)throw new TypeError(`Expected \`milliseconds\` to be a positive number, got \`${e}\``);if(a?.aborted){c(q(a));return}if(a&&(u=()=>{c(q(a))},a.addEventListener("abort",u,{once:!0})),t.then(m,c),e===Number.POSITIVE_INFINITY)return;const w=new R;l=r.setTimeout.call(void 0,()=>{if(s){try{m(s())}catch(_){c(_)}return}typeof t.cancel=="function"&&t.cancel(),n===!1?m():n instanceof Error?c(n):(w.message=n??`Promise timed out after ${e} milliseconds`,c(w))},e)}).finally(()=>{o.clear(),u&&a&&a.removeEventListener("abort",u)});return o.clear=()=>{r.clearTimeout.call(void 0,l),l=void 0},o}function Me(t,i,e){let s=0,n=t.length;for(;n>0;){const r=Math.trunc(n/2);let a=s+r;e(t[a],i)<=0?(s=++a,n-=r+1):n=r}return s}class Ee{#t=[];enqueue(i,e){const{priority:s=0,id:n}=e??{},r={priority:s,id:n,run:i};if(this.size===0||this.#t[this.size-1].priority>=s){this.#t.push(r);return}const a=Me(this.#t,r,(l,u)=>u.priority-l.priority);this.#t.splice(a,0,r)}setPriority(i,e){const s=this.#t.findIndex(r=>r.id===i);if(s===-1)throw new ReferenceError(`No promise function with the id "${i}" exists in the queue.`);const[n]=this.#t.splice(s,1);this.enqueue(n.run,{priority:e,id:i})}dequeue(){return this.#t.shift()?.run}filter(i){return this.#t.filter(e=>e.priority===i.priority).map(e=>e.run)}get size(){return this.#t.length}}class De extends _e{#t;#s;#n=0;#f;#m=!1;#h=!1;#c;#_=0;#v=0;#r;#a;#e;#w;#i=0;#u;#o;#N=1n;#d=new Map;timeout;constructor(i){if(super(),i={carryoverIntervalCount:!1,intervalCap:Number.POSITIVE_INFINITY,interval:0,concurrency:Number.POSITIVE_INFINITY,autoStart:!0,queueClass:Ee,...i},!(typeof i.intervalCap=="number"&&i.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${i.intervalCap?.toString()??""}\` (${typeof i.intervalCap})`);if(i.interval===void 0||!(Number.isFinite(i.interval)&&i.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${i.interval?.toString()??""}\` (${typeof i.interval})`);if(this.#t=i.carryoverIntervalCount??i.carryoverConcurrencyCount??!1,this.#s=i.intervalCap===Number.POSITIVE_INFINITY||i.interval===0,this.#f=i.intervalCap,this.#c=i.interval,this.#e=new i.queueClass,this.#w=i.queueClass,this.concurrency=i.concurrency,i.timeout!==void 0&&!(Number.isFinite(i.timeout)&&i.timeout>0))throw new TypeError(`Expected \`timeout\` to be a positive finite number, got \`${i.timeout}\` (${typeof i.timeout})`);this.timeout=i.timeout,this.#o=i.autoStart===!1,this.#z()}get#V(){return this.#s||this.#n<this.#f}get#x(){return this.#i<this.#u}#L(){this.#i--,this.#i===0&&this.emit("pendingZero"),this.#y(),this.emit("next")}#P(){this.#S(),this.#k(),this.#a=void 0}get#I(){const i=Date.now();if(this.#r===void 0){const e=this.#_-i;if(e<0){if(this.#v>0){const s=i-this.#v;if(s<this.#c)return this.#b(this.#c-s),!0}this.#n=this.#t?this.#i:0}else return this.#b(e),!0}return!1}#b(i){this.#a===void 0&&(this.#a=setTimeout(()=>{this.#P()},i))}#C(){this.#r&&(clearInterval(this.#r),this.#r=void 0)}#H(){this.#a&&(clearTimeout(this.#a),this.#a=void 0)}#y(){if(this.#e.size===0)return this.#C(),this.emit("empty"),this.#i===0&&(this.#H(),this.emit("idle")),!1;let i=!1;if(!this.#o){const e=!this.#I;if(this.#V&&this.#x){const s=this.#e.dequeue();this.#s||(this.#n++,this.#p()),this.emit("active"),this.#v=Date.now(),s(),e&&this.#k(),i=!0}}return i}#k(){this.#s||this.#r!==void 0||(this.#r=setInterval(()=>{this.#S()},this.#c),this.#_=Date.now()+this.#c)}#S(){this.#n===0&&this.#i===0&&this.#r&&this.#C(),this.#n=this.#t?this.#i:0,this.#g(),this.#p()}#g(){for(;this.#y(););}get concurrency(){return this.#u}set concurrency(i){if(!(typeof i=="number"&&i>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${i}\` (${typeof i})`);this.#u=i,this.#g()}setPriority(i,e){if(typeof e!="number"||!Number.isFinite(e))throw new TypeError(`Expected \`priority\` to be a finite number, got \`${e}\` (${typeof e})`);this.#e.setPriority(i,e)}async add(i,e={}){return e.id??=(this.#N++).toString(),e={timeout:this.timeout,...e},new Promise((s,n)=>{const r=Symbol(`task-${e.id}`);this.#e.enqueue(async()=>{this.#i++,this.#d.set(r,{id:e.id,priority:e.priority??0,startTime:Date.now(),timeout:e.timeout});let a;try{try{e.signal?.throwIfAborted()}catch(o){throw this.#s||this.#n--,this.#d.delete(r),o}let l=i({signal:e.signal});if(e.timeout&&(l=Ae(Promise.resolve(l),{milliseconds:e.timeout,message:`Task timed out after ${e.timeout}ms (queue has ${this.#i} running, ${this.#e.size} waiting)`})),e.signal){const{signal:o}=e;l=Promise.race([l,new Promise((m,c)=>{a=()=>{c(o.reason)},o.addEventListener("abort",a,{once:!0})})])}const u=await l;s(u),this.emit("completed",u)}catch(l){n(l),this.emit("error",l)}finally{a&&e.signal?.removeEventListener("abort",a),this.#d.delete(r),queueMicrotask(()=>{this.#L()})}},e),this.emit("add"),this.#y()})}async addAll(i,e){return Promise.all(i.map(async s=>this.add(s,e)))}start(){return this.#o?(this.#o=!1,this.#g(),this):this}pause(){this.#o=!0}clear(){this.#e=new this.#w,this.#F()}async onEmpty(){this.#e.size!==0&&await this.#l("empty")}async onSizeLessThan(i){this.#e.size<i||await this.#l("next",()=>this.#e.size<i)}async onIdle(){this.#i===0&&this.#e.size===0||await this.#l("idle")}async onPendingZero(){this.#i!==0&&await this.#l("pendingZero")}async onRateLimit(){this.isRateLimited||await this.#l("rateLimit")}async onRateLimitCleared(){this.isRateLimited&&await this.#l("rateLimitCleared")}async onError(){return new Promise((i,e)=>{const s=n=>{this.off("error",s),e(n)};this.on("error",s)})}async#l(i,e){return new Promise(s=>{const n=()=>{e&&!e()||(this.off(i,n),s())};this.on(i,n)})}get size(){return this.#e.size}sizeBy(i){return this.#e.filter(i).length}get pending(){return this.#i}get isPaused(){return this.#o}#z(){this.#s||(this.on("add",()=>{this.#e.size>0&&this.#p()}),this.on("next",()=>{this.#p()}))}#p(){this.#s||this.#h||(this.#h=!0,queueMicrotask(()=>{this.#h=!1,this.#F()}))}#F(){const i=this.#m,e=!this.#s&&this.#n>=this.#f&&this.#e.size>0;e!==i&&(this.#m=e,this.emit(e?"rateLimit":"rateLimitCleared"))}get isRateLimited(){return this.#m}get isSaturated(){return this.#i===this.#u&&this.#e.size>0||this.isRateLimited&&this.#e.size>0}get runningTasks(){return[...this.#d.values()].map(i=>({...i}))}}const $e={name:"FileIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var Te=function(){var t=this,i=t._self._c;return i("span",t._b({staticClass:"material-design-icon file-icon",attrs:{"aria-hidden":t.title?null:"true","aria-label":t.title,role:"img"},on:{click:function(e){return t.$emit("click",e)}}},"span",t.$attrs,!1),[i("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.fillColor,width:t.size,height:t.size,viewBox:"0 0 24 24"}},[i("path",{attrs:{d:"M13,9V3.5L18.5,9M6,2C4.89,2 4,2.89 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2H6Z"}},[t.title?i("title",[t._v(t._s(t.title))]):t._e()])])])},Re=[],Ze=g($e,Te,Re,!1,null,null);const ee=Ze.exports,te=()=>{const t=T("files","config",null),i=f(t?.show_hidden??!0),e=f(t?.sort_favorites_first??!0),s=f(t?.crop_image_previews??!0);return L(async()=>{if(X())console.debug("Skip loading files settings - currently on public share");else try{const{data:n}=await Y.get(M("/apps/files/api/v1/configs"));i.value=n?.data?.show_hidden??!1,e.value=n?.data?.sort_favorites_first??!0,s.value=n?.data?.crop_image_previews??!0}catch(n){console.error("Could not load files settings",n),$(v("Could not load files settings"))}}),{showHiddenFiles:i,sortFavoritesFirst:e,cropImagePreviews:s}},Oe=t=>{const i=o=>o==="asc"?"ascending":o==="desc"?"descending":"none",e=T("files","viewConfigs",null),s=f({sortBy:e?.files?.sorting_mode??"basename",order:i(e?.files?.sorting_direction??"asc")}),n=f({sortBy:e?.recent?.sorting_mode??"basename",order:i(e?.recent?.sorting_direction??"asc")}),r=f({sortBy:e?.favorites?.sorting_mode??"basename",order:i(e?.favorites?.sorting_direction??"asc")});L(async()=>{if(X())console.debug("Skip loading files views - currently on public share");else try{const{data:o}=await Y.get(M("/apps/files/api/v1/views"));s.value={sortBy:o?.data?.files?.sorting_mode??"basename",order:i(o?.data?.files?.sorting_direction)},r.value={sortBy:o?.data?.favorites?.sorting_mode??"basename",order:i(o?.data?.favorites?.sorting_direction)},n.value={sortBy:o?.data?.recent?.sorting_mode??"basename",order:i(o?.data?.recent?.sorting_direction)}}catch(o){console.error("Could not load files views",o),$(v("Could not load files views"))}});const a=p(()=>V(t||"files")==="files"?s.value:V(t)==="recent"?n.value:r.value),l=p(()=>a.value.sortBy),u=p(()=>a.value.order);return{filesViewConfig:s,favoritesViewConfig:r,recentViewConfig:n,currentConfig:a,sortBy:l,order:u}},qe={name:"MenuUpIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var Ue=function(){var t=this,i=t._self._c;return i("span",t._b({staticClass:"material-design-icon menu-up-icon",attrs:{"aria-hidden":t.title?null:"true","aria-label":t.title,role:"img"},on:{click:function(e){return t.$emit("click",e)}}},"span",t.$attrs,!1),[i("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.fillColor,width:t.size,height:t.size,viewBox:"0 0 24 24"}},[i("path",{attrs:{d:"M7,15L12,10L17,15H7Z"}},[t.title?i("title",[t._v(t._s(t.title))]):t._e()])])])},Ge=[],je=g(qe,Ue,Ge,!1,null,null);const We=je.exports,Ye={name:"MenuDownIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var Ke=function(){var t=this,i=t._self._c;return i("span",t._b({staticClass:"material-design-icon menu-down-icon",attrs:{"aria-hidden":t.title?null:"true","aria-label":t.title,role:"img"},on:{click:function(e){return t.$emit("click",e)}}},"span",t.$attrs,!1),[i("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.fillColor,width:t.size,height:t.size,viewBox:"0 0 24 24"}},[i("path",{attrs:{d:"M7,10L12,15L17,10H7Z"}},[t.title?i("title",[t._v(t._s(t.title))]):t._e()])])])},Je=[],Qe=g(Ye,Ke,Je,!1,null,null);const Xe=Qe.exports,ie={"file-picker__file-icon":"_file-picker__file-icon_3v9zx_9","file-picker__file-icon--primary":"_file-picker__file-icon--primary_3v9zx_21","file-picker__file-icon-overlay":"_file-picker__file-icon-overlay_3v9zx_25"},et=k({__name:"LoadingTableRow",props:{showCheckbox:{type:Boolean}},setup(t){return{__sfc:!0,fileListIconStyles:ie}}});var tt=function(){var t=this,i=t._self._c,e=t._self._setupProxy;return i("tr",{staticClass:"file-picker__row loading-row",attrs:{"aria-hidden":"true"}},[t.showCheckbox?i("td",{staticClass:"row-checkbox"},[i("span")]):t._e(),i("td",{staticClass:"row-name"},[i("div",{staticClass:"row-wrapper"},[i("span",{class:e.fileListIconStyles["file-picker__file-icon"]}),i("span")])]),t._m(0),t._m(1)])},it=[function(){var t=this,i=t._self._c;return t._self._setupProxy,i("td",{staticClass:"row-size"},[i("span")])},function(){var t=this,i=t._self._c;return t._self._setupProxy,i("td",{staticClass:"row-modified"},[i("span")])}],st=g(et,tt,it,!1,null,"15187afc");const nt=st.exports,rt=new De({concurrency:5});function at(t){const{resolve:i,promise:e}=Promise.withResolvers();return rt.add(()=>{const s=new Image;return s.onerror=()=>i(!1),s.onload=()=>i(!0),s.src=t,e}),e}function ot(t,i={}){i={size:32,cropPreview:!1,mimeFallback:!0,...i};try{const e=t.attributes?.previewUrl||M("/core/preview?fileId={fileid}",{fileid:t.fileid});let s;try{s=new URL(e)}catch{s=new URL(e,window.location.origin)}return s.searchParams.set("x",`${i.size}`),s.searchParams.set("y",`${i.size}`),s.searchParams.set("mimeFallback",`${i.mimeFallback}`),s.searchParams.set("a",i.cropPreview===!0?"0":"1"),s.searchParams.set("c",`${t.attributes.etag}`),s}catch{return null}}const lt=(t,i)=>{const e=f(null),s=f(!1);return fe(()=>{s.value=!1,e.value=ot(V(t),V(i||{})),e.value&&V(t).type===x.File&&at(e.value.href).then(n=>{s.value=n})}),{previewURL:e,previewLoaded:s}},ct={name:"FolderIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var ut=function(){var t=this,i=t._self._c;return i("span",t._b({staticClass:"material-design-icon folder-icon",attrs:{"aria-hidden":t.title?null:"true","aria-label":t.title,role:"img"},on:{click:function(e){return t.$emit("click",e)}}},"span",t.$attrs,!1),[i("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.fillColor,width:t.size,height:t.size,viewBox:"0 0 24 24"}},[i("path",{attrs:{d:"M10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6H12L10,4Z"}},[t.title?i("title",[t._v(t._s(t.title))]):t._e()])])])},dt=[],pt=g(ct,ut,dt,!1,null,null);const se=pt.exports,ft={name:"FilePreview"},mt=k({...ft,props:{node:null,cropImagePreviews:{type:Boolean}},setup(t){const i=t,e=f(ie),{previewURL:s,previewLoaded:n}=lt(G(i,"node"),p(()=>({cropPreview:i.cropImagePreviews}))),r=p(()=>i.node.type===x.File),a=p(()=>{if(i.node.type!==x.Folder)return null;if(i.node.attributes?.["is-encrypted"]===1)return Ie;if(i.node.attributes?.["is-tag"])return Be;const l=Object.values(i.node.attributes?.["share-types"]||{}).flat();if(l.some(u=>u===B.Link||u===B.Email))return Pe;if(l.length>0)return O;switch(i.node.attributes?.["mount-type"]){case"external":case"external-session":return He;case"group":return Le;case"shared":return O}return null});return{__sfc:!0,fileListIconStyles:e,props:i,previewURL:s,previewLoaded:n,isFile:r,folderDecorationIcon:a,NcIconSvgWrapper:K,IconFile:ee,IconFolder:se}}});var ht=function(){var t=this,i=t._self._c,e=t._self._setupProxy;return i("div",{class:e.fileListIconStyles["file-picker__file-icon"],style:e.previewLoaded?{backgroundImage:`url(${e.previewURL})`}:void 0},[e.previewLoaded?t._e():[e.isFile?i(e.IconFile,{attrs:{size:32}}):[e.folderDecorationIcon?i(e.NcIconSvgWrapper,{class:e.fileListIconStyles["file-picker__file-icon-overlay"],attrs:{inline:"",path:e.folderDecorationIcon,size:16}}):t._e(),i(e.IconFolder,{class:e.fileListIconStyles["file-picker__file-icon--primary"],attrs:{size:32}})]]],2)},vt=[],yt=g(mt,ht,vt,!1,null,null);const gt=yt.exports,_t=k({__name:"FileListRow",props:{allowPickDirectory:{type:Boolean},selected:{type:Boolean},showCheckbox:{type:Boolean},canPick:{type:Boolean},node:null,cropImagePreviews:{type:Boolean}},emits:["update:selected","enter-directory"],setup(t,{emit:i}){const e=t,s=p(()=>e.node.attributes?.displayName||e.node.basename.slice(0,e.node.extension?-e.node.extension.length:void 0)),n=p(()=>e.node.extension),r=p(()=>e.node.type===x.Folder),a=p(()=>e.canPick&&(e.allowPickDirectory||!r.value)),l=p(()=>(e.node.permissions&Z.READ)===Z.READ);function u(){a.value&&i("update:selected",!e.selected)}function o(){r.value?l.value&&i("enter-directory",e.node):u()}function m(c){c.key==="Enter"&&o()}return{__sfc:!0,props:e,emit:i,displayName:s,fileExtension:n,isDirectory:r,isPickable:a,isNavigatable:l,toggleSelected:u,handleClick:o,handleKeyDown:m,formatFileSize:ye,NcCheckboxRadioSwitch:Q,NcDateTime:ge,t:v,FilePreview:gt}}});var wt=function(){var t=this,i=t._self._c,e=t._self._setupProxy;return i("tr",t._g({class:["file-picker__row",{"file-picker__row--selected":t.selected&&!t.showCheckbox,"file-picker__row--not-navigatable":e.isDirectory&&!e.isNavigatable,"file-picker__row--not-pickable":!e.isPickable}],attrs:{tabindex:t.showCheckbox&&!e.isDirectory?void 0:0,"aria-selected":e.isPickable?t.selected:void 0,"data-filename":t.node.basename,"data-testid":"file-list-row"}},{click:e.handleClick,...!t.showCheckbox||e.isDirectory?{keydown:e.handleKeyDown}:{}}),[t.showCheckbox?i("td",{staticClass:"row-checkbox",on:{click:function(s){return s.stopPropagation(),(()=>{}).apply(null,arguments)}}},[i(e.NcCheckboxRadioSwitch,{attrs:{"aria-label":e.t("Select the row for {nodename}",{nodename:e.displayName}),disabled:!e.isPickable,"data-testid":"row-checkbox","model-value":t.selected},on:{"update:model-value":e.toggleSelected}})],1):t._e(),i("td",{staticClass:"row-name"},[i("div",{staticClass:"file-picker__name-container",attrs:{"data-testid":"row-name"}},[i(e.FilePreview,{attrs:{node:t.node,"crop-image-previews":t.cropImagePreviews}}),i("div",{staticClass:"file-picker__file-name",attrs:{title:e.displayName},domProps:{textContent:t._s(e.displayName)}}),i("div",{staticClass:"file-picker__file-extension",domProps:{textContent:t._s(e.fileExtension)}})],1)]),i("td",{staticClass:"row-size"},[t._v(" "+t._s(e.formatFileSize(t.node.size||0))+" ")]),i("td",{staticClass:"row-modified"},[i(e.NcDateTime,{attrs:{timestamp:t.node.mtime,"ignore-seconds":!0}})],1)])},bt=[],Ct=g(_t,wt,bt,!1,null,"ba4db9f8");const kt=Ct.exports,St=k({__name:"FileList",props:{currentView:null,multiselect:{type:Boolean},allowPickDirectory:{type:Boolean},loading:{type:Boolean},files:null,canPick:null,selectedFiles:null,path:null},emits:["update:path","update:selectedFiles"],setup(t,{emit:i}){const e=t,s=f(),{currentConfig:n}=Oe(e.currentView),r=p(()=>s.value??n.value),a=p(()=>r.value.sortBy==="basename"?r.value.order==="none"?void 0:r.value.order:void 0),l=p(()=>r.value.sortBy==="size"?r.value.order==="none"?void 0:r.value.order:void 0),u=p(()=>r.value.sortBy==="mtime"?r.value.order==="none"?void 0:r.value.order:void 0),o=y=>{r.value.sortBy===y?r.value.order==="ascending"?s.value={sortBy:r.value.sortBy,order:"descending"}:s.value={sortBy:r.value.sortBy,order:"ascending"}:s.value={sortBy:y,order:"ascending"}},{sortFavoritesFirst:m,cropImagePreviews:c}=te(),w=p(()=>ve(e.files,{sortFoldersFirst:!0,sortFavoritesFirst:m.value,sortingOrder:r.value.order==="descending"?"desc":"asc",sortingMode:r.value.sortBy})),_=p(()=>e.files.filter(y=>e.allowPickDirectory||y.type!==x.Folder)),P=p(()=>!e.loading&&e.selectedFiles.length>0&&e.selectedFiles.length>=_.value.length);function S(){e.selectedFiles.length<_.value.length?i("update:selectedFiles",_.value):i("update:selectedFiles",[])}function F(y){e.selectedFiles.includes(y)?i("update:selectedFiles",e.selectedFiles.filter(C=>C.path!==y.path)):e.multiselect?i("update:selectedFiles",[...e.selectedFiles,y]):i("update:selectedFiles",[y])}function I(y){i("update:path",y.path)}const N=f(4),b=f();{const y=()=>ue(()=>{const C=b.value?.parentElement?.children||[];let H=b.value?.parentElement?.clientHeight||450;for(let d=0;d<C.length;d++)b.value?.isSameNode(C[d])||(H-=C[d].clientHeight);N.value=Math.max(1,Math.floor((H-50)/50))});L(()=>{window.addEventListener("resize",y),y()}),de(()=>{window.removeEventListener("resize",y)})}return{__sfc:!0,props:e,emit:i,customSortingConfig:s,filesAppSorting:n,sortingConfig:r,sortByName:a,sortBySize:l,sortByModified:u,toggleSorting:o,sortFavoritesFirst:m,cropImagePreviews:c,sortedFiles:w,selectableFiles:_,allSelected:P,onSelectAll:S,onNodeSelected:F,onChangeDirectory:I,skeletonNumber:N,fileContainer:b,NcButton:J,NcCheckboxRadioSwitch:Q,t:v,IconSortAscending:We,IconSortDescending:Xe,LoadingTableRow:nt,FileListRow:kt}}});var Ft=function(){var t=this,i=t._self._c,e=t._self._setupProxy;return i("div",{ref:"fileContainer",staticClass:"file-picker__files"},[i("table",[i("thead",[i("tr",[t.multiselect?i("th",{staticClass:"row-checkbox"},[i("span",{staticClass:"hidden-visually"},[t._v(" "+t._s(e.t("Select entry"))+" ")]),t.multiselect?i(e.NcCheckboxRadioSwitch,{attrs:{"aria-label":e.t("Select all entries"),"data-testid":"select-all-checkbox","model-value":e.allSelected},on:{"update:model-value":e.onSelectAll}}):t._e()],1):t._e(),i("th",{staticClass:"row-name",attrs:{"aria-sort":e.sortByName}},[i("div",{staticClass:"header-wrapper"},[i("span",{staticClass:"file-picker__header-preview"}),i(e.NcButton,{attrs:{wide:!0,type:"tertiary","data-test":"file-picker_sort-name"},on:{click:function(s){return e.toggleSorting("basename")}},scopedSlots:t._u([{key:"icon",fn:function(){return[e.sortByName==="ascending"?i(e.IconSortAscending,{attrs:{size:20}}):e.sortByName==="descending"?i(e.IconSortDescending,{attrs:{size:20}}):i("span",{staticStyle:{width:"44px"}})]},proxy:!0}])},[t._v(" "+t._s(e.t("Name"))+" ")])],1)]),i("th",{staticClass:"row-size",attrs:{"aria-sort":e.sortBySize}},[i(e.NcButton,{attrs:{wide:!0,type:"tertiary"},on:{click:function(s){return e.toggleSorting("size")}},scopedSlots:t._u([{key:"icon",fn:function(){return[e.sortBySize==="ascending"?i(e.IconSortAscending,{attrs:{size:20}}):e.sortBySize==="descending"?i(e.IconSortDescending,{attrs:{size:20}}):i("span",{staticStyle:{width:"44px"}})]},proxy:!0}])},[t._v(" "+t._s(e.t("Size"))+" ")])],1),i("th",{staticClass:"row-modified",attrs:{"aria-sort":e.sortByModified}},[i(e.NcButton,{attrs:{wide:!0,type:"tertiary"},on:{click:function(s){return e.toggleSorting("mtime")}},scopedSlots:t._u([{key:"icon",fn:function(){return[e.sortByModified==="ascending"?i(e.IconSortAscending,{attrs:{size:20}}):e.sortByModified==="descending"?i(e.IconSortDescending,{attrs:{size:20}}):i("span",{staticStyle:{width:"44px"}})]},proxy:!0}])},[t._v(" "+t._s(e.t("Modified"))+" ")])],1)])]),i("tbody",[t.loading?t._l(e.skeletonNumber,function(s){return i(e.LoadingTableRow,{key:s,attrs:{"show-checkbox":t.multiselect}})}):t._l(e.sortedFiles,function(s){return i(e.FileListRow,{key:s.fileid||s.path,attrs:{"allow-pick-directory":t.allowPickDirectory,"show-checkbox":t.multiselect,"can-pick":(t.multiselect||t.selectedFiles.length===0||t.selectedFiles.includes(s))&&(t.canPick===void 0||t.canPick(s)),selected:t.selectedFiles.includes(s),node:s,"crop-image-previews":e.cropImagePreviews},on:{"update:selected":function(n){return e.onNodeSelected(s)},"enter-directory":e.onChangeDirectory}})})],2)])])},Nt=[],Vt=g(St,Ft,Nt,!1,null,"6503afab");const xt=Vt.exports,Lt={name:"HomeIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var Pt=function(){var t=this,i=t._self._c;return i("span",t._b({staticClass:"material-design-icon home-icon",attrs:{"aria-hidden":t.title?null:"true","aria-label":t.title,role:"img"},on:{click:function(e){return t.$emit("click",e)}}},"span",t.$attrs,!1),[i("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.fillColor,width:t.size,height:t.size,viewBox:"0 0 24 24"}},[i("path",{attrs:{d:"M10,20V14H14V20H19V12H22L12,3L2,12H5V20H10Z"}},[t.title?i("title",[t._v(t._s(t.title))]):t._e()])])])},It=[],Ht=g(Lt,Pt,It,!1,null,null);const zt=Ht.exports,Bt={name:"PlusIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var At=function(){var t=this,i=t._self._c;return i("span",t._b({staticClass:"material-design-icon plus-icon",attrs:{"aria-hidden":t.title?null:"true","aria-label":t.title,role:"img"},on:{click:function(e){return t.$emit("click",e)}}},"span",t.$attrs,!1),[i("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.fillColor,width:t.size,height:t.size,viewBox:"0 0 24 24"}},[i("path",{attrs:{d:"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z"}},[t.title?i("title",[t._v(t._s(t.title))]):t._e()])])])},Mt=[],Et=g(Bt,At,Mt,!1,null,null);const Dt=Et.exports,$t=k({__name:"FilePickerBreadcrumbs",props:{path:null,showMenu:{type:Boolean}},emits:["update:path","create-node"],setup(t,{emit:i}){const e=t,s=f(!1),n=f(""),r=f();function a(){const o=n.value.trim(),m=r.value?.$el?.querySelector("input");let c="";return o.length===0?c=v("Folder name cannot be empty."):o.includes("/")?c=v('"/" is not allowed inside a folder name.'):["..","."].includes(o)?c=v('"{name}" is an invalid folder name.',{name:o}):window.OC.config?.blacklist_files_regex&&o.match(window.OC.config?.blacklist_files_regex)&&(c=v('"{name}" is not an allowed folder name',{name:o})),m&&m.setCustomValidity(c),c===""}const l=function(){const o=n.value.trim();a()&&(s.value=!1,i("create-node",o),n.value="")},u=p(()=>e.path.split("/").filter(o=>o!=="").map((o,m,c)=>({name:o,path:"/"+c.slice(0,m+1).join("/")})));return{__sfc:!0,props:e,emit:i,actionsOpen:s,newNodeName:n,nameInput:r,validateInput:a,onSubmit:l,pathElements:u,IconFolder:se,IconHome:zt,IconPlus:Dt,NcActions:he,NcActionInput:ke,NcBreadcrumbs:Ce,NcBreadcrumb:be,t:v}}});var Tt=function(){var t=this,i=t._self._c,e=t._self._setupProxy;return i(e.NcBreadcrumbs,{staticClass:"file-picker__breadcrumbs",scopedSlots:t._u([{key:"default",fn:function(){return[i(e.NcBreadcrumb,{attrs:{name:e.t("All files"),title:e.t("Home")},on:{click:function(s){return e.emit("update:path","/")}},scopedSlots:t._u([{key:"icon",fn:function(){return[i(e.IconHome,{attrs:{size:20}})]},proxy:!0}])}),t._l(e.pathElements,function(s){return i(e.NcBreadcrumb,{key:s.path,attrs:{name:s.name,title:s.path},on:{click:function(n){return e.emit("update:path",s.path)}}})})]},proxy:!0},t.showMenu?{key:"actions",fn:function(){return[i(e.NcActions,{attrs:{open:e.actionsOpen,"aria-label":e.t("Create directory"),"force-menu":!0,"force-name":!0,"menu-name":e.t("New"),type:"secondary"},on:{"update:open":function(s){e.actionsOpen=s},close:function(s){e.newNodeName=""}},scopedSlots:t._u([{key:"icon",fn:function(){return[i(e.IconPlus,{attrs:{size:20}})]},proxy:!0}],null,!1,2971667417)},[i(e.NcActionInput,{ref:"nameInput",attrs:{value:e.newNodeName,label:e.t("New folder"),placeholder:e.t("New folder name")},on:{"update:value":function(s){e.newNodeName=s},submit:e.onSubmit,"update:model-value":e.validateInput},scopedSlots:t._u([{key:"icon",fn:function(){return[i(e.IconFolder,{attrs:{size:20}})]},proxy:!0}],null,!1,1614167509)})],1)]},proxy:!0}:null],null,!0)})},Rt=[],Zt=g($t,Tt,Rt,!1,null,"ec4d392b");const Ot=Zt.exports,qt={name:"CloseIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var Ut=function(){var t=this,i=t._self._c;return i("span",t._b({staticClass:"material-design-icon close-icon",attrs:{"aria-hidden":t.title?null:"true","aria-label":t.title,role:"img"},on:{click:function(e){return t.$emit("click",e)}}},"span",t.$attrs,!1),[i("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.fillColor,width:t.size,height:t.size,viewBox:"0 0 24 24"}},[i("path",{attrs:{d:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"}},[t.title?i("title",[t._v(t._s(t.title))]):t._e()])])])},Gt=[],jt=g(qt,Ut,Gt,!1,null,null);const Wt=jt.exports,Yt={name:"MagnifyIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var Kt=function(){var t=this,i=t._self._c;return i("span",t._b({staticClass:"material-design-icon magnify-icon",attrs:{"aria-hidden":t.title?null:"true","aria-label":t.title,role:"img"},on:{click:function(e){return t.$emit("click",e)}}},"span",t.$attrs,!1),[i("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.fillColor,width:t.size,height:t.size,viewBox:"0 0 24 24"}},[i("path",{attrs:{d:"M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z"}},[t.title?i("title",[t._v(t._s(t.title))]):t._e()])])])},Jt=[],Qt=g(Yt,Kt,Jt,!1,null,null);const Xt=Qt.exports,ei=t=>{const i=[{id:"files",label:v("All files"),icon:xe},{id:"recent",label:v("Recent"),icon:Ve},{id:"favorites",label:v("Favorites"),icon:ze}],e=t.value?i.filter(({id:s})=>s==="files"):i;return{allViews:i,availableViews:e}},ti=k({__name:"FilePickerNavigation",props:{currentView:null,filterString:null,isCollapsed:{type:Boolean},disabledNavigation:{type:Boolean}},emits:["update:currentView","update:filterString"],setup(t,{emit:i}){const e=t,{availableViews:s}=ei(f(ce()===null)),n=p(()=>s.filter(r=>r.id===e.currentView)[0]??s[0]);return{__sfc:!0,props:e,emit:i,availableViews:s,currentViewObject:n,updateFilterValue:r=>i("update:filterString",r),IconClose:Wt,IconMagnify:Xt,NcButton:J,NcIconSvgWrapper:K,NcSelect:Se,NcTextField:Fe,Fragment:we,t:v}}});var ii=function(){var t=this,i=t._self._c,e=t._self._setupProxy;return i(e.Fragment,[i(e.NcTextField,{staticClass:"file-picker__filter-input",attrs:{label:e.t("Filter file list"),"show-trailing-button":!!t.filterString,"model-value":t.filterString},on:{"update:model-value":e.updateFilterValue,"trailing-button-click":function(s){return e.updateFilterValue("")}},scopedSlots:t._u([{key:"trailing-button-icon",fn:function(){return[i(e.IconClose,{attrs:{size:16}})]},proxy:!0}])},[i(e.IconMagnify,{attrs:{size:16}})],1),e.availableViews.length>1&&!t.disabledNavigation?[t.isCollapsed?i(e.NcSelect,{attrs:{"aria-label":e.t("Current view selector"),clearable:!1,searchable:!1,options:e.availableViews,"model-value":e.currentViewObject},on:{"update:model-value":function(s){return e.emit("update:currentView",s.id)}}}):i("ul",{staticClass:"file-picker__side"},t._l(e.availableViews,function(s){return i("li",{key:s.id},[i(e.NcButton,{attrs:{type:t.currentView===s.id?"primary":"tertiary",wide:!0},on:{click:function(n){return t.$emit("update:currentView",s.id)}},scopedSlots:t._u([{key:"icon",fn:function(){return[i(e.NcIconSvgWrapper,{attrs:{path:s.icon,size:20}})]},proxy:!0}],null,!0)},[t._v(" "+t._s(s.label)+" ")])],1)}),0)]:t._e()],2)},si=[],ni=g(ti,ii,si,!1,null,"f5975252");const ri=ni.exports;function ai(t){const i=new AbortController,e=Math.round(Date.now()/1e3)-60*60*24*14;return new j(async(s,n,r)=>{r(()=>i.abort());try{const{data:a}=await t.search("/",{signal:i.signal,details:!0,data:pe(e)}),l=a.results.map(u=>D(u));s(l)}catch(a){n(a)}})}function oi(t,i){const e=new AbortController;return new j(async(s,n,r)=>{r(()=>e.abort());try{const a=(await t.getDirectoryContents(z.join(E,i),{signal:e.signal,details:!0,includeSelf:!0,data:W()})).data.map(l=>D(l));s({contents:a.filter(({path:l})=>l!==i),folder:a.find(({path:l})=>l===i)})}catch(a){n(a)}})}async function li(t,i){const{data:e}=await t.stat(z.join(E,i),{details:!0,data:W()});return D(e)}const ci=function(t,i){const e=oe(),s=A([]),n=A(null),r=f(!0),a=f(null);async function l(o){const m=z.join(i.value,o);await e.createDirectory(z.join(E,m));const c=await li(e,m);return s.value=[...s.value,c],c}async function u(){a.value&&a.value.cancel(),r.value=!0,t.value==="favorites"?a.value=le(e,i.value):t.value==="recent"?a.value=ai(e):a.value=oi(e,i.value);const o=await a.value;"folder"in o?(n.value=o.folder,s.value=o.contents):(n.value=null,s.value=o),a.value=null,r.value=!1}return U([t,i],()=>u()),L(()=>u()),{isLoading:r,files:s,folder:n,loadFiles:u,createDirectory:l}},ui=function(t){const i=p(()=>t.value.map(e=>e.split("/")));return{isSupportedMimeType:e=>{const s=e.split("/");return i.value.some(([n,r])=>(s[0]===n||n==="*")&&(s[1]===r||r==="*"))}}},di={name:"FilePicker"},pi=k({...di,props:{buttons:null,name:null,allowPickDirectory:{type:Boolean,default:!1},disabledNavigation:{type:Boolean,default:!1},container:{default:"body"},filterFn:{default:void 0},canPickFn:{default:void 0},mimetypeFilter:{default:()=>[]},multiselect:{type:Boolean,default:!0},path:{default:void 0}},emits:["close"],setup(t,{emit:i}){const e=t,s=f(!0),n=p(()=>{const d=o.value.length===0&&e.allowPickDirectory&&F.value?[F.value]:o.value;return(typeof e.buttons=="function"?e.buttons(d,w.value,l.value):e.buttons).map(h=>({...h,disabled:h.disabled||I.value,callback:()=>{r=!0,a(h.callback,d)}}))});let r=!1;const a=async(d,h)=>{d(h),i("close",h),r=!1},l=f("files"),u=p(()=>l.value==="favorites"?v("Favorites"):l.value==="recent"?v("Recent"):""),o=A([]),m=f(window?.sessionStorage.getItem("NC.FilePicker.LastPath")||"/"),c=f("");U([c],()=>{e.path===void 0&&c.value&&window.sessionStorage.setItem("NC.FilePicker.LastPath",c.value),o.value=[]});const w=p({get:()=>l.value==="files"?c.value||e.path||m.value:"/",set:d=>{c.value=d}}),_=f(""),{isSupportedMimeType:P}=ui(G(e,"mimetypeFilter")),{files:S,folder:F,isLoading:I,loadFiles:N,createDirectory:b}=ci(l,w);L(()=>N());const{showHiddenFiles:y}=te(),C=p(()=>{let d=S.value;return y.value||(d=d.filter(h=>!h.basename.startsWith("."))),e.mimetypeFilter.length>0&&(d=d.filter(h=>h.type==="folder"||h.mime&&P(h.mime))),_.value&&(d=d.filter(h=>h.basename.toLowerCase().includes(_.value.toLowerCase()))),e.filterFn&&(d=d.filter(h=>e.filterFn(h))),d}),H=p(()=>l.value==="files"?v("Upload some content or sync with your devices!"):l.value==="recent"?v("Files and folders you recently modified will show up here."):v("Files and folders you mark as favorite will show up here."));return{__sfc:!0,props:e,emit:i,isOpen:s,dialogButtons:n,isHandlingCallback:r,handleButtonClick:a,currentView:l,viewHeadline:u,selectedFiles:o,savedPath:m,navigatedPath:c,currentPath:w,filterString:_,isSupportedMimeType:P,files:S,currentFolder:F,isLoading:I,loadFiles:N,createDirectory:b,showHiddenFiles:y,filteredFiles:C,noFilesDescription:H,onCreateFolder:async d=>{try{const h=await b(d);c.value=h.path,ae("files:node:created",S.value.filter(ne=>ne.basename===d)[0])}catch(h){console.warn("Could not create new folder",{name:d,error:h}),$(v("Could not create the new folder"))}},handleClose:d=>{!d&&!r&&i("close")},IconFile:ee,FileList:xt,FilePickerBreadcrumbs:Ot,FilePickerNavigation:ri,NcDialog:me,NcEmptyContent:Ne,t:v}}});var fi=function(){var t=this,i=t._self._c,e=t._self._setupProxy;return i(e.NcDialog,{attrs:{open:e.isOpen,container:t.container,buttons:e.dialogButtons,name:t.name,size:"large","content-classes":"file-picker__content","dialog-classes":"file-picker","navigation-classes":"file-picker__navigation"},on:{"update:open":[function(s){e.isOpen=s},e.handleClose]},scopedSlots:t._u([{key:"navigation",fn:function({isCollapsed:s}){return[i(e.FilePickerNavigation,{attrs:{"current-view":e.currentView,"filter-string":e.filterString,"is-collapsed":s,"disabled-navigation":t.disabledNavigation},on:{"update:currentView":function(n){e.currentView=n},"update:current-view":function(n){e.currentView=n},"update:filterString":function(n){e.filterString=n},"update:filter-string":function(n){e.filterString=n}}})]}}])},[i("div",{staticClass:"file-picker__main"},[e.currentView==="files"?i(e.FilePickerBreadcrumbs,{attrs:{path:e.currentPath,"show-menu":t.allowPickDirectory},on:{"update:path":function(s){e.currentPath=s},"create-node":e.onCreateFolder}}):i("div",{staticClass:"file-picker__view"},[i("h3",[t._v(t._s(e.viewHeadline))])]),e.isLoading||e.filteredFiles.length>0?i(e.FileList,{attrs:{path:e.currentPath,"selected-files":e.selectedFiles,"allow-pick-directory":t.allowPickDirectory,"current-view":e.currentView,files:e.filteredFiles,multiselect:t.multiselect,loading:e.isLoading,name:e.viewHeadline,"can-pick":t.canPickFn},on:{"update:path":[function(s){e.currentPath=s},function(s){e.currentView="files"}],"update:selectedFiles":function(s){e.selectedFiles=s},"update:selected-files":function(s){e.selectedFiles=s}}}):e.filterString?i(e.NcEmptyContent,{attrs:{name:e.t("No matching files"),description:e.t("No files matching your filter were found.")},scopedSlots:t._u([{key:"icon",fn:function(){return[i(e.IconFile)]},proxy:!0}])}):i(e.NcEmptyContent,{attrs:{name:e.t("No files in here"),description:e.noFilesDescription},scopedSlots:t._u([{key:"icon",fn:function(){return[i(e.IconFile)]},proxy:!0}])})],1)])},mi=[],hi=g(pi,fi,mi,!1,null,"dda9b42b");const zi=hi.exports;export{zi as default};
//# sourceMappingURL=FilePicker-lO8J1a0C-CnYrW4AJ.chunk.mjs.map

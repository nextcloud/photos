{"version":3,"file":"FilesByMonthMixin-AkjqRtVI.chunk.mjs","sources":["../src/mixins/FilesByMonthMixin.ts"],"sourcesContent":["/**\n * SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport type { PhotoFile } from '../store/files.ts'\n\nimport { defineComponent } from 'vue'\n\nexport default defineComponent({\n\tname: 'FilesByMonthMixin',\n\n\tcomputed: {\n\t\tfileIdsByMonth(): Record<string, string[]> {\n\t\t\tconst filesByMonth = {}\n\t\t\tfor (const fileId of (this.fetchedFileIds as number[])) {\n\t\t\t\tconst file = (this.files as Record<string, PhotoFile>)[fileId]\n\t\t\t\tif (file) {\n\t\t\t\t\tfilesByMonth[file.attributes.month] = filesByMonth[file.attributes.month] ?? []\n\t\t\t\t\tfilesByMonth[file.attributes.month].push(file.fileid)\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Sort files in sections.\n\t\t\tObject.keys(filesByMonth)\n\t\t\t\t.forEach((month) => filesByMonth[month].sort(this.sortFilesByTimestamp))\n\n\t\t\treturn filesByMonth\n\t\t},\n\n\t\tmonthsList(): string[] {\n\t\t\treturn Object\n\t\t\t\t.keys(this.fileIdsByMonth)\n\t\t\t\t.sort((month1, month2) => month1 > month2 ? -1 : 1)\n\t\t},\n\t},\n\n\tmethods: {\n\t\tsortFilesByTimestamp(fileId1: string, fileId2: string): -1 | 1 {\n\t\t\treturn (this.files as Record<string, PhotoFile>)[fileId1].attributes.timestamp > (this.files as Record<string, PhotoFile>)[fileId2].attributes.timestamp ? -1 : 1\n\t\t},\n\t},\n})\n"],"names":[],"mappings":";;;AASA,MAAA,oBAAe,gBAAgB;AAAA,EAC9B,MAAM;AAAA,EAEN,UAAU;AAAA,IACT,iBAA2C;AAC1C,YAAM,eAAe,CAAC;AACX,iBAAA,UAAW,KAAK,gBAA6B;AACjD,cAAA,OAAQ,KAAK,MAAoC,MAAM;AAC7D,YAAI,MAAM;AACI,uBAAA,KAAK,WAAW,KAAK,IAAI,aAAa,KAAK,WAAW,KAAK,KAAK,CAAC;AAC9E,uBAAa,KAAK,WAAW,KAAK,EAAE,KAAK,KAAK,MAAM;AAAA,QAAA;AAAA,MACrD;AAID,aAAO,KAAK,YAAY,EACtB,QAAQ,CAAC,UAAU,aAAa,KAAK,EAAE,KAAK,KAAK,oBAAoB,CAAC;AAEjE,aAAA;AAAA,IACR;AAAA,IAEA,aAAuB;AACtB,aAAO,OACL,KAAK,KAAK,cAAc,EACxB,KAAK,CAAC,QAAQ,WAAW,SAAS,SAAS,KAAK,CAAC;AAAA,IAAA;AAAA,EAErD;AAAA,EAEA,SAAS;AAAA,IACR,qBAAqB,SAAiB,SAAyB;AAC9D,aAAQ,KAAK,MAAoC,OAAO,EAAE,WAAW,YAAa,KAAK,MAAoC,OAAO,EAAE,WAAW,YAAY,KAAK;AAAA,IAAA;AAAA,EACjK;AAEF,CAAC;"}
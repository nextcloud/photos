{"version":3,"file":"FilesByMonthMixin-BmZxTSkI.chunk.mjs","sources":["../src/mixins/FilesByMonthMixin.ts"],"sourcesContent":["/**\n * SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport type { PhotoFile } from '../store/files.ts'\n\nimport { defineComponent } from 'vue'\n\nexport default defineComponent({\n\tname: 'FilesByMonthMixin',\n\n\tcomputed: {\n\t\tfileIdsByMonth(): Record<string, string[]> {\n\t\t\tconst filesByMonth = {}\n\t\t\tfor (const fileId of (this.fetchedFileIds as number[])) {\n\t\t\t\tconst file = (this.files as Record<string, PhotoFile>)[fileId]\n\t\t\t\tif (file) {\n\t\t\t\t\tfilesByMonth[file.attributes.month] = filesByMonth[file.attributes.month] ?? []\n\t\t\t\t\tfilesByMonth[file.attributes.month].push(file.fileid)\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Sort files in sections.\n\t\t\tObject.keys(filesByMonth)\n\t\t\t\t.forEach((month) => filesByMonth[month].sort(this.sortFilesByTimestamp))\n\n\t\t\treturn filesByMonth\n\t\t},\n\n\t\tmonthsList(): string[] {\n\t\t\treturn Object\n\t\t\t\t.keys(this.fileIdsByMonth)\n\t\t\t\t.sort((month1, month2) => month1 > month2 ? -1 : 1)\n\t\t},\n\t},\n\n\tmethods: {\n\t\tsortFilesByTimestamp(fileId1: string, fileId2: string): -1 | 1 {\n\t\t\treturn (this.files as Record<string, PhotoFile>)[fileId1].attributes.timestamp > (this.files as Record<string, PhotoFile>)[fileId2].attributes.timestamp ? -1 : 1\n\t\t},\n\t},\n})\n"],"names":["FilesByMonthMixin","defineComponent","filesByMonth","fileId","file","month","month1","month2","fileId1","fileId2"],"mappings":"yDASA,MAAAA,EAAeC,EAAgB,CAC9B,KAAM,oBAEN,SAAU,CACT,gBAA2C,CAC1C,MAAMC,EAAe,CAAC,EACX,UAAAC,KAAW,KAAK,eAA6B,CACjD,MAAAC,EAAQ,KAAK,MAAoCD,CAAM,EACzDC,IACUF,EAAAE,EAAK,WAAW,KAAK,EAAIF,EAAaE,EAAK,WAAW,KAAK,GAAK,CAAC,EAC9EF,EAAaE,EAAK,WAAW,KAAK,EAAE,KAAKA,EAAK,MAAM,EACrD,CAID,OAAO,OAAA,KAAKF,CAAY,EACtB,QAASG,GAAUH,EAAaG,CAAK,EAAE,KAAK,KAAK,oBAAoB,CAAC,EAEjEH,CACR,EAEA,YAAuB,CACtB,OAAO,OACL,KAAK,KAAK,cAAc,EACxB,KAAK,CAACI,EAAQC,IAAWD,EAASC,EAAS,GAAK,CAAC,CAAA,CAErD,EAEA,QAAS,CACR,qBAAqBC,EAAiBC,EAAyB,CAC9D,OAAQ,KAAK,MAAoCD,CAAO,EAAE,WAAW,UAAa,KAAK,MAAoCC,CAAO,EAAE,WAAW,UAAY,GAAK,CAAA,CACjK,CAEF,CAAC"}
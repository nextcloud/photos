import{r as m,$ as z,a as s,j as y,m as r,a0 as D,a1 as E,a2 as O,L as H,a3 as P,x as K,y as T,G as U,T as R}from"./index-C5qH3lrk.chunk.mjs";import{C as q}from"./NcSelect-QVd6uJPA-DWrs5JTh.chunk.mjs";import{A as Z,a as N}from"./video-Di3FEmjE.chunk.mjs";import{N as j}from"./NcActionButton-CD1Z-o2Y-G-PWjTEm.chunk.mjs";import{N as B}from"./NcVNodes-k6tbNlzt.chunk.mjs";import{x as F,d as G,O as Q,g as h,Q as J,e as k,R as W,V as X}from"./vue.runtime.esm-DOYee4Bn.chunk.mjs";import{d as Y}from"./index-YSCIn2G4.chunk.mjs";import{N as ee}from"./NcDialog-Bg0hY6TP-DcCANJCa.chunk.mjs";const te={name:"MenuIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var ne=function(){var e=this,t=e._self._c;return t("span",e._b({staticClass:"material-design-icon menu-icon",attrs:{"aria-hidden":e.title?null:"true","aria-label":e.title,role:"img"},on:{click:function(n){return e.$emit("click",n)}}},"span",e.$attrs,!1),[t("svg",{staticClass:"material-design-icon__svg",attrs:{fill:e.fillColor,width:e.size,height:e.size,viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z"}},[e.title?t("title",[e._v(e._s(e.title))]):e._e()])])])},ie=[],ae=s(te,ne,ie,!1,null,null);const oe=ae.exports,le={name:"MenuOpenIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var se=function(){var e=this,t=e._self._c;return t("span",e._b({staticClass:"material-design-icon menu-open-icon",attrs:{"aria-hidden":e.title?null:"true","aria-label":e.title,role:"img"},on:{click:function(n){return e.$emit("click",n)}}},"span",e.$attrs,!1),[t("svg",{staticClass:"material-design-icon__svg",attrs:{fill:e.fillColor,width:e.size,height:e.size,viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M21,15.61L19.59,17L14.58,12L19.59,7L21,8.39L17.44,12L21,15.61M3,6H16V8H3V6M3,13V11H13V13H3M3,18V16H16V18H3Z"}},[e.title?t("title",[e._v(e._s(e.title))]):e._e()])])])},re=[],ce=s(le,se,re,!1,null,null);const ue=ce.exports;m(z);const S=window.OCP?.Accessibility?.disableKeyboardShortcuts?.(),pe={name:"NcAppNavigationToggle",components:{NcButton:y,MenuIcon:oe,MenuOpenIcon:ue},props:{open:{type:Boolean,required:!0}},emits:["update:open"],setup(){return{disableKeyboardShortcuts:S}},computed:{label(){return this.open?r("Close navigation"):r("Open navigation {shortcut}",{shortcut:S?"":"[n]"}).trim()}},methods:{toggleNavigation(){this.$emit("update:open",!this.open)}}};var de=function(){var e=this,t=e._self._c;return t("div",{staticClass:"app-navigation-toggle-wrapper"},[t("NcButton",{staticClass:"app-navigation-toggle",attrs:{"aria-controls":"app-navigation-vue","aria-expanded":e.open?"true":"false","aria-keyshortcuts":e.disableKeyboardShortcuts?"":"n","aria-label":e.label,title:e.label,variant:"tertiary"},on:{click:e.toggleNavigation},scopedSlots:e._u([{key:"icon",fn:function(){return[e.open?t("MenuOpenIcon",{attrs:{size:20}}):t("MenuIcon",{attrs:{size:20}})]},proxy:!0}])})],1)},ge=[],ve=s(pe,de,ge,!1,null,"a3e8b54b");const nt=ve.exports,me={name:"ChevronUpIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var fe=function(){var e=this,t=e._self._c;return t("span",e._b({staticClass:"material-design-icon chevron-up-icon",attrs:{"aria-hidden":e.title?null:"true","aria-label":e.title,role:"img"},on:{click:function(n){return e.$emit("click",n)}}},"span",e.$attrs,!1),[t("svg",{staticClass:"material-design-icon__svg",attrs:{fill:e.fillColor,width:e.size,height:e.size,viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z"}},[e.title?t("title",[e._v(e._s(e.title))]):e._e()])])])},he=[],ye=s(me,fe,he,!1,null,null);const _e=ye.exports;m(D);const Ce={name:"NcInputConfirmCancel",components:{NcButton:y,ArrowRight:Z,Close:E},props:{primary:{default:!1,type:Boolean},placeholder:{default:"",type:String},value:{default:"",type:String}},emits:["input","confirm","cancel"],data(){return{labelConfirm:r("Confirm changes"),labelCancel:r("Cancel changes")}},computed:{valueModel:{get(){return this.value},set(e){this.$emit("input",e)}}},methods:{confirm(){this.$emit("confirm")},cancel(){this.$emit("cancel")},focusInput(){this.$refs.input.focus()}}};var be=function(){var e=this,t=e._self._c;return t("div",{staticClass:"app-navigation-input-confirm"},[t("form",{on:{submit:function(n){return n.preventDefault(),e.confirm.apply(null,arguments)},keydown:function(n){return!n.type.indexOf("key")&&e._k(n.keyCode,"esc",27,n.key,["Esc","Escape"])||n.ctrlKey||n.shiftKey||n.altKey||n.metaKey?null:(n.stopPropagation(),n.preventDefault(),e.cancel.apply(null,arguments))},click:function(n){n.stopPropagation(),n.preventDefault()}}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.valueModel,expression:"valueModel"}],ref:"input",staticClass:"app-navigation-input-confirm__input",attrs:{type:"text",placeholder:e.placeholder},domProps:{value:e.valueModel},on:{input:function(n){n.target.composing||(e.valueModel=n.target.value)}}}),t("NcButton",{attrs:{"aria-label":e.labelConfirm,type:"submit",variant:"primary"},on:{click:function(n){return n.stopPropagation(),n.preventDefault(),e.confirm.apply(null,arguments)}},scopedSlots:e._u([{key:"icon",fn:function(){return[t("ArrowRight",{attrs:{size:20}})]},proxy:!0}])}),t("NcButton",{attrs:{"aria-label":e.labelCancel,type:"reset",variant:e.primary?"primary":"tertiary"},on:{click:function(n){return n.stopPropagation(),n.preventDefault(),e.cancel.apply(null,arguments)}},scopedSlots:e._u([{key:"icon",fn:function(){return[t("Close",{attrs:{size:20}})]},proxy:!0}])})],1)])},ke=[],Se=s(Ce,be,ke,!1,null,"093a8eb9");const Ne=Se.exports,Be={name:"PencilIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var xe=function(){var e=this,t=e._self._c;return t("span",e._b({staticClass:"material-design-icon pencil-icon",attrs:{"aria-hidden":e.title?null:"true","aria-label":e.title,role:"img"},on:{click:function(n){return e.$emit("click",n)}}},"span",e.$attrs,!1),[t("svg",{staticClass:"material-design-icon__svg",attrs:{fill:e.fillColor,width:e.size,height:e.size,viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z"}},[e.title?t("title",[e._v(e._s(e.title))]):e._e()])])])},$e=[],Le=s(Be,xe,$e,!1,null,null);const Ae=Le.exports,Me={name:"UndoIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var we=function(){var e=this,t=e._self._c;return t("span",e._b({staticClass:"material-design-icon undo-icon",attrs:{"aria-hidden":e.title?null:"true","aria-label":e.title,role:"img"},on:{click:function(n){return e.$emit("click",n)}}},"span",e.$attrs,!1),[t("svg",{staticClass:"material-design-icon__svg",attrs:{fill:e.fillColor,width:e.size,height:e.size,viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M12.5,8C9.85,8 7.45,9 5.6,10.6L2,7V16H11L7.38,12.38C8.77,11.22 10.54,10.5 12.5,10.5C16.04,10.5 19.05,12.81 20.1,16L22.47,15.22C21.08,11.03 17.15,8 12.5,8Z"}},[e.title?t("title",[e._v(e._s(e.title))]):e._e()])])])},Ie=[],Ve=s(Me,we,Ie,!1,null,null);const ze=Ve.exports;m(O);const De={name:"NcAppNavigationIconCollapsible",components:{NcButton:y,ChevronDown:q,ChevronUp:_e},props:{open:{type:Boolean,default:!0},active:{type:Boolean,required:!0}},emits:["click"],computed:{labelButton(){return this.open?r("Collapse menu"):r("Open menu")}},methods:{onClick(e){this.$emit("click",e)}}};var Ee=function(){var e=this,t=e._self._c;return t("NcButton",{staticClass:"icon-collapse",class:{"icon-collapse--active":e.active,"icon-collapse--open":e.open},attrs:{"aria-label":e.labelButton,variant:e.active?"tertiary-on-primary":"tertiary"},on:{click:e.onClick},scopedSlots:e._u([{key:"icon",fn:function(){return[e.open?t("ChevronUp",{attrs:{size:20}}):t("ChevronDown",{attrs:{size:20}})]},proxy:!0}])})},Oe=[],He=s(De,Ee,Oe,!1,null,"c8d5bee5");const Pe=He.exports;m(P,H);const Ke={name:"NcAppNavigationItem",components:{NcActions:T,NcActionButton:j,NcAppNavigationIconCollapsible:Pe,NcInputConfirmCancel:Ne,NcLoadingIcon:K,NcVNodes:B,Pencil:Ae,Undo:ze},props:{active:{type:Boolean,default:!1},name:{type:String,required:!0},title:{type:String,default:null},id:{type:String,default:()=>"app-navigation-item-"+U(),validator:e=>e.trim()!==""},icon:{type:String,default:""},loading:{type:Boolean,default:!1},to:{type:[String,Object],default:null},href:{type:String,default:null},exact:{type:Boolean,default:!1},allowCollapse:{type:Boolean,default:!1},editable:{type:Boolean,default:!1},editLabel:{type:String,default:""},editPlaceholder:{type:String,default:""},pinned:{type:Boolean,default:!1},undo:{type:Boolean,default:!1},open:{type:Boolean,default:!1},menuOpen:{type:Boolean,default:!1},forceMenu:{type:Boolean,default:!1},menuIcon:{type:String,default:void 0},menuPlacement:{type:String,default:"bottom"},ariaDescription:{type:String,default:null},forceDisplayActions:{type:Boolean,default:!1},inlineActions:{type:Number,default:0}},emits:["update:menuOpen","update:open","update:name","click","undo"],setup(){return{isMobile:N()}},data(){return{editingValue:"",opened:this.open,editingActive:!1,menuOpenLocalValue:!1,focused:!1,actionsBoundariesElement:void 0}},computed:{isRouterLink(){return this.to&&!this.href},canHaveChildren(){return this.$parent.$options._componentTag!=="AppNavigationItem"},hasUtils(){return!!(this.$scopedSlots.actions||this.$scopedSlots.counter||this.editable||this.undo)},editButtonAriaLabel(){return this.editLabel?this.editLabel:r("Edit item")},undoButtonAriaLabel(){return r("Undo changes")}},watch:{open(e){this.opened=e}},mounted(){this.actionsBoundariesElement=document.querySelector("#content-vue")||void 0},methods:{onMenuToggle(e){this.$emit("update:menuOpen",e),this.menuOpenLocalValue=e},toggleCollapse(){this.opened=!this.opened,this.$emit("update:open",this.opened)},onClick(e,t,n){this.$emit("click",e),!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&n&&(t?.(e),e.preventDefault())},handleEdit(){this.editingValue=this.name,this.editingActive=!0,this.onMenuToggle(!1),this.$nextTick(()=>{this.$refs.editingInput.focusInput()})},cancelEditing(){this.editingActive=!1},handleEditingDone(){this.$emit("update:name",this.editingValue),this.editingValue="",this.editingActive=!1},handleUndo(){this.$emit("undo")},isCollapsible(){return this.allowCollapse&&!!this.$scopedSlots.default},handleFocus(){this.focused=!0},handleBlur(){this.focused=!1},handleTab(e){this.$refs.actions&&(this.focused?(e.preventDefault(),this.$refs.actions.$refs.triggerButton.$el.focus(),this.focused=!1):this.$refs.actions.$refs.triggerButton.$el.blur())},isExternal(e){return e&&e.match(/[a-z]+:\/\//i)}}};var Te=function(){var e=this,t=e._self._c;return t("li",{staticClass:"app-navigation-entry-wrapper",class:{"app-navigation-entry--opened":e.opened,"app-navigation-entry--pinned":e.pinned,"app-navigation-entry--collapsible":e.isCollapsible()},attrs:{id:e.id}},[t(e.isRouterLink?"router-link":"NcVNodes",{tag:"component",attrs:{custom:!!e.isRouterLink,to:e.to,exact:e.isRouterLink?e.exact:null},scopedSlots:e._u([{key:"default",fn:function({href:n,navigate:c,isActive:a}){return[t("div",{staticClass:"app-navigation-entry",class:{"app-navigation-entry--editing":e.editingActive,"app-navigation-entry--deleted":e.undo,active:e.to&&a||e.active}},[e.undo?e._e():t("a",{staticClass:"app-navigation-entry-link",attrs:{"aria-current":e.active||e.to&&a?"page":void 0,"aria-description":e.ariaDescription,"aria-expanded":e.$scopedSlots.default?e.opened.toString():void 0,href:e.href||n||"#",target:e.isExternal(e.href)?"_blank":void 0,title:e.title||e.name},on:{blur:e.handleBlur,click:function(i){return e.onClick(i,c,n)},focus:e.handleFocus,keydown:function(i){return!i.type.indexOf("key")&&e._k(i.keyCode,"tab",9,i.key,"Tab")||i.ctrlKey||i.shiftKey||i.altKey||i.metaKey?null:e.handleTab.apply(null,arguments)}}},[t("div",{staticClass:"app-navigation-entry-icon",class:{[e.icon]:e.icon}},[e.loading?t("NcLoadingIcon"):e._t("icon",null,{active:e.active||e.to&&a})],2),e.editingActive?e._e():t("span",{staticClass:"app-navigation-entry__name"},[e._v(" "+e._s(e.name)+" ")]),e.editingActive?t("div",{staticClass:"editingContainer"},[t("NcInputConfirmCancel",{ref:"editingInput",attrs:{placeholder:e.editPlaceholder!==""?e.editPlaceholder:e.name,primary:e.to&&a||e.active},on:{cancel:e.cancelEditing,confirm:e.handleEditingDone},model:{value:e.editingValue,callback:function(i){e.editingValue=i},expression:"editingValue"}})],1):e._e()]),e.undo?t("div",{staticClass:"app-navigation-entry__deleted"},[t("div",{staticClass:"app-navigation-entry__deleted-description"},[e._v(" "+e._s(e.name)+" ")])]):e._e(),e.hasUtils&&!e.editingActive?t("div",{staticClass:"app-navigation-entry__utils",class:{"app-navigation-entry__utils--display-actions":e.forceDisplayActions||e.menuOpenLocalValue||e.menuOpen}},[e.$scopedSlots.counter?t("div",{staticClass:"app-navigation-entry__counter-wrapper"},[e._t("counter")],2):e._e(),e.$scopedSlots.actions||e.editable&&!e.editingActive||e.undo?t("NcActions",{ref:"actions",staticClass:"app-navigation-entry__actions",attrs:{inline:e.inlineActions,container:"#app-navigation-vue","boundaries-element":e.actionsBoundariesElement,placement:e.menuPlacement,open:e.menuOpen,type:e.to&&a||e.active?"tertiary-on-primary":"tertiary","force-menu":e.forceMenu,"default-icon":e.menuIcon},on:{"update:open":e.onMenuToggle},scopedSlots:e._u([{key:"icon",fn:function(){return[e._t("menu-icon")]},proxy:!0}],null,!0)},[e.editable&&!e.editingActive?t("NcActionButton",{attrs:{"aria-label":e.editButtonAriaLabel},on:{click:e.handleEdit},scopedSlots:e._u([{key:"icon",fn:function(){return[t("Pencil",{attrs:{size:20}})]},proxy:!0}],null,!0)},[e._v(" "+e._s(e.editLabel)+" ")]):e._e(),e.undo?t("NcActionButton",{attrs:{"aria-label":e.undoButtonAriaLabel},on:{click:e.handleUndo},scopedSlots:e._u([{key:"icon",fn:function(){return[t("Undo",{attrs:{size:20}})]},proxy:!0}],null,!0)}):e._e(),e._t("actions")],2):e._e()],1):e._e(),e.isCollapsible()?t("NcAppNavigationIconCollapsible",{attrs:{active:e.to&&a||e.active,open:e.opened},on:{click:function(i){return i.preventDefault(),i.stopPropagation(),e.toggleCollapse.apply(null,arguments)}}}):e._e(),e._t("extra")],2)]}}],null,!0)}),e.canHaveChildren&&e.$scopedSlots.default?t("ul",{staticClass:"app-navigation-entry__children"},[e._t("default")],2):e._e()],1)},Ue=[],Re=s(Ke,Te,Ue,!1,null,"b38fb988");const it=Re.exports,x=Symbol.for("NcAppSettingsDialog:registration");function at(){return F(x)}m();const qe=G({__name:"NcAppSettingsDialog",props:{open:{type:Boolean},showNavigation:{type:Boolean},container:{default:"body"},name:{default:""},additionalTrapElements:{default:()=>[]}},emits:["update:open"],setup(e,{emit:t}){const n=e,c=R(n,"open",t,{passive:!0});Q(x,{registerSection:C,unregisterSection:b});const a=h(),i=N(),p=h(""),f=h(!1),l=J([]),$=k(()=>!i.value&&n.showNavigation),L=k(()=>l.value.some(({icon:o})=>!!o)),_=Y(()=>{p.value="",document.activeElement?.className.includes("navigation-list__link")&&document.activeElement.blur()},300),u=new Map;W(()=>{u.clear()});function A(o){f.value=!0,document.getElementById("settings-section_"+o).scrollIntoView({behavior:"smooth",inline:"nearest"}),p.value=o,setTimeout(()=>{f.value=!1},1e3)}function M(o){o||(c.value=!1,a.value.scrollTop=0)}function w(){c.value&&!f.value&&_()}function C(o,g,d,I){if(l.value.some(({id:v})=>o===v))throw new Error(`Duplicate section id found: ${o}. Settings navigation sections must have unique section ids.`);l.value.some(({name:v})=>g===v)&&X.util.warn(`Duplicate section name found: ${g}. Settings navigation sections must have unique section names.`),d!==void 0?u.set(o,d):u.has(o)?d=u.get(o):(d=Math.max(0,...u.values())+1,u.set(o,d)),l.value=[...l.value,{id:o,name:g,order:d,icon:I}].sort(({order:v},{order:V})=>v-V),l.value.length===1&&(p.value=o)}function b(o){l.value=l.value.filter(({id:g})=>o!==g),p.value===o&&(p.value=l.value[0]?.id??"")}return{__sfc:!0,props:n,emit:t,open:c,settingsScroller:a,isMobile:i,selectedSection:p,linkClicked:f,registeredSections:l,hasNavigation:$,hasNavigationIcons:L,unfocusNavigationItem:_,sectionsOrderMap:u,handleSettingsNavigationClick:A,handleCloseModal:M,handleScroll:w,registerSection:C,unregisterSection:b,NcDialog:ee,NcVNodes:B,t:r}}});var Ze=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return n.open?t(n.NcDialog,{staticClass:"app-settings",attrs:{"content-classes":"app-settings__content","navigation-classes":"app-settings__navigation","additional-trap-elements":e.additionalTrapElements,container:e.container,"close-on-click-outside":"","navigation-aria-label":n.t("Settings navigation"),size:"large",name:e.name},on:{"update:open":n.handleCloseModal},scopedSlots:e._u([n.hasNavigation?{key:"navigation",fn:function({isCollapsed:c}){return[c?e._e():t("ul",{staticClass:"navigation-list"},e._l(n.registeredSections,function(a){return t("li",{key:a.id},[t("a",{staticClass:"navigation-list__link",class:{"navigation-list__link--active":a.id===n.selectedSection,"navigation-list__link--icon":n.hasNavigationIcons},attrs:{"aria-current":`${a.id===n.selectedSection}`,href:`#settings-section_${a.id}`,tabindex:"0"},on:{click:function(i){return i.preventDefault(),n.handleSettingsNavigationClick(a.id)},keydown:function(i){return!i.type.indexOf("key")&&e._k(i.keyCode,"enter",13,i.key,"Enter")?null:n.handleSettingsNavigationClick(a.id)}}},[n.hasNavigationIcons?t("div",{staticClass:"navigation-list__link-icon"},[a.icon?t(n.NcVNodes,{attrs:{vnodes:a.icon}}):e._e()],1):e._e(),t("span",{staticClass:"navigation-list__link-text"},[e._v(" "+e._s(a.name)+" ")])])])}),0)]}}:null],null,!0)},[t("div",{ref:"settingsScroller",on:{scroll:n.handleScroll}},[e._t("default")],2)]):e._e()},je=[],Fe=s(qe,Ze,je,!1,null,"5b9532ac");const ot=Fe.exports;export{nt as N,ot as a,it as b,at as u};
//# sourceMappingURL=NcAppSettingsSection-CLSVNQzv-B9goWz3h.chunk.mjs.map

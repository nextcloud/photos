const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=[window.OC.filePath('photos', '', 'js/NcColorPicker-DeXYDMqF.chunk.mjs'),window.OC.filePath('photos', '', 'js/NcSelect-QVd6uJPA-DWrs5JTh.chunk.mjs'),window.OC.filePath('photos', '', 'js/vue.runtime.esm-DOYee4Bn.chunk.mjs'),window.OC.filePath('photos', '', 'js/index-C5qH3lrk.chunk.mjs'),window.OC.filePath('photos', '', 'js/index-013tgZcp.chunk.mjs'),window.OC.filePath('photos', '', 'css/index-W8WEuk0U.chunk.css'),window.OC.filePath('photos', '', 'js/useModelMigration-EhAWvqDD-CT5Cy7OS.chunk.mjs'),window.OC.filePath('photos', '', 'js/NcAvatar-DwUmx6Fg-rKajAN2z.chunk.mjs'),window.OC.filePath('photos', '', 'js/video-Di3FEmjE.chunk.mjs'),window.OC.filePath('photos', '', 'js/preload-helper-Dh9HmuEY.chunk.mjs'),window.OC.filePath('photos', '', 'css/video-CmtaypCh.chunk.css'),window.OC.filePath('photos', '', 'js/NcActionButton-CD1Z-o2Y-G-PWjTEm.chunk.mjs'),window.OC.filePath('photos', '', 'css/NcActionButton-CD1Z-o2Y-Dc3ra1Np.chunk.css'),window.OC.filePath('photos', '', 'css/NcAvatar-DwUmx6Fg-By5U0e-S.chunk.css'),window.OC.filePath('photos', '', 'css/NcSelect-QVd6uJPA-D-nWHgHx.chunk.css'),window.OC.filePath('photos', '', 'js/NcProgressBar-D7zYeXBH-CXhjFXM9.chunk.mjs'),window.OC.filePath('photos', '', 'css/NcProgressBar-D7zYeXBH-B3qS3u7h.chunk.css'),window.OC.filePath('photos', '', 'js/NcAppSettingsSection-CLSVNQzv-B9goWz3h.chunk.mjs'),window.OC.filePath('photos', '', 'js/NcVNodes-k6tbNlzt.chunk.mjs'),window.OC.filePath('photos', '', 'js/index-YSCIn2G4.chunk.mjs'),window.OC.filePath('photos', '', 'js/NcDialog-Bg0hY6TP-DcCANJCa.chunk.mjs'),window.OC.filePath('photos', '', 'css/NcAppSettingsSection-CLSVNQzv-Drh7CzfA.chunk.css'),window.OC.filePath('photos', '', 'js/useHotKey-BmdPkLZK.chunk.mjs'),window.OC.filePath('photos', '', 'js/NcTextField-CVfixgfj-DmKkIWD1.chunk.mjs'),window.OC.filePath('photos', '', 'css/NcTextField-CVfixgfj-ChYPIaUD.chunk.css'),window.OC.filePath('photos', '', 'js/NcCheckboxRadioSwitch-NPJuwzqS-BC5J_rPk.chunk.mjs'),window.OC.filePath('photos', '', 'css/NcCheckboxRadioSwitch-NPJuwzqS-35V8jJy1.chunk.css'),window.OC.filePath('photos', '', 'js/NcEmptyContent-DXpEXqYm.chunk.mjs'),window.OC.filePath('photos', '', 'css/NcEmptyContent-BC9mI1uc.chunk.css'),window.OC.filePath('photos', '', 'js/index-CjZBFy7F.chunk.mjs'),window.OC.filePath('photos', '', 'js/NcListItem-YVemqwZ_-BIrEhRL8.chunk.mjs'),window.OC.filePath('photos', '', 'css/NcListItem-YVemqwZ_-Cof7tM-N.chunk.css'),window.OC.filePath('photos', '', 'js/useFormatDateTime-DnxyoqFZ.chunk.mjs'),window.OC.filePath('photos', '', 'js/NcDateTimePicker-COA4A2Dy.chunk.mjs'),window.OC.filePath('photos', '', 'css/NcDateTimePicker-CIGZCUNP.chunk.css'),window.OC.filePath('photos', '', 'js/NcUserBubble-sIUM-Rru-5SJFLtLy.chunk.mjs'),window.OC.filePath('photos', '', 'css/NcUserBubble-sIUM-Rru-DuGeWNEo.chunk.css'),window.OC.filePath('photos', '', 'js/icons-BoPzhPJ9.chunk.mjs'),window.OC.filePath('photos', '', 'js/CollectionContent-C_lQFOEs.chunk.mjs'),window.OC.filePath('photos', '', 'js/FileComponent-Dt48sfei.chunk.mjs'),window.OC.filePath('photos', '', 'css/FileComponent-SjsvQy4O.chunk.css'),window.OC.filePath('photos', '', 'js/FilesSelectionMixin-vujz9Tmz.chunk.mjs'),window.OC.filePath('photos', '', 'js/fileFetcher-DWPw_M5B.chunk.mjs'),window.OC.filePath('photos', '', 'css/FilesSelectionMixin-DmEwu1vg.chunk.css'),window.OC.filePath('photos', '', 'css/CollectionContent-CbeUv2Tw.chunk.css'),window.OC.filePath('photos', '', 'js/HeaderNavigation-CWaShfQQ.chunk.mjs'),window.OC.filePath('photos', '', 'css/HeaderNavigation-D4T1K-Y_.chunk.css'),window.OC.filePath('photos', '', 'js/FetchCollectionContentMixin-QvKFvTeZ.chunk.mjs'),window.OC.filePath('photos', '', 'js/collectionFetcher-D-MT6hjC.chunk.mjs'),window.OC.filePath('photos', '', 'js/AbortControllerMixin-BUcqONqd.chunk.mjs'),window.OC.filePath('photos', '', 'css/NcColorPicker-CHqxWmcw.chunk.css')])))=>i.map(i=>d[i]);
import{_ as o}from"./preload-helper-Dh9HmuEY.chunk.mjs";import{B as v,C as _,c as u}from"./vue.runtime.esm-DOYee4Bn.chunk.mjs";import{u as p}from"./useModelMigration-EhAWvqDD-CT5Cy7OS.chunk.mjs";import{Q as $,a as r,G as d,r as h,R as k,O as w,m as n,H as C,T as S,U as N}from"./index-C5qH3lrk.chunk.mjs";import{A as x}from"./NcActionButton-CD1Z-o2Y-G-PWjTEm.chunk.mjs";import{d as T}from"./index-YSCIn2G4.chunk.mjs";import{a as c,N as D}from"./NcTextField-CVfixgfj-DmKkIWD1.chunk.mjs";const P=["date","datetime-local","month","time","week"],I={name:"NcDateTimePickerNative",inheritAttrs:!1,model:{prop:"modelValue",event:"update:modelValue"},props:{value:{type:Date,default:void 0},modelValue:{type:Date,default:null},id:{type:String,default:()=>"date-time-picker-"+d(),validator:t=>t.trim()!==""},type:{type:String,default:"date",validate:t=>P.includes(t)},label:{type:String,default:"Please choose a date"},min:{type:[Boolean,Date],default:null},max:{type:[Boolean,Date],default:null},hideLabel:{type:Boolean,default:!1},inputClass:{type:[Object,String],default:""}},emits:["input","update:modelValue","update:model-value"],setup(){return{model:p("value","input")}},computed:{formattedValue(){return this.formatValue(this.model)},formattedMin(){return this.min?this.formatValue(this.min):!1},formattedMax(){return this.max?this.formatValue(this.max):!1},listeners(){return{...this.$listeners,input:t=>{if(isNaN(t.target.valueAsNumber))this.model=null;else if(this.type==="time"){const e=t.target.value;if(this.model===""){const{yyyy:i,MM:a,dd:s}=this.getReadableDate(new Date);this.model=new Date(`${i}-${a}-${s}T${e}`)}else{const{yyyy:i,MM:a,dd:s}=this.getReadableDate(this.model);this.model=new Date(`${i}-${a}-${s}T${e}`)}}else if(this.type==="month"){const e=(new Date(t.target.value).getMonth()+1).toString().padStart(2,"0");if(this.model===""){const{yyyy:i,dd:a,hh:s,mm:l}=this.getReadableDate(new Date);this.model=new Date(`${i}-${e}-${a}T${s}:${l}`)}else{const{yyyy:i,dd:a,hh:s,mm:l}=this.getReadableDate(this.model);this.model=new Date(`${i}-${e}-${a}T${s}:${l}`)}}else{const e=new Date(t.target.valueAsNumber).getTimezoneOffset()*1e3*60,i=t.target.valueAsNumber+e;this.model=new Date(i)}}}}},methods:{getReadableDate(t){if(t instanceof Date){const e=t.getFullYear().toString().padStart(4,"0"),i=(t.getMonth()+1).toString().padStart(2,"0"),a=t.getDate().toString().padStart(2,"0"),s=t.getHours().toString().padStart(2,"0"),l=t.getMinutes().toString().padStart(2,"0");return{yyyy:e,MM:i,dd:a,hh:s,mm:l}}},formatValue(t){if(t instanceof Date){const{yyyy:e,MM:i,dd:a,hh:s,mm:l}=this.getReadableDate(t);if(this.type==="datetime-local")return`${e}-${i}-${a}T${s}:${l}`;if(this.type==="date")return`${e}-${i}-${a}`;if(this.type==="month")return`${e}-${i}`;if(this.type==="time")return`${s}:${l}`;if(this.type==="week"){const b=new Date(e,0,1),y=Math.floor((t-b)/(24*60*60*1e3)),g=Math.ceil(y/7);return`${e}-W${g}`}}else return""}}};var M=function(){var t=this,e=t._self._c;return e("div",{staticClass:"native-datetime-picker"},[e("label",{staticClass:"native-datetime-picker--label",class:{"hidden-visually":t.hideLabel},attrs:{for:t.id}},[t._v(" "+t._s(t.label)+" ")]),e("input",t._g(t._b({staticClass:"native-datetime-picker--input",class:t.inputClass,attrs:{id:t.id,type:t.type,min:t.formattedMin,max:t.formattedMax},domProps:{value:t.formattedValue}},"input",t.$attrs,!1),t.listeners))])},A=[],L=r(I,M,A,!1,null,"6c1feae8");const f=L.exports;$(f);const V={name:"EyeIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var B=function(){var t=this,e=t._self._c;return e("span",t._b({staticClass:"material-design-icon eye-icon",attrs:{"aria-hidden":t.title?null:"true","aria-label":t.title,role:"img"},on:{click:function(i){return t.$emit("click",i)}}},"span",t.$attrs,!1),[e("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.fillColor,width:t.size,height:t.size,viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z"}},[t.title?e("title",[t._v(t._s(t.title))]):t._e()])])])},F=[],O=r(V,B,F,!1,null,null);const E=O.exports,R={name:"EyeOffIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var z=function(){var t=this,e=t._self._c;return e("span",t._b({staticClass:"material-design-icon eye-off-icon",attrs:{"aria-hidden":t.title?null:"true","aria-label":t.title,role:"img"},on:{click:function(i){return t.$emit("click",i)}}},"span",t.$attrs,!1),[e("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.fillColor,width:t.size,height:t.size,viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M11.83,9L15,12.16C15,12.11 15,12.05 15,12A3,3 0 0,0 12,9C11.94,9 11.89,9 11.83,9M7.53,9.8L9.08,11.35C9.03,11.56 9,11.77 9,12A3,3 0 0,0 12,15C12.22,15 12.44,14.97 12.65,14.92L14.2,16.47C13.53,16.8 12.79,17 12,17A5,5 0 0,1 7,12C7,11.21 7.2,10.47 7.53,9.8M2,4.27L4.28,6.55L4.73,7C3.08,8.3 1.78,10 1,12C2.73,16.39 7,19.5 12,19.5C13.55,19.5 15.03,19.2 16.38,18.66L16.81,19.08L19.73,22L21,20.73L3.27,3M12,7A5,5 0 0,1 17,12C17,12.64 16.87,13.26 16.64,13.82L19.57,16.75C21.07,15.5 22.27,13.86 23,12C21.27,7.61 17,4.5 12,4.5C10.6,4.5 9.26,4.75 8,5.2L10.17,7.35C10.74,7.13 11.35,7 12,7Z"}},[t.title?e("title",[t._v(t._s(t.title))]):t._e()])])])},H=[],U=r(R,z,H,!1,null,null);const j=U.exports;h(k);const m=v("core","capabilities",{}).password_policy||null,q=new Set(Object.keys(c.props)),Z={name:"NcPasswordField",components:{NcInputField:c,IconEye:E,IconEyeOff:j},inheritAttrs:!1,model:{prop:"modelValue",event:"update:modelValue"},props:{" ":{},...c.props,showTrailingButton:{type:Boolean,default:!0},trailingButtonLabel:void 0,checkPasswordStrength:{type:Boolean,default:!1},minlength:{type:Number,default:0},maxlength:{type:Number,default:null},asText:{type:Boolean,default:!1},visible:{type:Boolean,default:!1}},emits:["valid","invalid","update:value","update:modelValue","update:model-value","update:visible"],setup(t,{emit:e}){const i=p("value","update:value"),a=S(t,"visible",e,{passive:!0});return{t:n,model:i,visibility:a}},data(){return{internalHelpMessage:"",isValid:null}},computed:{computedError(){return this.error||this.isValid===!1},computedSuccess(){return this.success||this.isValid===!0},computedHelperText(){return this.helperText.length>0?this.helperText:this.internalHelpMessage},rules(){const{minlength:t}=this;return{minlength:t??m?.minLength}},trailingButtonLabelPassword(){return this.visibility?n("Hide password"):n("Show password")},propsAndAttrsToForward(){return{...this.$attrs,...Object.fromEntries(Object.entries(this.$props).filter(([t])=>q.has(t)))}}},watch:{model(t){if(this.checkPasswordStrength){if(m===null)return;this.checkPassword(t)}}},methods:{focus(){this.$refs.inputField.focus()},select(){this.$refs.inputField.select()},handleInput(t){this.model=t.target.value},toggleVisibility(){this.visibility=!this.visibility},checkPassword:T(async function(t){try{const{data:e}=await w.post(_("apps/password_policy/api/v1/validate"),{password:t});if(this.isValid=e.ocs.data.passed,e.ocs.data.passed){this.internalHelpMessage=n("Password is secure"),this.$emit("valid");return}this.internalHelpMessage=e.ocs.data.reason,this.$emit("invalid")}catch(e){C.error("Password policy returned an error",e)}},500)}};var G=function(){var t=this,e=t._self._c;return e("NcInputField",t._g(t._b({ref:"inputField",attrs:{type:t.visibility||t.asText?"text":"password","trailing-button-label":t.trailingButtonLabelPassword,"helper-text":t.computedHelperText,error:t.computedError,success:t.computedSuccess,minlength:t.rules.minlength,"input-class":{"password-field__input--secure-text":!t.visibility&&t.asText}},on:{"trailing-button-click":t.toggleVisibility,input:t.handleInput},scopedSlots:t._u([t.$scopedSlots.icon||t.$slots.default||t.$scopedSlots.default?{key:"icon",fn:function(){return[t._t("icon",function(){return[t._t("default")]})]},proxy:!0}:null,{key:"trailing-button-icon",fn:function(){return[t.visibility?e("IconEyeOff",{attrs:{size:18}}):e("IconEye",{attrs:{size:18}})]},proxy:!0}],null,!0)},"NcInputField",t.propsAndAttrsToForward,!1),t.$listeners))},Q=[],W=r(Z,G,Q,!1,null,"822eec9d");const Y=W.exports;h(N);const J={name:"NcActionInput",components:{NcDateTimePickerNative:f,NcPasswordField:Y,NcTextField:D,NcColorPicker:u(()=>o(()=>import("./NcColorPicker-DeXYDMqF.chunk.mjs").then(t=>t.a),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50]),import.meta.url)),NcDateTimePicker:u(()=>o(()=>import("./NcDateTimePicker-COA4A2Dy.chunk.mjs"),__vite__mapDeps([33,32,2,3,4,5,6,1,7,8,9,10,11,12,13,14,34]),import.meta.url)),NcSelect:u(()=>o(()=>import("./NcColorPicker-DeXYDMqF.chunk.mjs").then(t=>t.N),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50]),import.meta.url))},mixins:[x],model:{prop:"modelValue",event:"update:modelValue"},props:{id:{type:String,default:()=>"action-"+d(),validator:t=>t.trim()!==""},inputId:{type:String,default:()=>"action-input-"+d(),validator:t=>t.trim()!==""},icon:{type:String,default:""},type:{type:String,default:"text",validator(t){return["date","datetime-local","month","multiselect","number","password","search","tel","text","time","url","week","color","email"].indexOf(t)>-1}},idNativeDateTimePicker:{type:String,default:"date-time-picker_id"},isNativePicker:{type:Boolean,default:!1},label:{type:String,default:null},labelOutside:{type:Boolean,default:!0},value:{type:[String,Date,Number,Array],default:void 0},modelValue:{type:[String,Date,Number,Array],default:""},disabled:{type:Boolean,default:!1},ariaLabel:{type:String,default:""},ariaHidden:{type:Boolean,default:null},showTrailingButton:{type:Boolean,default:!0},trailingButtonLabel:{type:String,default:n("Submit")}},emits:["input","submit","change","update:value","update:modelValue","update:model-value"],setup(){return{model:p("value","update:value")}},computed:{isIconUrl(){try{return new URL(this.icon)}catch{return!1}},isMultiselectType(){return this.type==="multiselect"},nativeDatePickerType(){switch(this.type){case"date":case"month":case"time":case"week":case"datetime-local":return this.type}return!1},datePickerType(){if(!this.isNativePicker)switch(this.type){case"date":case"month":case"time":return this.type;case"datetime-local":return"datetime"}return!1},isFocusable(){return!this.disabled}},methods:{onLeave(){this.$refs.datetimepicker&&this.$refs.datetimepicker.$refs.datepicker&&this.$refs.datetimepicker.$refs.datepicker.closePopup()},onInput(t){this.$emit("input",t),this.model=t.target?t.target.value:t},onSubmit(t){if(t.preventDefault(),t.stopPropagation(),!this.disabled)this.$emit("submit",t);else return!1},onChange(t){this.$emit("change",t)}}};var K=function(){var t=this,e=t._self._c;return e("li",{staticClass:"action",class:{"action--disabled":t.disabled}},[e("span",{staticClass:"action-input",class:{"action-input-picker--disabled":t.disabled,"action-input--visible-label":t.labelOutside&&t.label},on:{mouseleave:t.onLeave}},[e("span",{staticClass:"action-input__icon-wrapper"},[t._t("icon",function(){return[e("span",{staticClass:"action-input__icon",class:[t.isIconUrl?"action-input__icon--url":t.icon],style:{backgroundImage:t.isIconUrl?`url(${t.icon})`:null},attrs:{"aria-hidden":"true"}})]})],2),e("form",{ref:"form",staticClass:"action-input__form",attrs:{disabled:t.disabled},on:{submit:function(i){return i.preventDefault(),t.onSubmit.apply(null,arguments)}}},[e("div",{staticClass:"action-input__container"},[t.label&&t.labelOutside?e("label",{staticClass:"action-input__text-label",class:{"action-input__text-label--hidden":!t.labelOutside},attrs:{for:t.inputId}},[t._v(" "+t._s(t.label)+" ")]):t._e(),e("div",{staticClass:"action-input__input-container"},[t.datePickerType?e("NcDateTimePicker",t._b({ref:"datetimepicker",staticClass:"action-input__datetimepicker",staticStyle:{"z-index":"99999999999"},attrs:{value:t.model,placeholder:t.text,disabled:t.disabled,type:t.datePickerType,"input-class":["mx-input",{focusable:t.isFocusable}]},on:{input:t.onInput,change:t.onChange}},"NcDateTimePicker",t.$attrs,!1)):t.isNativePicker?e("NcDateTimePickerNative",t._b({staticClass:"action-input__datetimepicker",attrs:{id:t.idNativeDateTimePicker,value:t.model,type:t.nativeDatePickerType,"input-class":{focusable:t.isFocusable}},on:{"update:model-value":function(i){t.model=i},change:function(i){return t.$emit("change",i)}}},"NcDateTimePickerNative",t.$attrs,!1)):t.isMultiselectType?e("NcSelect",t._g(t._b({staticClass:"action-input__multi",attrs:{value:t.model,placeholder:t.text,disabled:t.disabled,"append-to-body":t.$attrs.appendToBody||t.$attrs["append-to-body"]||!1,"input-class":{focusable:t.isFocusable}}},"NcSelect",t.$attrs,!1),t.$listeners)):t.type==="password"?e("NcPasswordField",t._g(t._b({attrs:{id:t.inputId,value:t.model,label:t.label,"label-outside":!t.label||t.labelOutside,placeholder:t.text,disabled:t.disabled,"input-class":{focusable:t.isFocusable},"show-trailing-button":t.showTrailingButton&&!t.disabled},on:{input:t.onInput,change:t.onChange}},"NcPasswordField",t.$attrs,!1),t.$listeners)):t.type==="color"?e("div",{staticClass:"action-input__container"},[t.label&&t.type==="color"?e("label",{staticClass:"action-input__text-label",class:{"action-input__text-label--hidden":!t.labelOutside},attrs:{for:t.inputId}},[t._v(" "+t._s(t.label)+" ")]):t._e(),e("div",{staticClass:"action-input__input-container"},[e("NcColorPicker",t._g(t._b({staticClass:"colorpicker__trigger",attrs:{id:"inputId",value:t.model},on:{"update:model-value":t.onInput,submit:function(i){return t.$refs.form.requestSubmit()}}},"NcColorPicker",t.$attrs,!1),t.$listeners),[e("button",{staticClass:"colorpicker__preview",class:{focusable:t.isFocusable},style:{"background-color":t.model}})])],1)]):e("NcTextField",t._g(t._b({attrs:{id:t.inputId,value:t.model,label:t.label,"label-outside":!t.label||t.labelOutside,placeholder:t.text,disabled:t.disabled,"input-class":{focusable:t.isFocusable},type:t.type,"trailing-button-icon":"arrowRight","trailing-button-label":t.trailingButtonLabel,"show-trailing-button":t.showTrailingButton&&!t.disabled},on:{"trailing-button-click":function(i){return t.$refs.form.requestSubmit()},input:t.onInput,change:t.onChange}},"NcTextField",t.$attrs,!1),t.$listeners))],1)])])])])},X=[],tt=r(J,K,X,!1,null,"29a30fef");const ot=tt.exports;export{ot as N};
//# sourceMappingURL=NcBreadcrumbs-DahxPGJY-BvaDLXLA.chunk.mjs.map

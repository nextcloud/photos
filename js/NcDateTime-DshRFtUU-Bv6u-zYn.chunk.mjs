import{z as m,b as w,m as d,a6 as g,j as y,x as b,o as D,B as S}from"./vue.runtime.esm-BRCPjOl-.chunk.mjs";import{n as F,a as f,r as I,aG as x}from"./index-Mvpvp-tP.chunk.mjs";I(x);const B={long:f("a few seconds ago"),short:f("seconds ago"),narrow:f("sec. ago")};function N(e=Date.now(),r={}){const s=w(Date.now());let a;const c=w({format:{timeStyle:"medium",dateStyle:"short"},relativeTime:"long",ignoreSeconds:!1,...d(r)}),t=m(()=>({...d(r),...c.value})),v=m(()=>new Date(d(e))),h=m(()=>new Intl.DateTimeFormat(g(),t.value.format).format(v.value)),T=m(()=>{if(t.value.relativeTime!==!1){const o=new Intl.RelativeTimeFormat(y(),{numeric:"auto",style:t.value.relativeTime}),i=(v.value.getTime()-s.value)/1e3;if(Math.abs(i)<59.5)return t.value.ignoreSeconds?B[t.value.relativeTime]:o.format(Math.round(i),"second");const l=i/60;if(Math.abs(l)<=59)return o.format(Math.round(l),"minute");const u=l/60;if(Math.abs(u)<23.5)return o.format(Math.round(u),"hour");const n=u/24;if(Math.abs(n)<6.5)return o.format(Math.round(n),"day");if(Math.abs(n)<27.5){const M=n/7;return o.format(Math.round(M),"week")}const p=n/30;return Math.abs(p)<11.5?o.format(Math.round(p),"month"):o.format(Math.round(n/365),"year")}return h.value});return b([t],()=>{window.clearInterval(a),a=void 0,t.value.relativeTime&&(a=window.setInterval(()=>{s.value=Date.now()},1e3))}),D(()=>{t.value.relativeTime!==!1&&(a=window.setInterval(()=>{s.value=Date.now()},1e3))}),S(()=>{window.clearInterval(a)}),{formattedTime:T,formattedFullTime:h,options:c}}const _={name:"NcDateTime",props:{timestamp:{type:[Date,Number],required:!0},format:{type:Object,default:()=>({timeStyle:"medium",dateStyle:"short"})},relativeTime:{type:[Boolean,String],default:"long",validator:e=>e===!1||["long","short","narrow"].includes(e)},ignoreSeconds:{type:Boolean,default:!1}},setup(e){const r=m(()=>e.timestamp),{formattedTime:s,formattedFullTime:a}=N(r,e);return{formattedTime:s,formattedFullTime:a}}};var j=function(){var e=this,r=e._self._c;return r("span",{staticClass:"nc-datetime",attrs:{"data-timestamp":e.timestamp,title:e.formattedFullTime},domProps:{textContent:e._s(e.formattedTime)}})},C=[],k=F(_,j,C,!1,null,null);const q=k.exports;export{q as N};
//# sourceMappingURL=NcDateTime-DshRFtUU-Bv6u-zYn.chunk.mjs.map

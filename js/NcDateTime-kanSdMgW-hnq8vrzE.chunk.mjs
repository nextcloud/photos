import{a6 as s,z as w,x as l,b as S,y as f,A as y,c as L,B as u}from"./vue.runtime.esm-CgV0NZOD.chunk.mjs";import{aJ as c,a as h,r as Z,aK as p,n as v}from"./index-mp1XnZYt.chunk.mjs";function j(){if(typeof globalThis.firstDay<"u")return globalThis.firstDay;const e=new Intl.Locale(s()),a=e.getWeekInfo?.()??e.weekInfo;return a?a.firstDay%7:1}function q(){if(typeof globalThis.dayNames<"u")return globalThis.dayNames;const e=s();return[new Date("1970-01-04T00:00:00.000Z").toLocaleDateString(e,{weekday:"long"}),new Date("1970-01-05T00:00:00.000Z").toLocaleDateString(e,{weekday:"long"}),new Date("1970-01-06T00:00:00.000Z").toLocaleDateString(e,{weekday:"long"}),new Date("1970-01-07T00:00:00.000Z").toLocaleDateString(e,{weekday:"long"}),new Date("1970-01-08T00:00:00.000Z").toLocaleDateString(e,{weekday:"long"}),new Date("1970-01-09T00:00:00.000Z").toLocaleDateString(e,{weekday:"long"}),new Date("1970-01-10T00:00:00.000Z").toLocaleDateString(e,{weekday:"long"})]}function z(){if(typeof globalThis.dayNamesShort<"u")return globalThis.dayNamesShort;const e=s();return[new Date("1970-01-04T00:00:00.000Z").toLocaleDateString(e,{weekday:"short"}),new Date("1970-01-05T00:00:00.000Z").toLocaleDateString(e,{weekday:"short"}),new Date("1970-01-06T00:00:00.000Z").toLocaleDateString(e,{weekday:"short"}),new Date("1970-01-07T00:00:00.000Z").toLocaleDateString(e,{weekday:"short"}),new Date("1970-01-08T00:00:00.000Z").toLocaleDateString(e,{weekday:"short"}),new Date("1970-01-09T00:00:00.000Z").toLocaleDateString(e,{weekday:"short"}),new Date("1970-01-10T00:00:00.000Z").toLocaleDateString(e,{weekday:"short"})]}function A(){if(typeof globalThis.dayNamesMin<"u")return globalThis.dayNamesMin;const e=s();return[new Date("1970-01-04T00:00:00.000Z").toLocaleDateString(e,{weekday:"narrow"}),new Date("1970-01-05T00:00:00.000Z").toLocaleDateString(e,{weekday:"narrow"}),new Date("1970-01-06T00:00:00.000Z").toLocaleDateString(e,{weekday:"narrow"}),new Date("1970-01-07T00:00:00.000Z").toLocaleDateString(e,{weekday:"narrow"}),new Date("1970-01-08T00:00:00.000Z").toLocaleDateString(e,{weekday:"narrow"}),new Date("1970-01-09T00:00:00.000Z").toLocaleDateString(e,{weekday:"narrow"}),new Date("1970-01-10T00:00:00.000Z").toLocaleDateString(e,{weekday:"narrow"})]}function O(){if(typeof globalThis.monthNames<"u")return globalThis.monthNames;const e=s();return[new Date("1970-01-01T00:00:00.000Z").toLocaleDateString(e,{month:"long"}),new Date("1970-02-01T00:00:00.000Z").toLocaleDateString(e,{month:"long"}),new Date("1970-03-01T00:00:00.000Z").toLocaleDateString(e,{month:"long"}),new Date("1970-04-01T00:00:00.000Z").toLocaleDateString(e,{month:"long"}),new Date("1970-05-01T00:00:00.000Z").toLocaleDateString(e,{month:"long"}),new Date("1970-06-01T00:00:00.000Z").toLocaleDateString(e,{month:"long"}),new Date("1970-07-01T00:00:00.000Z").toLocaleDateString(e,{month:"long"}),new Date("1970-08-01T00:00:00.000Z").toLocaleDateString(e,{month:"long"}),new Date("1970-09-01T00:00:00.000Z").toLocaleDateString(e,{month:"long"}),new Date("1970-10-01T00:00:00.000Z").toLocaleDateString(e,{month:"long"}),new Date("1970-11-01T00:00:00.000Z").toLocaleDateString(e,{month:"long"}),new Date("1970-12-01T00:00:00.000Z").toLocaleDateString(e,{month:"long"})]}function R(){if(typeof globalThis.monthNamesShort<"u")return globalThis.monthNamesShort;const e=s();return[new Date("1970-01-01T00:00:00.000Z").toLocaleDateString(e,{month:"short"}),new Date("1970-02-01T00:00:00.000Z").toLocaleDateString(e,{month:"short"}),new Date("1970-03-01T00:00:00.000Z").toLocaleDateString(e,{month:"short"}),new Date("1970-04-01T00:00:00.000Z").toLocaleDateString(e,{month:"short"}),new Date("1970-05-01T00:00:00.000Z").toLocaleDateString(e,{month:"short"}),new Date("1970-06-01T00:00:00.000Z").toLocaleDateString(e,{month:"short"}),new Date("1970-07-01T00:00:00.000Z").toLocaleDateString(e,{month:"short"}),new Date("1970-08-01T00:00:00.000Z").toLocaleDateString(e,{month:"short"}),new Date("1970-09-01T00:00:00.000Z").toLocaleDateString(e,{month:"short"}),new Date("1970-10-01T00:00:00.000Z").toLocaleDateString(e,{month:"short"}),new Date("1970-11-01T00:00:00.000Z").toLocaleDateString(e,{month:"short"}),new Date("1970-12-01T00:00:00.000Z").toLocaleDateString(e,{month:"short"})]}function k(e=Date.now(),a={}){const t={ignoreSeconds:!1,language:w(),relativeTime:"long",...a},r=new Date(e),n=new Intl.RelativeTimeFormat([t.language,w()],{numeric:"auto",style:t.relativeTime}),g=(r.getTime()-Date.now())/1e3;if(Math.abs(g)<59.5)return t.ignoreSeconds||n.format(Math.round(g),"second");const m=g/60;if(Math.abs(m)<=59)return n.format(Math.round(m),"minute");const i=m/60;if(Math.abs(i)<23.5)return n.format(Math.round(i),"hour");const o=i/24;if(Math.abs(o)<6.5)return n.format(Math.round(o),"day");if(Math.abs(o)<27.5){const d=o/7;return n.format(Math.round(d),"week")}const D=o/30,T=Math.abs(D)<11?{month:t.relativeTime,day:"numeric"}:{year:t.relativeTime==="narrow"?"2-digit":"numeric",month:t.relativeTime};return new Intl.DateTimeFormat([t.language,w()],T).format(r)}Z(p);const b={long:h("a few seconds ago"),short:h("seconds ago"),narrow:h("sec. ago")};function M(e=Date.now(),a={}){let t;const r=l(()=>new Date(c(e))),n=l(()=>{const{language:i,relativeTime:o,ignoreSeconds:D}=c(a);return{...i&&{language:i},...o&&{relativeTime:o},ignoreSeconds:D?b[o||"long"]:!1}}),g=S("");f(()=>m());function m(){if(g.value=k(r.value,n.value),c(a).update!==!1){const i=Math.abs(Date.now()-new Date(c(e)).getTime()),o=i>12e4||n.value.ignoreSeconds?Math.min(i/60,18e5):1e3;t=window.setTimeout(m,o)}}return y(()=>t&&window.clearTimeout(t)),L(g)}function N(e,a){const t=l(()=>({locale:s(),format:{dateStyle:"short",timeStyle:"medium"},...c(a)})),r=l(()=>new Intl.DateTimeFormat(t.value.locale,t.value.format));return l(()=>r.value.format(c(e)))}const I={name:"NcDateTime",props:{timestamp:{type:[Date,Number],required:!0},format:{type:Object,default:()=>({timeStyle:"medium",dateStyle:"short"})},relativeTime:{type:[Boolean,String],default:"long",validator:e=>e===!1||["long","short","narrow"].includes(e)},ignoreSeconds:{type:Boolean,default:!1}},setup(e){const a=l(()=>({format:e.format})),t=l(()=>({ignoreSeconds:e.ignoreSeconds,relativeTime:e.relativeTime||"long",update:e.relativeTime!==!1})),r=N(u(e,"timestamp"),a),n=M(u(e,"timestamp"),t);return{formattedTime:l(()=>e.relativeTime?n.value:r.value),title:r}}};var x=function(){var e=this,a=e._self._c;return a("span",{staticClass:"nc-datetime",attrs:{"data-timestamp":e.timestamp,title:e.title},domProps:{textContent:e._s(e.formattedTime)}})},B=[],F=v(I,x,B,!1,null,null);const E=F.exports;export{E as N,A as a,z as b,q as c,R as d,O as e,j as g};
//# sourceMappingURL=NcDateTime-kanSdMgW-hnq8vrzE.chunk.mjs.map

{"version":3,"file":"NcDialog-CKgpZOiy-CeLaNMKv.chunk.mjs","sources":["../node_modules/@nextcloud/vue/dist/chunks/NcDialog-CKgpZOiy.mjs"],"sourcesContent":["import '../assets/NcDialog-BPI0CJvw.css';\nimport { useElementSize } from \"@vueuse/core\";\nimport { defineComponent, ref, computed } from \"vue\";\nimport NcModal from \"../Components/NcModal.mjs\";\nimport { N as NcDialogButton } from \"./NcDialogButton-CROAi1Ll.mjs\";\nimport { G as GenRandomId } from \"./GenRandomId-CMooMQt0.mjs\";\nimport { n as normalizeComponent } from \"./_plugin-vue2_normalizer-DU4iP6Vu.mjs\";\nconst _sfc_main = defineComponent({\n  name: \"NcDialog\",\n  components: {\n    NcDialogButton,\n    NcModal\n  },\n  props: {\n    /** Name of the dialog (the heading) */\n    name: {\n      type: String,\n      required: true\n    },\n    /** Text of the dialog */\n    message: {\n      type: String,\n      default: \"\"\n    },\n    /** Additional elements to add to the focus trap */\n    additionalTrapElements: {\n      type: Array,\n      validator: (arr) => {\n        return Array.isArray(arr) && arr.every(\n          (element) => typeof element === \"string\" || element instanceof HTMLElement\n        );\n      },\n      default: () => []\n    },\n    /**\n     * The element where to mount the dialog, if `null` is passed the dialog is mounted in place\n     * @default 'body'\n     */\n    container: {\n      type: String,\n      required: false,\n      default: \"body\"\n    },\n    /**\n     * Whether the dialog should be shown\n     * @default true\n     */\n    open: {\n      type: Boolean,\n      default: true\n    },\n    /**\n     * Size of the underlying NcModal\n     * @default 'small'\n     * @type {'small'|'normal'|'large'|'full'}\n     */\n    size: {\n      type: String,\n      required: false,\n      default: \"small\",\n      validator: (value) => typeof value === \"string\" && [\"small\", \"normal\", \"large\", \"full\"].includes(value)\n    },\n    /**\n     * Buttons to display\n     * @default []\n     */\n    buttons: {\n      type: Array,\n      required: false,\n      default: () => [],\n      validator: (value) => Array.isArray(value) && value.every((element) => typeof element === \"object\")\n    },\n    /**\n     * Do not show the close button for the dialog.\n     * @default false\n     */\n    noClose: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * Set to false to no show a close button on the dialog\n     * @deprecated - Use `noClose` instead. Will be removed in v9.\n     * @default true\n     */\n    canClose: {\n      type: Boolean,\n      default: true\n    },\n    /**\n     * Close the dialog if the user clicked outside of the dialog\n     * Only relevant if `canClose` is set to true.\n     */\n    closeOnClickOutside: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * Make the dialog wrapper a HTML form element.\n     * The buttons will be wrapped within the form so they can be used as submit / reset buttons.\n     * Please note that when using the property the `navigation` should not be used.\n     */\n    isForm: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * Declare if hiding the modal should be animated\n     * @default false\n     */\n    outTransition: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * Optionally pass additional classes which will be set on the navigation for custom styling\n     * @default ''\n     * @example\n     * ```html\n     * <DialogBase :navigation-classes=\"['mydialog-navigation']\"><!-- --></DialogBase>\n     * <!-- ... -->\n     * <style lang=\"scss\">\n     * :deep(.mydialog-navigation) {\n     *     flex-direction: row-reverse;\n     * }\n     * </style>\n     * ```\n     */\n    navigationClasses: {\n      type: [String, Array, Object],\n      required: false,\n      default: \"\"\n    },\n    /**\n     * aria-label for the dialog navigation.\n     * Use it when you want to provide a more meaningful label than the dialog name.\n     *\n     * By default, navigation is labeled by the dialog name.\n     */\n    navigationAriaLabel: {\n      type: String,\n      required: false,\n      default: \"\"\n    },\n    /**\n     * aria-labelledby for the dialog navigation.\n     * Use it when you have an implicit navigation label (e.g. a heading).\n     *\n     * By default, navigation is labeled by the dialog name.\n     */\n    navigationAriaLabelledby: {\n      type: String,\n      required: false,\n      default: \"\"\n    },\n    /**\n     * Optionally pass additional classes which will be set on the content wrapper for custom styling\n     * @default ''\n     */\n    contentClasses: {\n      type: [String, Array, Object],\n      required: false,\n      default: \"\"\n    },\n    /**\n     * Optionally pass additional classes which will be set on the dialog itself\n     * (the default `class` attribute will be set on the modal wrapper)\n     * @default ''\n     */\n    dialogClasses: {\n      type: [String, Array, Object],\n      required: false,\n      default: \"\"\n    }\n  },\n  emits: [\"closing\", \"update:open\", \"submit\"],\n  setup(props, { emit, slots }) {\n    const wrapper = ref();\n    const { width: dialogWidth } = useElementSize(wrapper, { width: 900 });\n    const isNavigationCollapsed = computed(() => dialogWidth.value < 876);\n    const hasNavigation = computed(() => slots?.navigation !== void 0);\n    const navigationId = GenRandomId();\n    const navigationAriaLabelAttr = computed(() => props.navigationAriaLabel || void 0);\n    const navigationAriaLabelledbyAttr = computed(() => {\n      if (props.navigationAriaLabel) {\n        return void 0;\n      }\n      return props.navigationAriaLabelledby || navigationId;\n    });\n    const dialogElement = ref();\n    const dialogTagName = computed(() => props.isForm && !hasNavigation.value ? \"form\" : \"div\");\n    const dialogListeners = computed(\n      () => dialogTagName.value === \"form\" ? {\n        /**\n         * @param {SubmitEvent} event Form submit event\n         */\n        submit(event) {\n          event.preventDefault();\n          emit(\"submit\", event);\n        },\n        /**\n         * @param {Event} event Form submit event\n         */\n        reset(event) {\n          event.preventDefault();\n          emit(\"reset\", event);\n        }\n      } : {}\n    );\n    const showModal = ref(true);\n    function handleButtonClose(button, result) {\n      if (button.nativeType === \"submit\" && dialogTagName.value === \"form\" && !dialogElement.value.reportValidity()) {\n        return;\n      }\n      handleClosing(result);\n      window.setTimeout(() => handleClosed(), 300);\n    }\n    const handleClosing = (result) => {\n      showModal.value = false;\n      emit(\"closing\", result);\n    };\n    const handleClosed = () => {\n      showModal.value = true;\n      emit(\"update:open\", false);\n    };\n    const modalProps = computed(() => ({\n      noClose: props.noClose || !props.canClose,\n      container: props.container === void 0 ? \"body\" : props.container,\n      // we do not pass the name as we already have the name as the headline\n      // name: props.name,\n      // But we need to set the correct label id so the dialog is labelled\n      labelId: navigationId,\n      size: props.size,\n      show: props.open && showModal.value,\n      outTransition: props.outTransition,\n      closeOnClickOutside: props.closeOnClickOutside,\n      additionalTrapElements: props.additionalTrapElements\n    }));\n    return {\n      dialogElement,\n      dialogListeners,\n      dialogTagName,\n      handleButtonClose,\n      handleClosing,\n      handleClosed,\n      hasNavigation,\n      navigationId,\n      navigationAriaLabelAttr,\n      navigationAriaLabelledbyAttr,\n      isNavigationCollapsed,\n      modalProps,\n      wrapper\n    };\n  }\n});\nvar _sfc_render = function render() {\n  var _vm = this, _c = _vm._self._c;\n  _vm._self._setupProxy;\n  return _vm.open ? _c(\"NcModal\", _vm._b({ staticClass: \"dialog__modal\", attrs: { \"enable-slideshow\": false, \"enable-swipe\": false }, on: { \"close\": _vm.handleClosed, \"update:show\": function($event) {\n    return _vm.handleClosing();\n  } } }, \"NcModal\", _vm.modalProps, false), [_c(\"h2\", { staticClass: \"dialog__name\", attrs: { \"id\": _vm.navigationId }, domProps: { \"textContent\": _vm._s(_vm.name) } }), _c(_vm.dialogTagName, _vm._g({ ref: \"dialogElement\", tag: \"component\", staticClass: \"dialog\", class: _vm.dialogClasses }, _vm.dialogListeners), [_c(\"div\", { ref: \"wrapper\", class: [\"dialog__wrapper\", { \"dialog__wrapper--collapsed\": _vm.isNavigationCollapsed }] }, [_vm.hasNavigation ? _c(\"nav\", { staticClass: \"dialog__navigation\", class: _vm.navigationClasses, attrs: { \"aria-label\": _vm.navigationAriaLabelAttr, \"aria-labelledby\": _vm.navigationAriaLabelledbyAttr } }, [_vm._t(\"navigation\", null, { \"isCollapsed\": _vm.isNavigationCollapsed })], 2) : _vm._e(), _c(\"div\", { staticClass: \"dialog__content\", class: _vm.contentClasses }, [_vm._t(\"default\", function() {\n    return [_c(\"p\", { staticClass: \"dialog__text\" }, [_vm._v(\" \" + _vm._s(_vm.message) + \" \")])];\n  })], 2)]), _c(\"div\", { staticClass: \"dialog__actions\" }, [_vm._t(\"actions\", function() {\n    return _vm._l(_vm.buttons, function(button, idx) {\n      return _c(\"NcDialogButton\", _vm._b({ key: idx, on: { \"click\": (_, result) => _vm.handleButtonClose(button, result) } }, \"NcDialogButton\", button, false));\n    });\n  })], 2)])], 1) : _vm._e();\n};\nvar _sfc_staticRenderFns = [];\nvar __component__ = /* @__PURE__ */ normalizeComponent(\n  _sfc_main,\n  _sfc_render,\n  _sfc_staticRenderFns,\n  false,\n  null,\n  \"1aa5fbdd\"\n);\nconst NcDialog = __component__.exports;\nexport {\n  NcDialog as N\n};\n//# sourceMappingURL=NcDialog-CKgpZOiy.mjs.map\n"],"names":["ref"],"mappings":"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","x_google_ignoreList":[0]}
import{n as d,x as h,B as m}from"./index-ycziVi-9.chunk.mjs";import{l as p}from"./vue.runtime.esm-OiydnxB-.chunk.mjs";import{N as f}from"./index-gUDvIMxF.chunk.mjs";const v={name:"NcCounterBubble",props:{type:{type:String,default:"",validator(t){return["highlighted","outlined",""].includes(t)}},active:{type:Boolean,default:!1},count:{type:Number,required:!1,default:void 0},raw:{type:Boolean,required:!1,default:!1}},computed:{counterClassObject(){return{"counter-bubble__counter--highlighted":this.type==="highlighted","counter-bubble__counter--outlined":this.type==="outlined",active:this.active}},humanizedCount(){return this.humanizeCount(this.count)}},methods:{humanizeCount(t){return this.raw?t.toString():new Intl.NumberFormat(p(),{notation:"compact",compactDisplay:"short"}).format(t)},getHumanizedCount(){var t,e;if(this.count!==void 0)return{humanized:this.humanizedCount,original:this.count.toString()};if(!this.raw&&((t=this.$slots.default)==null?void 0:t.length)===1){const s=(e=this.$slots.default[0].text)==null?void 0:e.trim();if(s&&/^\d+$/.test(s)){const n=parseInt(s,10);return{humanized:this.humanizeCount(n),original:s}}}}},render(t){var s;const e=this.getHumanizedCount();return t("div",{staticClass:"counter-bubble__counter",class:this.counterClassObject,attrs:{title:e&&e.original!==e.humanized?e.original:void 0}},[(s=e==null?void 0:e.humanized)!=null?s:this.$slots.default])}},_=null,y=null;var b=d(v,_,y,!1,null,"7d9795d6");const g=b.exports;var u;const[c]=(u=m("core","config",{version:"30.0"}).version.split(".",2))!=null?u:[],A=c&&Number.parseInt(c)<30,C={name:"NcListItem",components:{NcActions:h,NcCounterBubble:g,NcVNodes:f},props:{details:{type:String,default:""},name:{type:String,default:void 0},exact:{type:Boolean,default:!1},to:{type:[String,Object],default:null},href:{type:String,default:"#"},target:{type:String,default:""},anchorId:{type:String,default:""},bold:{type:Boolean,default:!1},compact:{type:Boolean,default:!1},active:{type:Boolean,default:void 0},linkAriaLabel:{type:String,default:""},actionsAriaLabel:{type:String,default:void 0},counterNumber:{type:[Number,String],default:0},counterType:{type:String,default:"",validator(t){return["highlighted","outlined",""].indexOf(t)!==-1}},forceDisplayActions:{type:Boolean,default:!1},forceMenu:{type:Boolean,default:!1},oneLine:{type:Boolean,default:!1}},emits:["click","dragstart","update:menuOpen"],setup(){return{isLegacy:A}},data(){return{hovered:!1,hasActions:!1,hasSubname:!1,displayActionsOnHoverFocus:!1,menuOpen:!1,hasIndicator:!1,hasDetails:!1}},computed:{showAdditionalElements(){return!this.displayActionsOnHoverFocus||this.forceDisplayActions},showDetails(){return(this.details!==""||this.hasDetails)&&(!this.displayActionsOnHoverFocus||this.forceDisplayActions)}},watch:{menuOpen(t){!t&&!this.hovered&&(this.displayActionsOnHoverFocus=!1)}},mounted(){this.checkSlots()},updated(){this.checkSlots()},methods:{onClick(t,e,s){this.$emit("click",t),!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&s&&(e==null||e(t),t.preventDefault())},showActions(){this.hasActions&&(this.displayActionsOnHoverFocus=!0),this.hovered=!1},hideActions(){this.displayActionsOnHoverFocus=!1},handleBlur(t){this.menuOpen||this.$refs["list-item"].contains(t.relatedTarget)||this.hideActions()},handleMouseleave(){this.menuOpen||(this.displayActionsOnHoverFocus=!1),this.hovered=!1},handleMouseover(){this.showActions(),this.hovered=!0},handleActionsUpdateOpen(t){this.menuOpen=t,this.$emit("update:menuOpen",t)},checkSlots(){this.hasActions!==!!this.$slots.actions&&(this.hasActions=!!this.$slots.actions),this.hasSubname!==!!this.$slots.subname&&(this.hasSubname=!!this.$slots.subname),this.hasIndicator!==!!this.$slots.indicator&&(this.hasIndicator=!!this.$slots.indicator),this.hasDetails!==!!this.$slots.details&&(this.hasDetails=!!this.$slots.details)}}};var O=function(){var t=this,e=t._self._c;return e(t.to?"router-link":"NcVNodes",{tag:"component",attrs:{custom:t.to?!0:null,to:t.to,exact:t.to?t.exact:null},scopedSlots:t._u([{key:"default",fn:function({href:s,navigate:n,isActive:a}){var o,l,r;return[e("li",{staticClass:"list-item__wrapper",class:{"list-item__wrapper--active":(o=t.active)!=null?o:a}},[e("div",{ref:"list-item",staticClass:"list-item",class:{"list-item--compact":t.compact,"list-item--legacy":t.isLegacy,"list-item--one-line":t.oneLine},on:{mouseover:t.handleMouseover,mouseleave:t.handleMouseleave}},[e("a",{staticClass:"list-item__anchor",attrs:{id:t.anchorId||void 0,"aria-label":t.linkAriaLabel,href:s||t.href,target:t.target||(t.href==="#"?void 0:"_blank"),rel:t.href==="#"?void 0:"noopener noreferrer"},on:{focus:t.showActions,focusout:t.handleBlur,click:function(i){return t.onClick(i,n,s)},dragstart:function(i){return t.$emit("dragstart",i)},keydown:function(i){return!i.type.indexOf("key")&&t._k(i.keyCode,"esc",27,i.key,["Esc","Escape"])?null:t.hideActions.apply(null,arguments)}}},[t._t("icon"),e("div",{staticClass:"list-item-content"},[e("div",{staticClass:"list-item-content__main"},[e("div",{staticClass:"list-item-content__name"},[t._t("name",function(){return[t._v(t._s(t.name))]})],2),t.hasSubname?e("div",{staticClass:"list-item-content__subname",class:{"list-item-content__subname--bold":t.bold}},[t._t("subname")],2):t._e()]),e("div",{staticClass:"list-item-content__details"},[t.showDetails?e("div",{staticClass:"list-item-details__details"},[t._t("details",function(){return[t._v(t._s(t.details))]})],2):t._e(),t.counterNumber||t.hasIndicator?e("div",{directives:[{name:"show",rawName:"v-show",value:t.showAdditionalElements,expression:"showAdditionalElements"}],staticClass:"list-item-details__extra"},[t.counterNumber?e("NcCounterBubble",{staticClass:"list-item-details__counter",attrs:{active:(l=t.active)!=null?l:a,type:t.counterType}},[t._v(" "+t._s(t.counterNumber)+" ")]):t._e(),t.hasIndicator?e("span",{staticClass:"list-item-details__indicator"},[t._t("indicator")],2):t._e()],1):t._e()])])],2),t.$slots["extra-actions"]?e("div",{staticClass:"list-item-content__extra-actions"},[t._t("extra-actions")],2):t._e(),t.forceDisplayActions||t.displayActionsOnHoverFocus?e("div",{staticClass:"list-item-content__actions",on:{focusout:t.handleBlur}},[e("NcActions",{ref:"actions",attrs:{primary:(r=t.active)!=null?r:a,"force-menu":t.forceMenu,"aria-label":t.actionsAriaLabel},on:{"update:open":t.handleActionsUpdateOpen},scopedSlots:t._u([t.$slots["actions-icon"]?{key:"icon",fn:function(){return[t._t("actions-icon")]},proxy:!0}:null],null,!0)},[t._t("actions")],2)],1):t._e(),t.$slots.extra?e("div",{staticClass:"list-item__extra"},[t._t("extra")],2):t._e()])])]}}],null,!0)})},S=[],N=d(C,O,S,!1,null,"1596ceaf");const $=N.exports;export{$ as N};
//# sourceMappingURL=NcListItem-DzezqYDz-DVueuKq4.chunk.mjs.map

{"version":3,"file":"NcUserBubble-B3-E-5F5-B3tz6PYr.chunk.mjs","sources":["../node_modules/@nextcloud/vue/dist/chunks/NcUserBubble-B3-E-5F5.mjs"],"sourcesContent":["import '../assets/NcUserBubble-BsTKRhKz.css';\nimport { n as normalizeComponent } from \"./_plugin-vue2_normalizer-DU4iP6Vu.mjs\";\nimport { N as NcAvatar } from \"./NcAvatar-YSp2ORHc.mjs\";\nimport { N as NcPopover } from \"./NcPopover-kYsewfff.mjs\";\nimport Vue from \"vue\";\nimport { RouterLink } from \"vue-router\";\nconst _sfc_main$1 = {\n  name: \"NcUserBubbleDiv\"\n};\nvar _sfc_render$1 = function render() {\n  var _vm = this, _c = _vm._self._c;\n  return _c(\"div\", [_vm._t(\"trigger\")], 2);\n};\nvar _sfc_staticRenderFns$1 = [];\nvar __component__$1 = /* @__PURE__ */ normalizeComponent(\n  _sfc_main$1,\n  _sfc_render$1,\n  _sfc_staticRenderFns$1,\n  false,\n  null,\n  null\n);\nconst NcUserBubbleDiv = __component__$1.exports;\nconst _sfc_main = {\n  name: \"NcUserBubble\",\n  components: {\n    NcAvatar,\n    NcPopover,\n    NcUserBubbleDiv\n  },\n  props: {\n    /**\n     * Override generated avatar, can be an url or an icon class\n     */\n    avatarImage: {\n      type: String,\n      default: void 0\n    },\n    /**\n     * Provide the user id if this is a user\n     */\n    user: {\n      type: String,\n      default: void 0\n    },\n    /**\n     * Displayed label\n     */\n    displayName: {\n      type: String,\n      default: void 0\n    },\n    /**\n     * Whether or not to display the user-status\n     */\n    showUserStatus: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * Define the whole bubble as a link\n     */\n    url: {\n      type: String,\n      default: void 0,\n      validator: (url) => {\n        try {\n          url = new URL(url, url?.startsWith?.(\"/\") ? window.location.href : void 0);\n          return true;\n        } catch (error) {\n          return false;\n        }\n      }\n    },\n    /**\n     * Use bubble as a router-link for in-app navigation\n     */\n    to: {\n      type: [String, Object],\n      default: void 0\n    },\n    /**\n     * Default popover state. Requires the UserBubble\n     * to have some content to render inside the popover\n     */\n    open: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * Use the primary colour\n     */\n    primary: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * This is the height of the component\n     */\n    size: {\n      type: Number,\n      default: 20\n    },\n    /**\n     * This is the margin of the avatar (size - margin = avatar size)\n     */\n    margin: {\n      type: Number,\n      default: 2\n    }\n  },\n  emits: [\n    \"click\",\n    \"update:open\"\n  ],\n  computed: {\n    /**\n     * If userbubble is empty, let's NOT\n     * use the Popover component\n     * We need a component instead of a simple div here,\n     * because otherwise the trigger template will not be shown.\n     *\n     * @return {string} 'Popover' or 'UserBubbleDiv'\n     */\n    isPopoverComponent() {\n      return !this.popoverEmpty ? \"NcPopover\" : \"NcUserBubbleDiv\";\n    },\n    /**\n     * Is the provided avatar url valid or not\n     *\n     * @return {boolean}\n     */\n    isAvatarUrl() {\n      if (!this.avatarImage) {\n        return false;\n      }\n      try {\n        const url = new URL(this.avatarImage);\n        return !!url;\n      } catch (error) {\n        return false;\n      }\n    },\n    /**\n     * Do we have a custom avatar or not\n     *\n     * @return {boolean}\n     */\n    isCustomAvatar() {\n      return !!this.avatarImage;\n    },\n    hasUrl() {\n      return this.url && this.url.trim() !== \"\";\n    },\n    isLinkComponent() {\n      if (this.hasUrl) {\n        return \"a\";\n      } else if (this.to) {\n        return RouterLink;\n      } else {\n        return \"div\";\n      }\n    },\n    popoverEmpty() {\n      if (\"default\" in this.$slots) {\n        return false;\n      }\n      return true;\n    },\n    styles() {\n      return {\n        content: {\n          height: this.size + \"px\",\n          lineHeight: this.size + \"px\",\n          borderRadius: this.size / 2 + \"px\"\n        },\n        avatar: {\n          marginInlineStart: this.margin + \"px\"\n        }\n      };\n    }\n  },\n  mounted() {\n    if (!this.displayName && !this.user) {\n      Vue.util.warn(\"[NcUserBubble] At least `displayName` or `user` property should be set.\");\n    }\n  },\n  methods: {\n    onOpenChange(state) {\n      this.$emit(\"update:open\", state);\n    },\n    /**\n     * Catch and forward click event to parent\n     *\n     * @param {Event} event the click event\n     */\n    onClick(event) {\n      this.$emit(\"click\", event);\n    }\n  }\n};\nvar _sfc_render = function render2() {\n  var _vm = this, _c = _vm._self._c;\n  return _c(_vm.isPopoverComponent, { tag: \"component\", staticClass: \"user-bubble__wrapper\", attrs: { \"trigger\": \"hover focus\", \"shown\": _vm.open }, on: { \"update:open\": _vm.onOpenChange }, scopedSlots: _vm._u([{ key: \"trigger\", fn: function({ attrs }) {\n    return [_c(_vm.isLinkComponent, _vm._b({ tag: \"component\", staticClass: \"user-bubble__content\", class: { \"user-bubble__content--primary\": _vm.primary }, style: _vm.styles.content, attrs: { \"to\": _vm.to, \"href\": _vm.hasUrl ? _vm.url : null }, on: { \"click\": _vm.onClick } }, \"component\", attrs, false), [_c(\"NcAvatar\", { staticClass: \"user-bubble__avatar\", style: _vm.styles.avatar, attrs: { \"url\": _vm.isCustomAvatar && _vm.isAvatarUrl ? _vm.avatarImage : void 0, \"icon-class\": _vm.isCustomAvatar && !_vm.isAvatarUrl ? _vm.avatarImage : void 0, \"user\": _vm.user, \"display-name\": _vm.displayName, \"size\": _vm.size - _vm.margin * 2, \"disable-tooltip\": true, \"disable-menu\": true, \"show-user-status\": _vm.showUserStatus } }), _c(\"span\", { staticClass: \"user-bubble__name\" }, [_vm._v(\" \" + _vm._s(_vm.displayName || _vm.user) + \" \")]), _vm.$slots.name ? _c(\"span\", { staticClass: \"user-bubble__secondary\" }, [_vm._t(\"name\")], 2) : _vm._e()], 1)];\n  } }], null, true) }, [_vm._t(\"default\")], 2);\n};\nvar _sfc_staticRenderFns = [];\nvar __component__ = /* @__PURE__ */ normalizeComponent(\n  _sfc_main,\n  _sfc_render,\n  _sfc_staticRenderFns,\n  false,\n  null,\n  \"a62a9496\"\n);\nconst NcUserBubble = __component__.exports;\nexport {\n  NcUserBubble as N\n};\n//# sourceMappingURL=NcUserBubble-B3-E-5F5.mjs.map\n"],"names":["RouterLink"],"mappings":"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","x_google_ignoreList":[0]}
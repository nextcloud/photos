{"version":3,"file":"NcUserBubble-B3-E-5F5-PCL0TJHA.chunk.mjs","sources":["../node_modules/@nextcloud/vue/dist/chunks/NcUserBubble-B3-E-5F5.mjs"],"sourcesContent":["import '../assets/NcUserBubble-BsTKRhKz.css';\nimport { n as normalizeComponent } from \"./_plugin-vue2_normalizer-DU4iP6Vu.mjs\";\nimport { N as NcAvatar } from \"./NcAvatar-YSp2ORHc.mjs\";\nimport { N as NcPopover } from \"./NcPopover-kYsewfff.mjs\";\nimport Vue from \"vue\";\nimport { RouterLink } from \"vue-router\";\nconst _sfc_main$1 = {\n  name: \"NcUserBubbleDiv\"\n};\nvar _sfc_render$1 = function render() {\n  var _vm = this, _c = _vm._self._c;\n  return _c(\"div\", [_vm._t(\"trigger\")], 2);\n};\nvar _sfc_staticRenderFns$1 = [];\nvar __component__$1 = /* @__PURE__ */ normalizeComponent(\n  _sfc_main$1,\n  _sfc_render$1,\n  _sfc_staticRenderFns$1,\n  false,\n  null,\n  null\n);\nconst NcUserBubbleDiv = __component__$1.exports;\nconst _sfc_main = {\n  name: \"NcUserBubble\",\n  components: {\n    NcAvatar,\n    NcPopover,\n    NcUserBubbleDiv\n  },\n  props: {\n    /**\n     * Override generated avatar, can be an url or an icon class\n     */\n    avatarImage: {\n      type: String,\n      default: void 0\n    },\n    /**\n     * Provide the user id if this is a user\n     */\n    user: {\n      type: String,\n      default: void 0\n    },\n    /**\n     * Displayed label\n     */\n    displayName: {\n      type: String,\n      default: void 0\n    },\n    /**\n     * Whether or not to display the user-status\n     */\n    showUserStatus: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * Define the whole bubble as a link\n     */\n    url: {\n      type: String,\n      default: void 0,\n      validator: (url) => {\n        try {\n          url = new URL(url, url?.startsWith?.(\"/\") ? window.location.href : void 0);\n          return true;\n        } catch (error) {\n          return false;\n        }\n      }\n    },\n    /**\n     * Use bubble as a router-link for in-app navigation\n     */\n    to: {\n      type: [String, Object],\n      default: void 0\n    },\n    /**\n     * Default popover state. Requires the UserBubble\n     * to have some content to render inside the popover\n     */\n    open: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * Use the primary colour\n     */\n    primary: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * This is the height of the component\n     */\n    size: {\n      type: Number,\n      default: 20\n    },\n    /**\n     * This is the margin of the avatar (size - margin = avatar size)\n     */\n    margin: {\n      type: Number,\n      default: 2\n    }\n  },\n  emits: [\n    \"click\",\n    \"update:open\"\n  ],\n  computed: {\n    /**\n     * If userbubble is empty, let's NOT\n     * use the Popover component\n     * We need a component instead of a simple div here,\n     * because otherwise the trigger template will not be shown.\n     *\n     * @return {string} 'Popover' or 'UserBubbleDiv'\n     */\n    isPopoverComponent() {\n      return !this.popoverEmpty ? \"NcPopover\" : \"NcUserBubbleDiv\";\n    },\n    /**\n     * Is the provided avatar url valid or not\n     *\n     * @return {boolean}\n     */\n    isAvatarUrl() {\n      if (!this.avatarImage) {\n        return false;\n      }\n      try {\n        const url = new URL(this.avatarImage);\n        return !!url;\n      } catch (error) {\n        return false;\n      }\n    },\n    /**\n     * Do we have a custom avatar or not\n     *\n     * @return {boolean}\n     */\n    isCustomAvatar() {\n      return !!this.avatarImage;\n    },\n    hasUrl() {\n      return this.url && this.url.trim() !== \"\";\n    },\n    isLinkComponent() {\n      if (this.hasUrl) {\n        return \"a\";\n      } else if (this.to) {\n        return RouterLink;\n      } else {\n        return \"div\";\n      }\n    },\n    popoverEmpty() {\n      if (\"default\" in this.$slots) {\n        return false;\n      }\n      return true;\n    },\n    styles() {\n      return {\n        content: {\n          height: this.size + \"px\",\n          lineHeight: this.size + \"px\",\n          borderRadius: this.size / 2 + \"px\"\n        },\n        avatar: {\n          marginInlineStart: this.margin + \"px\"\n        }\n      };\n    }\n  },\n  mounted() {\n    if (!this.displayName && !this.user) {\n      Vue.util.warn(\"[NcUserBubble] At least `displayName` or `user` property should be set.\");\n    }\n  },\n  methods: {\n    onOpenChange(state) {\n      this.$emit(\"update:open\", state);\n    },\n    /**\n     * Catch and forward click event to parent\n     *\n     * @param {Event} event the click event\n     */\n    onClick(event) {\n      this.$emit(\"click\", event);\n    }\n  }\n};\nvar _sfc_render = function render2() {\n  var _vm = this, _c = _vm._self._c;\n  return _c(_vm.isPopoverComponent, { tag: \"component\", staticClass: \"user-bubble__wrapper\", attrs: { \"trigger\": \"hover focus\", \"shown\": _vm.open }, on: { \"update:open\": _vm.onOpenChange }, scopedSlots: _vm._u([{ key: \"trigger\", fn: function({ attrs }) {\n    return [_c(_vm.isLinkComponent, _vm._b({ tag: \"component\", staticClass: \"user-bubble__content\", class: { \"user-bubble__content--primary\": _vm.primary }, style: _vm.styles.content, attrs: { \"to\": _vm.to, \"href\": _vm.hasUrl ? _vm.url : null }, on: { \"click\": _vm.onClick } }, \"component\", attrs, false), [_c(\"NcAvatar\", { staticClass: \"user-bubble__avatar\", style: _vm.styles.avatar, attrs: { \"url\": _vm.isCustomAvatar && _vm.isAvatarUrl ? _vm.avatarImage : void 0, \"icon-class\": _vm.isCustomAvatar && !_vm.isAvatarUrl ? _vm.avatarImage : void 0, \"user\": _vm.user, \"display-name\": _vm.displayName, \"size\": _vm.size - _vm.margin * 2, \"disable-tooltip\": true, \"disable-menu\": true, \"show-user-status\": _vm.showUserStatus } }), _c(\"span\", { staticClass: \"user-bubble__name\" }, [_vm._v(\" \" + _vm._s(_vm.displayName || _vm.user) + \" \")]), _vm.$slots.name ? _c(\"span\", { staticClass: \"user-bubble__secondary\" }, [_vm._t(\"name\")], 2) : _vm._e()], 1)];\n  } }], null, true) }, [_vm._t(\"default\")], 2);\n};\nvar _sfc_staticRenderFns = [];\nvar __component__ = /* @__PURE__ */ normalizeComponent(\n  _sfc_main,\n  _sfc_render,\n  _sfc_staticRenderFns,\n  false,\n  null,\n  \"a62a9496\"\n);\nconst NcUserBubble = __component__.exports;\nexport {\n  NcUserBubble as N\n};\n//# sourceMappingURL=NcUserBubble-B3-E-5F5.mjs.map\n"],"names":["_sfc_main$1","_sfc_render$1","_vm","_c","_sfc_staticRenderFns$1","__component__$1","normalizeComponent","NcUserBubbleDiv","_sfc_main","NcAvatar","NcPopover","url","RouterLink","Vue","state","event","_sfc_render","attrs","_sfc_staticRenderFns","__component__","NcUserBubble"],"mappings":"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","x_google_ignoreList":[0]}
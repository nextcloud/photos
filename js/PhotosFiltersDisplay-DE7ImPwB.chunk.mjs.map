{"version":3,"file":"PhotosFiltersDisplay-DE7ImPwB.chunk.mjs","sources":["../src/components/PhotosFilters/DateRangeFilterInput.vue","../src/services/PhotosFilters/dateRangeFilter.ts","../node_modules/@nextcloud/vue/dist/Components/NcChip.mjs","../src/mixins/useAbortController.ts","../src/mixins/useFetchCollections.ts","../src/components/PhotosFilters/usePlaceFilter.ts","../src/components/PhotosFilters/PlacesFilterDisplay.vue","../src/components/PhotosFilters/PlacesFilterInput.vue","../src/services/PhotosFilters/placesFilter.ts","../src/services/PhotosFilters/index.ts"],"sourcesContent":["<!--\n  - SPDX-FileCopyrightText: 2025 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n<template>\n\t<NcDateTimePicker\n\t\tv-model=\"dateRange\"\n\t\t:clearable=\"true\"\n\t\ttype=\"date-range\"\n\t\t:placeholder=\"t('photos', 'Select a date range')\">\n\t\t<template #default>\n\t\t\t{{ t('photos', 'Date range') }}\n\t\t</template>\n\t</NcDateTimePicker>\n</template>\n\n<script lang=\"ts\" setup>\nimport type { DateRangeValueType } from '../../services/PhotosFilters/dateRangeFilter.ts'\n\nimport { t } from '@nextcloud/l10n'\nimport { ref, watch } from 'vue'\nimport NcDateTimePicker from '@nextcloud/vue/components/NcDateTimePicker'\n\nconst props = defineProps<{\n\tvalue: DateRangeValueType\n}>()\n\nconst emit = defineEmits<{\n\t(event: 'update:value', value: DateRangeValueType): void\n}>()\n\nconst dateRange = ref<[Date, Date] | [null, null]>([null, null])\n\nif (props.value !== undefined) {\n\tdateRange.value = [\n\t\tnew Date(props.value.start),\n\t\tnew Date(props.value.end),\n\t]\n}\n\nwatch(dateRange, (newDateRangeValue) => {\n\tif (newDateRangeValue[0] === null || newDateRangeValue[1] === null) {\n\t\temit('update:value', undefined)\n\t} else {\n\t\temit('update:value', {\n\t\t\tstart: newDateRangeValue[0].getTime(),\n\t\t\tend: newDateRangeValue[1].getTime(),\n\t\t})\n\t}\n})\n</script>\n","/*!\n * SPDX-FileCopyrightText: 2025 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport type { PhotosFilter } from './PhotosFilter.ts'\n\nimport DateRangeFilterDisplay from '../../components/PhotosFilters/DateRangeFilterDisplay.vue'\nimport DateRangeFilterInput from '../../components/PhotosFilters/DateRangeFilterInput.vue'\n\nexport type DateRangeValueType = { start: number, end: number } | undefined\n\nexport const dateRangeFilterId = 'date-range'\n\nexport const dateRangeFilter: PhotosFilter = {\n\tid: dateRangeFilterId,\n\tinputComponent: DateRangeFilterInput,\n\tdisplayComponent: DateRangeFilterDisplay,\n\tgetQuery(dateRange: DateRangeValueType): string {\n\t\tif (dateRange === undefined) {\n\t\t\treturn ''\n\t\t}\n\n\t\t// Add one day to the end date to include the whole day.\n\t\treturn `\n\t\t\t<d:and>\n\t\t\t\t<d:gt>\n\t\t\t\t\t<d:prop><nc:metadata-photos-original_date_time/></d:prop>\n\t\t\t\t\t<d:literal>${dateRange.start / 1000}</d:literal>\n\t\t\t\t</d:gt>\n\t\t\t\t<d:lt>\n\t\t\t\t\t<d:prop><nc:metadata-photos-original_date_time/></d:prop>\n\t\t\t\t\t<d:literal>${dateRange.end / 1000 + 24 * 60 * 60}</d:literal>\n\t\t\t\t</d:lt>\n\t\t\t</d:and>`\n\t},\n}\n","import '../assets/NcChip-CF4Q149V.css';\nimport { c as mdiClose } from \"../chunks/mdi-VRLMiqbd.mjs\";\nimport { useSlots, computed } from \"vue\";\nimport { r as register, n as t17, a as t } from \"../chunks/_l10n-DQgzdF9S.mjs\";\nimport { N as NcActions } from \"../chunks/NcActions-B4VZCD8B.mjs\";\nimport { N as NcActionButton } from \"../chunks/NcActionButton-CuVNJJtW.mjs\";\nimport { N as NcIconSvgWrapper } from \"../chunks/NcIconSvgWrapper-Cb-cPj1R.mjs\";\nimport { n as normalizeComponent } from \"../chunks/_plugin-vue2_normalizer-DU4iP6Vu.mjs\";\nregister(t17);\nconst _sfc_main = {\n  __name: \"NcChip\",\n  props: {\n    /**\n     * aria label to set on the close button\n     * @default 'Close'\n     */\n    ariaLabelClose: {\n      type: String,\n      default: t(\"Close\")\n    },\n    /**\n     * Container for the actions\n     */\n    actionsContainer: {\n      type: String,\n      default: \"body\"\n    },\n    /**\n     * Main text of the chip.\n     */\n    text: {\n      type: String,\n      default: \"\"\n    },\n    /**\n     * Set the chips design variant-\n     *\n     * This sets the background style of the chip, similar to NcButton's `variant`.\n     * @deprecated will be removed with v9 - use `variant` instead.\n     */\n    type: {\n      type: String,\n      default: \"secondary\",\n      validator: (value) => [\"primary\", \"secondary\", \"tertiary\"].includes(value)\n    },\n    /**\n     * SVG path of the icon to use, this takes precedence over `iconSVG`.\n     * For example icon paths from `@mdi/js` can be used.\n     */\n    iconPath: {\n      type: String,\n      default: null\n    },\n    /**\n     * Inline SVG to use as the icon\n     */\n    iconSvg: {\n      type: String,\n      default: null\n    },\n    /**\n     * Set to true to prevent the close button to be shown\n     */\n    noClose: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * Set the chips design variant-\n     *\n     * This sets the background style of the chip, similar to NcButton's `variant`.\n     * @since 8.24.0\n     */\n    variant: {\n      type: String,\n      default: \"secondary\",\n      validator: (value) => [\"primary\", \"secondary\", \"tertiary\"].includes(value)\n    }\n  },\n  emits: [\"close\"],\n  setup(__props, { emit }) {\n    const props = __props;\n    const slots = useSlots();\n    const realVariant = computed(() => props.type !== \"secondary\" ? props.type : props.variant);\n    const canClose = computed(() => !props.noClose);\n    const hasActions = () => Boolean(slots.actions?.());\n    const hasIcon = () => Boolean(props.iconPath || props.iconSvg || !!slots.icon?.());\n    const onClose = () => {\n      emit(\"close\");\n    };\n    return { __sfc: true, props, emit, slots, realVariant, canClose, hasActions, hasIcon, onClose, mdiClose, NcActions, NcActionButton, NcIconSvgWrapper };\n  }\n};\nvar _sfc_render = function render() {\n  var _vm = this, _c = _vm._self._c, _setup = _vm._self._setupProxy;\n  return _c(\"div\", { staticClass: \"nc-chip\", class: {\n    [`nc-chip--${_setup.realVariant}`]: true,\n    \"nc-chip--no-actions\": _vm.noClose && !_setup.hasActions(),\n    \"nc-chip--no-icon\": !_setup.hasIcon()\n  } }, [_setup.hasIcon() ? _c(\"span\", { staticClass: \"nc-chip__icon\" }, [_vm._t(\"icon\", function() {\n    return [_vm.iconPath || _vm.iconSvg ? _c(_setup.NcIconSvgWrapper, { attrs: { \"inline\": \"\", \"path\": _vm.iconPath, \"svg\": _vm.iconPath ? void 0 : _vm.iconSvg, \"size\": 18 } }) : _vm._e()];\n  })], 2) : _vm._e(), _c(\"span\", { staticClass: \"nc-chip__text\" }, [_vm._t(\"default\", function() {\n    return [_vm._v(_vm._s(_vm.text))];\n  })], 2), _setup.canClose || _setup.hasActions() ? _c(_setup.NcActions, { staticClass: \"nc-chip__actions\", attrs: { \"container\": _vm.actionsContainer, \"force-menu\": !_setup.canClose, \"variant\": \"tertiary-no-background\" } }, [_setup.canClose ? _c(_setup.NcActionButton, { attrs: { \"close-after-click\": \"\" }, on: { \"click\": _setup.onClose }, scopedSlots: _vm._u([{ key: \"icon\", fn: function() {\n    return [_c(_setup.NcIconSvgWrapper, { attrs: { \"path\": _setup.mdiClose, \"size\": 20 } })];\n  }, proxy: true }], null, false, 2547223506) }, [_vm._v(\" \" + _vm._s(_vm.ariaLabelClose) + \" \")]) : _vm._e(), _vm._t(\"actions\")], 2) : _vm._e()], 1);\n};\nvar _sfc_staticRenderFns = [];\nvar __component__ = /* @__PURE__ */ normalizeComponent(\n  _sfc_main,\n  _sfc_render,\n  _sfc_staticRenderFns,\n  false,\n  null,\n  \"a7b8715a\"\n);\nconst NcChip = __component__.exports;\nexport {\n  NcChip as default\n};\n//# sourceMappingURL=NcChip.mjs.map\n","/**\n * SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport { computed, onUnmounted, ref } from 'vue'\nimport router from '../router/index.ts'\n\n/**\n *\n */\nexport default function() {\n\tconst abortController = ref(new AbortController())\n\n\tconst abortSignal = computed(() => abortController.value.signal)\n\n\t/**\n\t *\n\t */\n\tfunction abortPendingRequest() {\n\t\tabortController.value.abort()\n\t\tabortController.value = new AbortController()\n\t}\n\n\tonUnmounted(() => {\n\t\tabortController.value.abort()\n\t})\n\n\trouter.beforeEach((from, to, next) => {\n\t\tabortPendingRequest()\n\t\tnext()\n\t})\n\n\treturn {\n\t\tabortSignal,\n\t\tabortPendingRequest,\n\t}\n}\n","/**\n * SPDX-FileCopyrightText: 2025 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport type { WebDAVClient } from 'webdav'\n\nimport { ref } from 'vue'\nimport {\n\ttype Collection,\n\n\tfetchCollections,\n} from '../services/collectionFetcher.js'\nimport { davClient } from '../services/DavClient.ts'\nimport logger from '../services/logger.js'\nimport store from '../store/index.ts'\nimport useAbortController from './useAbortController.ts'\n\n/**\n *\n */\nexport default function() {\n\tconst errorFetchingCollections = ref(null as null | number | Error | unknown)\n\tconst loadingCollections = ref(false)\n\tconst { abortSignal } = useAbortController()\n\n\t/**\n\t *\n\t * @param collectionHome\n\t * @param extraProps\n\t * @param client\n\t */\n\tasync function _fetchCollections(collectionHome: string, extraProps: string[] = [], client: WebDAVClient = davClient): Promise<Collection[]> {\n\t\tif (loadingCollections.value) {\n\t\t\treturn []\n\t\t}\n\n\t\ttry {\n\t\t\tloadingCollections.value = true\n\t\t\terrorFetchingCollections.value = null\n\n\t\t\tconst collections = await fetchCollections(collectionHome, { signal: abortSignal.value }, extraProps, client)\n\n\t\t\tstore.dispatch('addCollections', { collections })\n\n\t\t\treturn collections\n\t\t} catch (error) {\n\t\t\tif (error.response?.status === 404) {\n\t\t\t\terrorFetchingCollections.value = 404\n\t\t\t} else {\n\t\t\t\terrorFetchingCollections.value = error\n\t\t\t}\n\t\t\tlogger.error('Error fetching collections:', { error })\n\t\t} finally {\n\t\t\tloadingCollections.value = false\n\t\t}\n\n\t\treturn []\n\t}\n\n\treturn { fetchCollections: _fetchCollections, errorFetchingCollections, loadingCollections }\n}\n","/**\n * SPDX-FileCopyrightText: 2025 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport type { PlacesValueType } from '../../services/PhotosFilters/placesFilter.ts'\n\nimport { generateUrl } from '@nextcloud/router'\nimport { computed, ref, watch } from 'vue'\nimport useFetchCollections from '../../mixins/useFetchCollections.ts'\nimport store from '../../store/index.ts'\nimport { placesPrefix } from '../../store/places.ts'\n\ntype NcSelectPlaceOption = {\n\tlabel: string\n\tpreviewUrl?: string\n}\n\n/**\n *\n * @param props\n * @param emit\n */\nexport default function(props: Readonly<{ value: PlacesValueType }>, emit: (event: 'update:value', args: PlacesValueType) => void) {\n\tconst { fetchCollections, loadingCollections } = useFetchCollections()\n\n\tconst availablePlaces = ref<NcSelectPlaceOption[]>([])\n\n\tconst selectedPlaces = computed<NcSelectPlaceOption[]>({\n\t\tget() {\n\t\t\treturn (props.value ?? []).map((placeId) => {\n\t\t\t\tconst place = store.getters.getPlace(placeId)\n\n\t\t\t\treturn {\n\t\t\t\t\tlabel: place?.displayname ?? placeId,\n\t\t\t\t\tpreviewUrl: place ? generateUrl(`/apps/photos/api/v1/preview/${place.attributes['last-photo']}?x=${64}&y=${64}`) : undefined,\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tset(newSelectedPlacesValue) {\n\t\t\tif (newSelectedPlacesValue.length === 0) {\n\t\t\t\temit('update:value', undefined)\n\t\t\t} else {\n\t\t\t\temit('update:value', newSelectedPlacesValue.map((place) => place.label))\n\t\t\t}\n\t\t},\n\t})\n\n\tconst availablePlacesWithoutSelections = computed(() => availablePlaces.value.filter((option) => !selectedPlaces.value.includes(option)))\n\n\twatch(\n\t\t() => store.getters.places,\n\t\t(value) => {\n\t\t\tavailablePlaces.value = Object.values(value).map((place) => {\n\t\t\t\treturn {\n\t\t\t\t\tlabel: place.displayname,\n\t\t\t\t\tpreviewUrl: generateUrl(`/apps/photos/api/v1/preview/${place.attributes['last-photo']}?x=${64}&y=${64}`),\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t{ immediate: true },\n\t)\n\n\tif (Object.values(store.getters.places).length === 0) {\n\t\tfetchCollections(placesPrefix)\n\t}\n\n\treturn {\n\t\tavailablePlacesWithoutSelections,\n\t\tselectedPlaces,\n\t\tloadingCollections,\n\t}\n}\n","<!--\n  - SPDX-FileCopyrightText: 2025 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n<template>\n\t<div>\n\t\t<MapMarker /> <b>{{ t('photos', 'Places') }}: </b>\n\t\t<span v-for=\"place in selectedPlaces\" :key=\"place.label\">\n\t\t\t<NcChip no-close>\n\t\t\t\t<template v-if=\"place.previewUrl !== undefined\" #icon>\n\t\t\t\t\t<img :src=\"place.previewUrl\" class=\"place__preview\">\n\t\t\t\t</template>\n\t\t\t\t<template #default>\n\t\t\t\t\t{{ place.label }}\n\t\t\t\t</template>\n\t\t\t</NcChip>\n\t\t</span>\n\t</div>\n</template>\n\n<script lang=\"ts\" setup>\nimport type { PlacesValueType } from '../../services/PhotosFilters/placesFilter.ts'\n\nimport { t } from '@nextcloud/l10n'\nimport NcChip from '@nextcloud/vue/components/NcChip'\nimport MapMarker from 'vue-material-design-icons/MapMarker.vue'\nimport usePlaceFilter from './usePlaceFilter.ts'\n\nconst props = defineProps<{\n\tvalue: PlacesValueType\n}>()\n\nconst emit = defineEmits<{\n\t(event: 'update:value', value: PlacesValueType): void\n}>()\n\nconst { selectedPlaces } = usePlaceFilter(props, emit)\n</script>\n\n<style lang=\"scss\" scoped>\n.place__preview {\n\twidth: 20px;\n\theight: 20px;\n\tborder-radius: 100%;\n}\n</style>\n","<!--\n  - SPDX-FileCopyrightText: 2025 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n<template>\n\t<NcSelect\n\t\tv-model=\"selectedPlaces\"\n\t\tclass=\"places-select\"\n\t\t:options=\"availablePlacesWithoutSelections\"\n\t\t:aria-label-combobox=\"t('photos', 'Select places')\"\n\t\t:placeholder=\"t('photos', 'Select places')\"\n\t\t:loading=\"loadingCollections\"\n\t\t:multiple=\"true\">\n\t\t<template #option=\"option\">\n\t\t\t<NcListItemIcon\n\t\t\t\t:name=\"option.label\"\n\t\t\t\t:is-no-user=\"true\"\n\t\t\t\t:url=\"option.previewUrl\" />\n\t\t</template>\n\t\t<template #selected-option=\"option\">\n\t\t\t<NcChip no-close>\n\t\t\t\t<template #icon>\n\t\t\t\t\t<img :src=\"option.previewUrl\" class=\"place__preview\">\n\t\t\t\t</template>\n\t\t\t\t<template #default>\n\t\t\t\t\t{{ option.label }}\n\t\t\t\t</template>\n\t\t\t</NcChip>\n\t\t</template>\n\t</NcSelect>\n</template>\n\n<script lang=\"ts\" setup>\nimport type { PlacesValueType } from '../../services/PhotosFilters/placesFilter.ts'\n\nimport { t } from '@nextcloud/l10n'\nimport NcChip from '@nextcloud/vue/components/NcChip'\nimport NcListItemIcon from '@nextcloud/vue/components/NcListItemIcon'\nimport NcSelect from '@nextcloud/vue/components/NcSelect'\nimport usePlaceFilter from './usePlaceFilter.ts'\n\nconst props = defineProps<{\n\tvalue: PlacesValueType\n}>()\n\nconst emit = defineEmits<{\n\t(event: 'update:value', value: PlacesValueType): void\n}>()\n\nconst { availablePlacesWithoutSelections, loadingCollections, selectedPlaces } = usePlaceFilter(props, emit)\n</script>\n\n<style lang=\"scss\" scoped>\n.places-select {\n\tmargin-bottom: 0 !important;\n}\n\n.place__preview {\n\twidth: 20px;\n\theight: 20px;\n\tborder-radius: 100%;\n}\n</style>\n","/*!\n * SPDX-FileCopyrightText: 2025 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport type { PhotosFilter } from './PhotosFilter.ts'\n\nimport PlacesFilterDisplay from '../../components/PhotosFilters/PlacesFilterDisplay.vue'\nimport PlacesFilterInput from '../../components/PhotosFilters/PlacesFilterInput.vue'\n\nexport type PlacesValueType = string[] | undefined\n\nexport const placesFilterId = 'places'\n\nexport const placesFilter: PhotosFilter = {\n\tid: placesFilterId,\n\tinputComponent: PlacesFilterInput,\n\tdisplayComponent: PlacesFilterDisplay,\n\tgetQuery(places: PlacesValueType): string {\n\t\tif (places === undefined) {\n\t\t\treturn ''\n\t\t}\n\n\t\tconst dav = places.map((place) => `\n\t\t\t<d:eq>\n\t\t\t\t<d:prop><nc:metadata-photos-place/></d:prop>\n\t\t\t\t<d:literal>${place}</d:literal>\n\t\t\t</d:eq>\n\t\t`)\n\n\t\treturn `<d:or>${dav.join('')}</d:or>`\n\t},\n}\n","/*!\n * SPDX-FileCopyrightText: 2025 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport { dateRangeFilter } from './dateRangeFilter.ts'\nimport { placesFilter } from './placesFilter.ts'\n\nexport default [\n\tdateRangeFilter,\n\tplacesFilter,\n]\n"],"names":["dateRange","ref","props","watch","newDateRangeValue","emit","dateRangeFilterId","dateRangeFilter","DateRangeFilterInput","DateRangeFilterDisplay","register","t17","_sfc_main","t","value","__props","slots","useSlots","realVariant","computed","canClose","mdiClose","NcActions","NcActionButton","NcIconSvgWrapper","_sfc_render","_vm","_c","_setup","_sfc_staticRenderFns","__component__","normalizeComponent","NcChip","useAbortController","abortController","abortSignal","abortPendingRequest","onUnmounted","router","from","to","next","useFetchCollections","errorFetchingCollections","loadingCollections","_fetchCollections","collectionHome","extraProps","client","davClient","collections","fetchCollections","store","error","logger","usePlaceFilter","availablePlaces","selectedPlaces","placeId","place","generateUrl","newSelectedPlacesValue","availablePlacesWithoutSelections","option","placesPrefix","placesFilterId","placesFilter","PlacesFilterInput","PlacesFilterDisplay","places","photosFilters"],"mappings":"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","x_google_ignoreList":[2]}
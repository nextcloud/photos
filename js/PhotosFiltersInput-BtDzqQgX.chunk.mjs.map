{"version":3,"file":"PhotosFiltersInput-BtDzqQgX.chunk.mjs","sources":["../src/components/Actions/ActionFavorite.vue","../src/components/PhotosFilters/PhotosFiltersInput.vue"],"sourcesContent":["<!--\n  - SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n<template>\n\t<NcActionButton\n\t\tv-if=\"shouldFavoriteSelection\"\n\t\t:close-after-click=\"true\"\n\t\t:aria-label=\"t('photos', 'Mark selection as favorite')\"\n\t\t@click=\"favoriteSelection\">\n\t\t{{ t('photos', 'Add selection to favorites') }}\n\t\t<StarOutline slot=\"icon\" />\n\t</NcActionButton>\n\t<NcActionButton\n\t\tv-else\n\t\t:close-after-click=\"true\"\n\t\t:aria-label=\"t('photos', 'Remove selection from favorites')\"\n\t\t@click=\"unFavoriteSelection\">\n\t\t{{ t('photos', 'Remove selection from favorites') }}\n\t\t<Star slot=\"icon\" />\n\t</NcActionButton>\n</template>\n\n<script lang='ts'>\nimport { t } from '@nextcloud/l10n'\nimport {\n\ttype PropType,\n\n\tdefineComponent,\n} from 'vue'\nimport NcActionButton from '@nextcloud/vue/components/NcActionButton'\nimport Star from 'vue-material-design-icons/Star.vue'\nimport StarOutline from 'vue-material-design-icons/StarOutline.vue'\n\nexport default defineComponent({\n\tname: 'ActionFavorite',\n\tcomponents: {\n\t\tStar,\n\t\tStarOutline,\n\t\tNcActionButton,\n\t},\n\n\tprops: {\n\t\tselectedFileIds: {\n\t\t\ttype: Array as PropType<string[]>,\n\t\t\trequired: true,\n\t\t},\n\t},\n\n\tcomputed: {\n\t\tfiles() {\n\t\t\treturn this.$store.state.files.files\n\t\t},\n\n\t\tshouldFavoriteSelection() {\n\t\t\t// Favorite all selection if at least one file is not in the favorites.\n\t\t\treturn this.selectedFileIds.some((fileId) => this.files[fileId].attributes.favorite === 0)\n\t\t},\n\t},\n\n\tmethods: {\n\t\tasync favoriteSelection() {\n\t\t\tawait this.$store.dispatch('toggleFavoriteForFiles', { fileIds: this.selectedFileIds, favoriteState: 1 })\n\t\t},\n\n\t\tasync unFavoriteSelection() {\n\t\t\tawait this.$store.dispatch('toggleFavoriteForFiles', { fileIds: this.selectedFileIds, favoriteState: 0 })\n\t\t},\n\n\t\tt,\n\t},\n})\n</script>\n","<!--\n  - SPDX-FileCopyrightText: 2025 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n<template>\n\t<div class=\"photos-filters\">\n\t\t<component\n\t\t\t:is=\"filter.inputComponent\"\n\t\t\tv-for=\"filter in filters\"\n\t\t\t:key=\"filter.id\"\n\t\t\tv-model=\"innerValue[filter.id]\"\n\t\t\t:data-cy-photos-filters=\"filter.id\"\n\t\t\t@update:value=\"newFilterValue => updateFilterValue(filter.id, newFilterValue)\" />\n\t</div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { ref, watch } from 'vue'\nimport filters from '../../services/PhotosFilters/index.ts'\n\nconst props = defineProps<{\n\tvalue: Record<string, unknown>\n}>()\n\nconst emit = defineEmits<{\n\t(event: 'update:value', value: Record<string, unknown>): void\n}>()\n\nconst innerValue = ref<Record<string, unknown>>({})\n\nwatch(\n\t() => props.value,\n\t(newValue) => { innerValue.value = { ...newValue } },\n\t{ immediate: true },\n)\n\n/**\n *\n * @param filterId\n * @param newFilterValue\n */\nfunction updateFilterValue(filterId: string, newFilterValue: unknown) {\n\temit('update:value', {\n\t\t...innerValue.value,\n\t\t[filterId]: newFilterValue,\n\t})\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.photos-filters {\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 16px;\n\tflex-wrap: wrap;\n}\n</style>\n"],"names":["_sfc_main$1","defineComponent","Star","StarOutline","NcActionButton","fileId","t","innerValue","ref","watch","props","newValue","updateFilterValue","filterId","newFilterValue","emit"],"mappings":"0QAkCA,MAAAA,EAAAC,EAAA,CACA,KAAA,iBACA,WAAA,CACA,KAAAC,EACA,YAAAC,EACA,eAAAC,CACA,EAEA,MAAA,CACA,gBAAA,CACA,KAAA,MACA,SAAA,EAAA,CAEA,EAEA,SAAA,CACA,OAAA,CACA,OAAA,KAAA,OAAA,MAAA,MAAA,KACA,EAEA,yBAAA,CAEA,OAAA,KAAA,gBAAA,KAAAC,GAAA,KAAA,MAAAA,CAAA,EAAA,WAAA,WAAA,CAAA,CAAA,CAEA,EAEA,QAAA,CACA,MAAA,mBAAA,CACA,MAAA,KAAA,OAAA,SAAA,yBAAA,CAAA,QAAA,KAAA,gBAAA,cAAA,EAAA,CACA,EAEA,MAAA,qBAAA,CACA,MAAA,KAAA,OAAA,SAAA,yBAAA,CAAA,QAAA,KAAA,gBAAA,cAAA,EAAA,CACA,EAEAC,EAAAA,CAAA,CAEA,CAAA,gwBC3CMC,EAAaC,EAA6B,EAAE,EAElDC,EACC,IAAMC,EAAM,MACXC,GAAa,CAAaJ,EAAA,MAAQ,CAAE,GAAGI,CAAS,CAAE,EACnD,CAAE,UAAW,EAAK,CACnB,EAOS,SAAAC,EAAkBC,EAAkBC,EAAyB,CACrEC,EAAK,eAAgB,CACpB,GAAGR,EAAW,MACd,CAACM,CAAQ,EAAGC,CAAA,CACZ,CAAA"}
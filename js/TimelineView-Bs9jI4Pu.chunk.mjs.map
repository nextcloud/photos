{"version":3,"file":"TimelineView-Bs9jI4Pu.chunk.mjs","sources":["../node_modules/@nextcloud/vue/dist/chunks/NcListItem-B4Uyn2AS.mjs","../src/components/Actions/ActionDownload.vue","../src/components/Albums/AlbumPicker.vue","../src/views/TimelineView.vue"],"sourcesContent":["import '../assets/NcListItem-DfaWGP5A.css';\nimport { N as NcActions } from \"./NcActions-B4VZCD8B.mjs\";\nimport { N as NcCounterBubble } from \"./NcCounterBubble-CDfRYl8B.mjs\";\nimport NcVNodes from \"../Components/NcVNodes.mjs\";\nimport { n as normalizeComponent } from \"./_plugin-vue2_normalizer-DU4iP6Vu.mjs\";\nconst _sfc_main = {\n  name: \"NcListItem\",\n  components: {\n    NcActions,\n    NcCounterBubble,\n    NcVNodes\n  },\n  props: {\n    /**\n     * The details text displayed in the upper right part of the component\n     */\n    details: {\n      type: String,\n      default: \"\"\n    },\n    /**\n     * Name (first line of text)\n     */\n    name: {\n      type: String,\n      default: void 0\n    },\n    /**\n     * Pass in `true` if you want the matching behavior to\n     * be non-inclusive: https://router.vuejs.org/api/#exact\n     */\n    exact: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * The route for the router link.\n     */\n    to: {\n      type: [String, Object],\n      default: null\n    },\n    /**\n     * The value for the external link\n     */\n    href: {\n      type: String,\n      default: \"#\"\n    },\n    target: {\n      type: String,\n      default: \"\"\n    },\n    /**\n     * Id for the `<a>` element\n     */\n    anchorId: {\n      type: String,\n      default: \"\"\n    },\n    /**\n     * Make subname bold\n     */\n    bold: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * Show the NcListItem in compact design\n     */\n    compact: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * Toggle the active state of the component\n     */\n    active: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * Aria label for the wrapper element\n     */\n    linkAriaLabel: {\n      type: String,\n      default: \"\"\n    },\n    /**\n     * Aria label for the actions toggle\n     */\n    actionsAriaLabel: {\n      type: String,\n      default: void 0\n    },\n    /**\n     * If different from 0 this component will display the\n     * NcCounterBubble component\n     */\n    counterNumber: {\n      type: [Number, String],\n      default: 0\n    },\n    /**\n     * Outlined or highlighted state of the counter\n     */\n    counterType: {\n      type: String,\n      default: \"\",\n      validator(value) {\n        return [\"highlighted\", \"outlined\", \"\"].indexOf(value) !== -1;\n      }\n    },\n    /**\n     * To be used only when the elements in the actions menu are very important\n     */\n    forceDisplayActions: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * Force the actions to display in a three dot menu\n     */\n    forceMenu: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * Show the list component layout\n     */\n    oneLine: {\n      type: Boolean,\n      default: false\n    }\n  },\n  emits: [\n    \"click\",\n    \"update:menuOpen\"\n  ],\n  setup() {\n    const [major] = window._oc_config?.version.split(\".\", 2) ?? [];\n    const isLegacy = major && Number.parseInt(major) < 30;\n    return {\n      isLegacy\n    };\n  },\n  data() {\n    return {\n      hovered: false,\n      hasActions: false,\n      hasSubname: false,\n      displayActionsOnHoverFocus: false,\n      menuOpen: false,\n      hasIndicator: false,\n      hasDetails: false\n    };\n  },\n  computed: {\n    showAdditionalElements() {\n      return !this.displayActionsOnHoverFocus || this.forceDisplayActions;\n    },\n    showDetails() {\n      return (this.details !== \"\" || this.hasDetails) && (!this.displayActionsOnHoverFocus || this.forceDisplayActions);\n    }\n  },\n  watch: {\n    menuOpen(newValue) {\n      if (!newValue && !this.hovered) {\n        this.displayActionsOnHoverFocus = false;\n      }\n    }\n  },\n  mounted() {\n    this.checkSlots();\n  },\n  updated() {\n    this.checkSlots();\n  },\n  methods: {\n    /**\n     * Handle link click\n     *\n     * @param {MouseEvent|KeyboardEvent} event - Native click or keydown event\n     * @param {Function} [navigate] - VueRouter link's navigate if any\n     * @param {string} [routerLinkHref] - VueRouter link's href\n     */\n    onClick(event, navigate, routerLinkHref) {\n      this.$emit(\"click\", event);\n      if (event.metaKey || event.altKey || event.ctrlKey || event.shiftKey) {\n        return;\n      }\n      if (routerLinkHref) {\n        navigate?.(event);\n        event.preventDefault();\n      }\n    },\n    showActions() {\n      if (this.hasActions) {\n        this.displayActionsOnHoverFocus = true;\n      }\n      this.hovered = false;\n    },\n    hideActions() {\n      this.displayActionsOnHoverFocus = false;\n    },\n    /**\n     * @param {FocusEvent} event UI event\n     */\n    handleBlur(event) {\n      if (this.menuOpen) {\n        return;\n      }\n      if (this.$refs[\"list-item\"].contains(event.relatedTarget)) {\n        return;\n      }\n      this.hideActions();\n    },\n    /**\n     * Hide the actions on mouseleave unless the menu is open\n     */\n    handleMouseleave() {\n      if (!this.menuOpen) {\n        this.displayActionsOnHoverFocus = false;\n      }\n      this.hovered = false;\n    },\n    handleMouseover() {\n      this.showActions();\n      this.hovered = true;\n    },\n    handleActionsUpdateOpen(e) {\n      this.menuOpen = e;\n      this.$emit(\"update:menuOpen\", e);\n    },\n    // Check if subname and actions slots are populated\n    checkSlots() {\n      if (this.hasActions !== !!this.$slots.actions) {\n        this.hasActions = !!this.$slots.actions;\n      }\n      if (this.hasSubname !== !!this.$slots.subname) {\n        this.hasSubname = !!this.$slots.subname;\n      }\n      if (this.hasIndicator !== !!this.$slots.indicator) {\n        this.hasIndicator = !!this.$slots.indicator;\n      }\n      if (this.hasDetails !== !!this.$slots.details) {\n        this.hasDetails = !!this.$slots.details;\n      }\n    }\n  }\n};\nvar _sfc_render = function render() {\n  var _vm = this, _c = _vm._self._c;\n  return _c(_vm.to ? \"router-link\" : \"NcVNodes\", { tag: \"component\", attrs: { \"custom\": _vm.to ? true : null, \"to\": _vm.to, \"exact\": _vm.to ? _vm.exact : null }, scopedSlots: _vm._u([{ key: \"default\", fn: function({ href: routerLinkHref, navigate, isActive }) {\n    return [_c(\"li\", { staticClass: \"list-item__wrapper\", class: { \"list-item__wrapper--active\": isActive || _vm.active } }, [_c(\"div\", { ref: \"list-item\", staticClass: \"list-item\", class: {\n      \"list-item--compact\": _vm.compact,\n      \"list-item--legacy\": _vm.isLegacy,\n      \"list-item--one-line\": _vm.oneLine\n    }, on: { \"mouseover\": _vm.handleMouseover, \"mouseleave\": _vm.handleMouseleave } }, [_c(\"a\", { staticClass: \"list-item__anchor\", attrs: { \"id\": _vm.anchorId || void 0, \"aria-label\": _vm.linkAriaLabel, \"href\": routerLinkHref || _vm.href, \"target\": _vm.target || (_vm.href === \"#\" ? void 0 : \"_blank\"), \"rel\": _vm.href === \"#\" ? void 0 : \"noopener noreferrer\" }, on: { \"focus\": _vm.showActions, \"focusout\": _vm.handleBlur, \"click\": function($event) {\n      return _vm.onClick($event, navigate, routerLinkHref);\n    }, \"keydown\": function($event) {\n      if (!$event.type.indexOf(\"key\") && _vm._k($event.keyCode, \"esc\", 27, $event.key, [\"Esc\", \"Escape\"])) return null;\n      return _vm.hideActions.apply(null, arguments);\n    } } }, [_vm._t(\"icon\"), _c(\"div\", { staticClass: \"list-item-content\" }, [_c(\"div\", { staticClass: \"list-item-content__main\" }, [_c(\"div\", { staticClass: \"list-item-content__name\" }, [_vm._t(\"name\", function() {\n      return [_vm._v(_vm._s(_vm.name))];\n    })], 2), _vm.hasSubname ? _c(\"div\", { staticClass: \"list-item-content__subname\", class: { \"list-item-content__subname--bold\": _vm.bold } }, [_vm._t(\"subname\")], 2) : _vm._e()]), _c(\"div\", { staticClass: \"list-item-content__details\" }, [_vm.showDetails ? _c(\"div\", { staticClass: \"list-item-details__details\" }, [_vm._t(\"details\", function() {\n      return [_vm._v(_vm._s(_vm.details))];\n    })], 2) : _vm._e(), _vm.counterNumber || _vm.hasIndicator ? _c(\"div\", { directives: [{ name: \"show\", rawName: \"v-show\", value: _vm.showAdditionalElements, expression: \"showAdditionalElements\" }], staticClass: \"list-item-details__extra\" }, [_vm.counterNumber ? _c(\"NcCounterBubble\", { staticClass: \"list-item-details__counter\", attrs: { \"active\": isActive || _vm.active, \"type\": _vm.counterType } }, [_vm._v(\" \" + _vm._s(_vm.counterNumber) + \" \")]) : _vm._e(), _vm.hasIndicator ? _c(\"span\", { staticClass: \"list-item-details__indicator\" }, [_vm._t(\"indicator\")], 2) : _vm._e()], 1) : _vm._e()])])], 2), _vm.$slots[\"extra-actions\"] ? _c(\"div\", { staticClass: \"list-item-content__extra-actions\" }, [_vm._t(\"extra-actions\")], 2) : _vm._e(), _c(\"div\", { directives: [{ name: \"show\", rawName: \"v-show\", value: _vm.forceDisplayActions || _vm.displayActionsOnHoverFocus, expression: \"forceDisplayActions || displayActionsOnHoverFocus\" }], staticClass: \"list-item-content__actions\", on: { \"focusout\": _vm.handleBlur } }, [_c(\"NcActions\", { ref: \"actions\", attrs: { \"primary\": isActive || _vm.active, \"force-menu\": _vm.forceMenu, \"aria-label\": _vm.actionsAriaLabel }, on: { \"update:open\": _vm.handleActionsUpdateOpen }, scopedSlots: _vm._u([_vm.$slots[\"actions-icon\"] ? { key: \"icon\", fn: function() {\n      return [_vm._t(\"actions-icon\")];\n    }, proxy: true } : null], null, true) }, [_vm._t(\"actions\")], 2)], 1), _vm.$slots.extra ? _c(\"div\", { staticClass: \"list-item__extra\" }, [_vm._t(\"extra\")], 2) : _vm._e()])])];\n  } }], null, true) });\n};\nvar _sfc_staticRenderFns = [];\nvar __component__ = /* @__PURE__ */ normalizeComponent(\n  _sfc_main,\n  _sfc_render,\n  _sfc_staticRenderFns,\n  false,\n  null,\n  \"40599719\"\n);\nconst NcListItem = __component__.exports;\nexport {\n  NcListItem as N\n};\n//# sourceMappingURL=NcListItem-B4Uyn2AS.mjs.map\n","<!--\n  - SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n<template>\n\t<NcActionLink\n\t\t:close-after-click=\"true\"\n\t\t:href=\"downloadUrl\"\n\t\t:download=\"downloadUrl\"\n\t\t:aria-label=\"title\">\n\t\t{{ title }}\n\t\t<slot slot=\"icon\" name=\"icon\" />\n\t</NcActionLink>\n</template>\n\n<script lang='ts'>\nimport type { PropType } from 'vue'\n\nimport { generateUrl } from '@nextcloud/router'\nimport NcActionLink from '@nextcloud/vue/components/NcActionLink'\n\nexport default {\n\tname: 'ActionDownload',\n\n\tcomponents: {\n\t\tNcActionLink,\n\t},\n\n\tprops: {\n\t\ttitle: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\n\t\tselectedFileIds: {\n\t\t\ttype: Array as PropType<string[]>,\n\t\t\trequired: true,\n\t\t},\n\t},\n\n\tcomputed: {\n\t\tfiles() {\n\t\t\treturn this.$store.state.files.files\n\t\t},\n\n\t\tdownloadUrl() {\n\t\t\tconst params = new URLSearchParams()\n\t\t\tparams.append('files', JSON.stringify(this.paths))\n\n\t\t\t// TODO: FIX ME\n\t\t\treturn generateUrl(`/apps/files/ajax/download.php?${params}`)\n\t\t},\n\n\t\tpaths() {\n\t\t\treturn this.selectedFileIds.map((fileId) => this.files[fileId].path)\n\t\t},\n\t},\n}\n</script>\n","<!--\n  - SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n<template>\n\t<div v-if=\"!showAlbumCreationForm\" class=\"album-picker\">\n\t\t<h2>\n\t\t\t{{ t('photos', 'Add to Album') }}\n\t\t\t<NcLoadingIcon v-if=\"loadingCollections\" class=\"loading-icon\" />\n\t\t</h2>\n\n\t\t<ul class=\"albums-container\">\n\t\t\t<NcListItem\n\t\t\t\tv-for=\"album in allAlbums\"\n\t\t\t\t:key=\"album.attributes.filename\"\n\t\t\t\tclass=\"album\"\n\t\t\t\t:name=\"originalName(album)\"\n\t\t\t\t:aria-label=\"t('photos', 'Add selection to album {albumName}', { albumName: album.basename })\"\n\t\t\t\t@click=\"pickAlbum(album)\">\n\t\t\t\t<template slot=\"icon\">\n\t\t\t\t\t<img v-if=\"album.attributes['last-photo'] !== -1\" class=\"album__image\" :src=\"album.attributes['last-photo'] | toCoverUrl\">\n\t\t\t\t\t<div v-else class=\"album__image album__image--placeholder\">\n\t\t\t\t\t\t<ImageMultipleOutline :size=\"32\" />\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\n\t\t\t\t<template #subname>\n\t\t\t\t\t{{ n('photos', '%n item', '%n photos and videos', album.attributes.nbItems) }}\n\t\t\t\t\t<template v-if=\"isSharedAlbum(album)\">\n\t\t\t\t\t\tâ¸± {{ t('photos', 'Shared by') }}&nbsp;<NcUserBubble :display-name=\"album.attributes.collaborators[0].label\" :user=\"album.attributes.collaborators[0].id\" />\n\t\t\t\t\t</template>\n\t\t\t\t</template>\n\t\t\t</NcListItem>\n\t\t</ul>\n\n\t\t<NcButton\n\t\t\t:aria-label=\"t('photos', 'Create a new album.')\"\n\t\t\tclass=\"new-album-button\"\n\t\t\ttype=\"tertiary\"\n\t\t\t@click=\"showAlbumCreationForm = true\">\n\t\t\t<template #icon>\n\t\t\t\t<Plus />\n\t\t\t</template>\n\t\t\t{{ t('photos', 'Create new album') }}\n\t\t</NcButton>\n\t</div>\n\n\t<AlbumForm\n\t\tv-else\n\t\t:display-back-button=\"true\"\n\t\t:title=\"t('photos', 'New album')\"\n\t\t@back=\"showAlbumCreationForm = false\"\n\t\t@done=\"albumCreatedHandler\" />\n</template>\n\n<script lang='ts'>\nimport type { Album } from '../../store/albums.ts'\n\nimport { getCurrentUser } from '@nextcloud/auth'\nimport { translate, translatePlural } from '@nextcloud/l10n'\nimport { generateUrl } from '@nextcloud/router'\nimport { defineComponent } from 'vue'\nimport NcButton from '@nextcloud/vue/components/NcButton'\nimport NcListItem from '@nextcloud/vue/components/NcListItem'\nimport NcLoadingIcon from '@nextcloud/vue/components/NcLoadingIcon'\nimport NcUserBubble from '@nextcloud/vue/components/NcUserBubble'\nimport ImageMultipleOutline from 'vue-material-design-icons/ImageMultipleOutline.vue'\nimport Plus from 'vue-material-design-icons/Plus.vue'\nimport AlbumForm from './AlbumForm.vue'\nimport FetchCollectionsMixin from '../../mixins/FetchCollectionsMixin.ts'\nimport { albumsExtraProps } from '../../store/albums.ts'\n\nexport default defineComponent({\n\tname: 'AlbumPicker',\n\n\tcomponents: {\n\t\tPlus,\n\t\tImageMultipleOutline,\n\t\tNcButton,\n\t\tNcListItem,\n\t\tNcLoadingIcon,\n\t\tNcUserBubble,\n\t\tAlbumForm,\n\t},\n\n\tfilters: {\n\t\ttoCoverUrl(fileId: string): string {\n\t\t\treturn generateUrl(`/apps/photos/api/v1/preview/${fileId}?x=${64}&y=${64}`)\n\t\t},\n\t},\n\n\tmixins: [FetchCollectionsMixin],\n\n\tdata() {\n\t\treturn {\n\t\t\tshowAlbumCreationForm: false,\n\t\t}\n\t},\n\n\tcomputed: {\n\t\talbums() {\n\t\t\treturn this.$store.getters.albums\n\t\t},\n\n\t\tsharedAlbums() {\n\t\t\treturn this.$store.getters.sharedAlbums\n\t\t},\n\n\t\tallAlbums() {\n\t\t\treturn [...Object.values(this.albums), ...Object.values(this.sharedAlbums)] as Album[]\n\t\t},\n\t},\n\n\tmounted() {\n\t\tthis.fetchAlbumList()\n\t},\n\n\tmethods: {\n\t\tasync fetchAlbumList() {\n\t\t\tawait this.fetchCollections(`/photos/${getCurrentUser()?.uid}/albums`, albumsExtraProps)\n\t\t\tawait this.fetchCollections(`/photos/${getCurrentUser()?.uid}/sharedalbums`, albumsExtraProps)\n\t\t},\n\n\t\talbumCreatedHandler() {\n\t\t\tthis.showAlbumCreationForm = false\n\t\t\tthis.fetchAlbumList()\n\t\t},\n\n\t\tpickAlbum(album: Album) {\n\t\t\tthis.$emit('album-picked', album)\n\t\t},\n\n\t\tisSharedAlbum(album: Album) {\n\t\t\treturn album.path.match(/^\\/photos\\/.+\\/sharedalbums\\//) !== null\n\t\t},\n\n\t\toriginalName(album: Album) {\n\t\t\tif (this.isSharedAlbum(album)) {\n\t\t\t\treturn album.basename.replace(new RegExp(`\\\\(${album.attributes.collaborators[0].id}\\\\)$`), '')\n\t\t\t} else {\n\t\t\t\treturn album.basename\n\t\t\t}\n\t\t},\n\n\t\tt: translate,\n\t\tn: translatePlural,\n\t},\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.album-picker {\n\tpadding: 32px;\n\tpadding-top: 16px;\n\n\th2 {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\theight: 60px;\n\n\t\t.loading-icon {\n\t\t\tmargin-inline-start: 32px;\n\t\t}\n\t}\n\n\t.albums-container {\n\t\tmin-height: 150px;\n\t\tmax-height: 350px;\n\t\toverflow-x: scroll;\n\t\tpadding: 2px;\n\n\t\t.album {\n\n\t\t\t:deep(.list-item) {\n\t\t\t\tpadding: 8px 16px;\n\t\t\t\tbox-sizing: border-box;\n\t\t\t}\n\n\t\t\t&:not(:last-child) {\n\t\t\t\tmargin-bottom: 16px;\n\t\t\t}\n\n\t\t\t&__image {\n\t\t\t\twidth: 40px;\n\t\t\t\theight: 40px;\n\t\t\t\tobject-fit: none;\n\t\t\t\tborder-radius: var(--border-radius);\n\n\t\t\t\t&--placeholder {\n\t\t\t\t\tbackground: var(--color-primary-element-light);\n\n\t\t\t\t\t:deep(.material-design-icon) {\n\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\theight: 100%;\n\n\t\t\t\t\t\t.material-design-icon__svg {\n\t\t\t\t\t\t\tfill: var(--color-primary-element);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t.new-album-button {\n\t\tmargin-top: 32px;\n\t}\n}\n</style>\n","<!--\n  - SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<!-- Errors handlers -->\n\t<div v-if=\"errorFetchingFiles\" class=\"timeline__empty-content\">\n\t\t<NcEmptyContent\n\t\t\tv-if=\"errorFetchingFiles === 404\"\n\t\t\t:name=\"t('photos', 'One of the source folders does not exist')\">\n\t\t\t<FolderAlertOutline slot=\"icon\" />\n\t\t\t<PhotosSourceLocationsSettings\n\t\t\t\tslot=\"action\"\n\t\t\t\tclass=\"timeline__update_source_directory\" />\n\t\t</NcEmptyContent>\n\t\t<NcEmptyContent v-else :name=\"t('photos', 'An error occurred')\">\n\t\t\t<AlertCircleOutline slot=\"icon\" />\n\t\t</NcEmptyContent>\n\t</div>\n\n\t<div v-else class=\"timeline\">\n\t\t<!-- Header -->\n\t\t<HeaderNavigation\n\t\t\tkey=\"navigation\"\n\t\t\t:loading=\"loadingCount > 0\"\n\t\t\t:path=\"'/'\"\n\t\t\t:title=\"rootTitle\"\n\t\t\t:root-title=\"rootTitle\"\n\t\t\t@refresh=\"resetFetchFilesState\">\n\t\t\t<div class=\"timeline__header__left\">\n\t\t\t\t<!-- TODO: UploadPicker -->\n\t\t\t\t<NcButton\n\t\t\t\t\tv-if=\"selectedFileIds.length === 0\"\n\t\t\t\t\tref=\"newAlbumButton\"\n\t\t\t\t\t:aria-label=\"createAlbumButtonLabel\"\n\t\t\t\t\tdata-cy-header-action=\"create-album\"\n\t\t\t\t\t@click=\"showAlbumCreationForm = true\">\n\t\t\t\t\t{{ createAlbumButtonLabel }}\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<PlusBoxMultipleOutline />\n\t\t\t\t\t</template>\n\t\t\t\t</NcButton>\n\n\t\t\t\t<template v-else>\n\t\t\t\t\t<NcButton\n\t\t\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\t\t:aria-label=\"t('photos', 'Add to album')\"\n\t\t\t\t\t\tdata-cy-header-action=\"add-to-album\"\n\t\t\t\t\t\t@click=\"showAlbumPicker = true\">\n\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t<Plus />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<template v-if=\"!isMobile\" #default>\n\t\t\t\t\t\t\t{{ t('photos', 'Add to album') }}\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</NcButton>\n\n\t\t\t\t\t<NcButton\n\t\t\t\t\t\tv-if=\"selectedFileIds.length > 0\"\n\t\t\t\t\t\t:aria-label=\"t('photos', 'Unselect all')\"\n\t\t\t\t\t\tdata-cy-header-action=\"unselect-all\"\n\t\t\t\t\t\t@click=\"resetSelection\">\n\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t<Close />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<template v-if=\"!isMobile\" #default>\n\t\t\t\t\t\t\t{{ t('photos', 'Unselect all') }}\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</NcButton>\n\n\t\t\t\t\t<NcActions :aria-label=\"t('photos', 'Open actions menu')\">\n\t\t\t\t\t\t<ActionDownload\n\t\t\t\t\t\t\t:selected-file-ids=\"selectedFileIds\"\n\t\t\t\t\t\t\t:title=\"t('photos', 'Download selected files')\"\n\t\t\t\t\t\t\tdata-cy-header-action=\"download-selection\">\n\t\t\t\t\t\t\t<DownloadOutline slot=\"icon\" />\n\t\t\t\t\t\t</ActionDownload>\n\n\t\t\t\t\t\t<ActionFavorite :selected-file-ids=\"selectedFileIds\" />\n\n\t\t\t\t\t\t<NcActionButton\n\t\t\t\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t\t\t\t:aria-label=\"t('photos', 'Delete selection')\"\n\t\t\t\t\t\t\tdata-cy-header-action=\"delete-selection\"\n\t\t\t\t\t\t\t@click=\"deleteSelection\">\n\t\t\t\t\t\t\t{{ t('photos', 'Delete selection') }}\n\t\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t\t<DeleteOutline />\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</NcActionButton>\n\t\t\t\t\t</NcActions>\n\t\t\t\t</template>\n\t\t\t</div>\n\t\t</HeaderNavigation>\n\n\t\t<FilesListViewer\n\t\t\tref=\"filesListViewer\"\n\t\t\t:container-element=\"appContent\"\n\t\t\tclass=\"timeline__file-list\"\n\t\t\t:file-ids-by-section=\"fileIdsByMonth\"\n\t\t\t:sections=\"monthsList\"\n\t\t\t:loading=\"loadingFiles\"\n\t\t\t:base-height=\"isMobile ? 120 : 200\"\n\t\t\t:empty-message=\"t('photos', 'No photos or videos in here')\"\n\t\t\t@need-content=\"getContent\">\n\t\t\t<template slot-scope=\"{ file, isHeader, distance }\">\n\t\t\t\t<h2\n\t\t\t\t\tv-if=\"isHeader\"\n\t\t\t\t\t:id=\"`file-picker-section-header-${file.id}`\"\n\t\t\t\t\tclass=\"section-header\">\n\t\t\t\t\t<b>{{ file.id | dateMonth }}</b>\n\t\t\t\t\t{{ file.id | dateYear }}\n\t\t\t\t</h2>\n\t\t\t\t<FileComponent\n\t\t\t\t\tv-else\n\t\t\t\t\t:file=\"files[file.id]\"\n\t\t\t\t\t:allow-selection=\"true\"\n\t\t\t\t\t:selected=\"selection[file.id] === true\"\n\t\t\t\t\t:distance=\"distance\"\n\t\t\t\t\t@click=\"openViewer\"\n\t\t\t\t\t@select-toggled=\"onFileSelectToggle\" />\n\t\t\t</template>\n\t\t</FilesListViewer>\n\n\t\t<NcModal\n\t\t\tv-if=\"showAlbumCreationForm\"\n\t\t\tkey=\"albumCreationForm\"\n\t\t\tlabel-id=\"new-album-form\"\n\t\t\t:set-return-focus=\"$refs.newAlbumButton?.$el\"\n\t\t\t@close=\"showAlbumCreationForm = false\">\n\t\t\t<h2 class=\"timeline__heading\">\n\t\t\t\t{{ t('photos', 'New album') }}\n\t\t\t</h2>\n\t\t\t<AlbumForm :filters-value=\"selectedFilters\" @done=\"handleFormCreationDone\" />\n\t\t</NcModal>\n\n\t\t<NcModal\n\t\t\tv-if=\"showAlbumPicker\"\n\t\t\tkey=\"albumPicker\"\n\t\t\tlabel-id=\"album-picker\"\n\t\t\t@close=\"showAlbumPicker = false\">\n\t\t\t<AlbumPicker @album-picked=\"addSelectionToAlbum\" />\n\t\t</NcModal>\n\t</div>\n</template>\n\n<script lang='ts'>\nimport type { PropType } from 'vue'\nimport type { Album } from '../store/albums.ts'\n\nimport { subscribe, unsubscribe } from '@nextcloud/event-bus'\nimport { t } from '@nextcloud/l10n'\nimport moment from '@nextcloud/moment'\nimport { useIsMobile } from '@nextcloud/vue/composables/useIsMobile'\nimport { storeToRefs } from 'pinia'\nimport NcActionButton from '@nextcloud/vue/components/NcActionButton'\nimport NcActions from '@nextcloud/vue/components/NcActions'\nimport NcButton from '@nextcloud/vue/components/NcButton'\nimport NcEmptyContent from '@nextcloud/vue/components/NcEmptyContent'\nimport NcModal from '@nextcloud/vue/components/NcModal'\nimport AlertCircleOutline from 'vue-material-design-icons/AlertCircleOutline.vue'\nimport Close from 'vue-material-design-icons/Close.vue'\nimport FolderAlertOutline from 'vue-material-design-icons/FolderAlertOutline.vue'\nimport Plus from 'vue-material-design-icons/Plus.vue'\nimport PlusBoxMultipleOutline from 'vue-material-design-icons/PlusBoxMultipleOutline.vue'\nimport DeleteOutline from 'vue-material-design-icons/TrashCanOutline.vue'\nimport DownloadOutline from 'vue-material-design-icons/TrayArrowDown.vue'\nimport ActionDownload from '../components/Actions/ActionDownload.vue'\nimport ActionFavorite from '../components/Actions/ActionFavorite.vue'\nimport AlbumForm from '../components/Albums/AlbumForm.vue'\nimport AlbumPicker from '../components/Albums/AlbumPicker.vue'\nimport FileComponent from '../components/FileComponent.vue'\nimport FilesListViewer from '../components/FilesListViewer.vue'\nimport HeaderNavigation from '../components/HeaderNavigation.vue'\nimport PhotosSourceLocationsSettings from '../components/Settings/PhotosSourceLocationsSettings.vue'\nimport FetchFilesMixin from '../mixins/FetchFilesMixin.ts'\nimport FilesByMonthMixin from '../mixins/FilesByMonthMixin.ts'\nimport FilesSelectionMixin from '../mixins/FilesSelectionMixin.ts'\nimport { allMimes } from '../services/AllowedMimes.ts'\nimport useFilterStore from '../store/filters.ts'\nimport { configChangedEvent } from '../store/userConfig.ts'\nimport { toViewerFileInfo } from '../utils/fileUtils.ts'\n\nexport default {\n\tname: 'TimelineView',\n\tcomponents: {\n\t\tDeleteOutline,\n\t\tPlusBoxMultipleOutline,\n\t\tDownloadOutline,\n\t\tClose,\n\t\tPlus,\n\t\tFolderAlertOutline,\n\t\tNcEmptyContent,\n\t\tNcModal,\n\t\tNcActions,\n\t\tNcActionButton,\n\t\tNcButton,\n\t\tAlbumForm,\n\t\tAlbumPicker,\n\t\tFilesListViewer,\n\t\tFileComponent,\n\t\tActionFavorite,\n\t\tActionDownload,\n\t\tHeaderNavigation,\n\t\tPhotosSourceLocationsSettings,\n\t\tAlertCircleOutline,\n\t},\n\n\tfilters: {\n\t\tdateMonth(date: string): string {\n\t\t\treturn moment(date, 'YYYYMM').format('MMMM')\n\t\t},\n\n\t\tdateYear(date: string): string {\n\t\t\treturn moment(date, 'YYYYMM').format('YYYY')\n\t\t},\n\t},\n\n\tmixins: [\n\t\tFetchFilesMixin,\n\t\tFilesSelectionMixin,\n\t\tFilesByMonthMixin,\n\t],\n\n\tbeforeRouteLeave(to, from, next) {\n\t\twindow.scrollTo(0, 0)\n\t\tnext()\n\t\tObject.keys(this.selectedFilters).forEach((key) => {\n\t\t\tthis.selectedFilters[key] = []\n\t\t})\n\t},\n\n\tprops: {\n\t\tonlyFavorites: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\n\t\tmimesType: {\n\t\t\ttype: Array as PropType<string[]>,\n\t\t\tdefault: () => allMimes,\n\t\t},\n\n\t\tonThisDay: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\n\t\trootTitle: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t},\n\n\tsetup() {\n\t\tconst isMobile = useIsMobile()\n\n\t\tconst filtersStore = useFilterStore()\n\t\tconst { selectedFilters, filtersQuery } = storeToRefs(filtersStore)\n\n\t\treturn {\n\t\t\tisMobile,\n\t\t\tselectedFilters,\n\t\t\tfiltersQuery,\n\t\t}\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\tloadingCount: 0,\n\t\t\tshowAlbumCreationForm: false,\n\t\t\tshowAlbumPicker: false,\n\t\t\tappContent: document.getElementById('app-content-vue'),\n\t\t\tshowFilters: false,\n\t\t}\n\t},\n\n\tcomputed: {\n\t\tfiles() {\n\t\t\treturn this.$store.state.files.files\n\t\t},\n\n\t\tcreateAlbumButtonLabel() {\n\t\t\tif (Object.keys(this.selectedFilters).length > 0) {\n\t\t\t\treturn this.t('photos', 'Create new album from filters')\n\t\t\t} else {\n\t\t\t\treturn this.t('photos', 'Create new album')\n\t\t\t}\n\t\t},\n\t},\n\n\twatch: {\n\t\tfiltersQuery() {\n\t\t\tthis.resetFetchFilesState()\n\t\t\tthis.getContent()\n\t\t},\n\t},\n\n\tmounted() {\n\t\tsubscribe(configChangedEvent, this.handleUserConfigChange)\n\t},\n\n\tdestroyed() {\n\t\tunsubscribe(configChangedEvent, this.handleUserConfigChange)\n\t},\n\n\tmethods: {\n\t\tgetContent() {\n\t\t\tthis.fetchFiles({\n\t\t\t\tmimesType: this.mimesType,\n\t\t\t\tonThisDay: this.onThisDay,\n\t\t\t\tonlyFavorites: this.onlyFavorites,\n\t\t\t\textraFilters: this.filtersQuery,\n\t\t\t})\n\t\t},\n\n\t\topenViewer(fileId: string) {\n\t\t\twindow.OCA.Viewer.open({\n\t\t\t\tfileInfo: toViewerFileInfo(this.files[fileId]),\n\t\t\t\tlist: Object.values(this.fileIdsByMonth).flat().map((fileId) => toViewerFileInfo(this.files[fileId])),\n\t\t\t})\n\t\t},\n\n\t\topenUploader() {\n\t\t\t// TODO: finish when implementing upload\n\t\t},\n\n\t\tasync addSelectionToAlbum(album: Album) {\n\t\t\tthis.showAlbumPicker = false\n\t\t\tawait this.$store.dispatch('addFilesToCollection', { collectionFileName: album.root + album.path, fileIdsToAdd: this.selectedFileIds })\n\t\t},\n\n\t\tasync deleteSelection() {\n\t\t\t// Need to store the file ids so it is not changed before the deleteFiles call.\n\t\t\tconst fileIds = this.selectedFileIds\n\t\t\tthis.onUncheckFiles(fileIds)\n\t\t\tthis.fetchedFileIds = this.fetchedFileIds.filter((fileid) => !fileIds.includes(fileid))\n\t\t\tawait this.$store.dispatch('deleteFiles', fileIds)\n\t\t},\n\n\t\thandleUserConfigChange({ key }) {\n\t\t\tif (key === 'photosSourceFolders') {\n\t\t\t\tthis.resetFetchFilesState()\n\t\t\t}\n\t\t},\n\n\t\thandleFormCreationDone({ album }: { album: Album }) {\n\t\t\tthis.showAlbumCreationForm = false\n\t\t\tthis.$router.push(`/albums/${album.basename}`)\n\t\t},\n\n\t\tt,\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.timeline {\n\tdisplay: flex;\n\tflex-direction: column;\n\n\t&__empty-content {\n\t\theight: 100%;\n\n\t\t.empty-content {\n\t\t\theight: 100%;\n\t\t}\n\n\t\t.timeline__update_source_directory {\n\t\t\talign-items: center;\n\n\t\t\t:deep(.folder) {\n\t\t\t\tmin-width: unset;\n\t\t\t}\n\t\t}\n\t}\n\n\t&__header {\n\t\t&__left {\n\t\t\tdisplay: flex;\n\t\t\tgap: 4px;\n\t\t}\n\t}\n\n\t&__filters {\n\t\tpadding: 16px 64px;\n\t}\n\n\t&__heading {\n\t\tpadding: calc(var(--default-grid-baseline) * 4);\n\t\tmargin-bottom: 0px;\n\t\tpadding-bottom: 0px;\n\t}\n\n\t&__file-list {\n\t\tpadding: 0 64px;\n\n\t\t@media only screen and (max-width: 1200px) {\n\t\t\tpadding: 0 4px;\n\t\t}\n\n\t\t:deep(.files-list-viewer__section-header) {\n\t\t\ttop: var(--photos-navigation-height);\n\t\t}\n\t}\n}\n</style>\n"],"names":["_sfc_main","_sfc_render","_sfc_staticRenderFns","__component__","generateUrl","fileId","t"],"mappings":"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","x_google_ignoreList":[0]}
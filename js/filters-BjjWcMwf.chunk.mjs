const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=[window.OC.filePath('photos', '', 'js/index-BMbtc3xh-D1QvlAf7.chunk.mjs'),window.OC.filePath('photos', '', 'js/preload-helper-Dh9HmuEY.chunk.mjs'),window.OC.filePath('photos', '', 'js/vue.runtime.esm-Bphz5Mz8.chunk.mjs')])))=>i.map(i=>d[i]);
import{_ as Mt}from"./preload-helper-Dh9HmuEY.chunk.mjs";import{s as Ht}from"./dialog-yuouHT3-.chunk.mjs";import{a7 as Bt,Y as T,a8 as Jt,h as dt,l as Qt}from"./index-pnKBJWBi.chunk.mjs";import{X as ht,Y as C,g as et,Z as Gt,_ as x,$ as ft,a0 as G,a1 as mt,H as yt,L as zt,e as gt,t as z,E as Yt,a2 as qt,a3 as Wt,y as Xt,v as R,d as _t,a as M}from"./vue.runtime.esm-Bphz5Mz8.chunk.mjs";import{d as Zt}from"./index-FOY7nmfY.chunk.mjs";import{e as Kt,v as te,n as bt,P as ee,w as oe}from"./icons-UgBTm9C1.chunk.mjs";import{f as at}from"./PhotosFiltersInput-Cnw-slpJ.chunk.mjs";function se(){return vt().__VUE_DEVTOOLS_GLOBAL_HOOK__}function vt(){return typeof navigator<"u"&&typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}}const ne=typeof Proxy=="function",re="devtools-plugin:setup",ie="plugin:settings:set";let j,Z;function ae(){var t;return j!==void 0||(typeof window<"u"&&window.performance?(j=!0,Z=window.performance):typeof globalThis<"u"&&!((t=globalThis.perf_hooks)===null||t===void 0)&&t.performance?(j=!0,Z=globalThis.perf_hooks.performance):j=!1),j}function ce(){return ae()?Z.now():Date.now()}class le{constructor(e,s){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=s;const o={};if(e.settings)for(const r in e.settings){const i=e.settings[r];o[r]=i.defaultValue}const n=`__vue-devtools-plugin-settings__${e.id}`;let a=Object.assign({},o);try{const r=localStorage.getItem(n),i=JSON.parse(r);Object.assign(a,i)}catch{}this.fallbacks={getSettings(){return a},setSettings(r){try{localStorage.setItem(n,JSON.stringify(r))}catch{}a=r},now(){return ce()}},s&&s.on(ie,(r,i)=>{r===this.plugin.id&&this.fallbacks.setSettings(i)}),this.proxiedOn=new Proxy({},{get:(r,i)=>this.target?this.target.on[i]:(...c)=>{this.onQueue.push({method:i,args:c})}}),this.proxiedTarget=new Proxy({},{get:(r,i)=>this.target?this.target[i]:i==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(i)?(...c)=>(this.targetQueue.push({method:i,args:c,resolve:()=>{}}),this.fallbacks[i](...c)):(...c)=>new Promise(p=>{this.targetQueue.push({method:i,args:c,resolve:p})})})}async setRealTarget(e){this.target=e;for(const s of this.onQueue)this.target.on[s.method](...s.args);for(const s of this.targetQueue)s.resolve(await this.target[s.method](...s.args))}}function wt(t,e){const s=t,o=vt(),n=se(),a=ne&&s.enableEarlyProxy;if(n&&(o.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!a))n.emit(re,t,e);else{const r=a?new le(s,n):null;(o.__VUE_DEVTOOLS_PLUGINS__=o.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:s,setupFn:e,proxy:r}),r&&e(r.proxiedTarget)}}let St;const U=t=>St=t,Ot=Symbol();function K(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var v;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(v||(v={}));const E=typeof window<"u",ct=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof R=="object"&&R.global===R?R:typeof globalThis=="object"?globalThis:{HTMLElement:null};function ue(t,{autoBom:e=!1}={}){return e&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\uFEFF",t],{type:t.type}):t}function ot(t,e,s){const o=new XMLHttpRequest;o.open("GET",t),o.responseType="blob",o.onload=function(){Et(o.response,e,s)},o.onerror=function(){console.error("could not download file")},o.send()}function Ft(t){const e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function H(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{const e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}const B=typeof navigator=="object"?navigator:{userAgent:""},Pt=/Macintosh/.test(B.userAgent)&&/AppleWebKit/.test(B.userAgent)&&!/Safari/.test(B.userAgent),Et=E?typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype&&!Pt?pe:"msSaveOrOpenBlob"in B?de:he:()=>{};function pe(t,e="download",s){const o=document.createElement("a");o.download=e,o.rel="noopener",typeof t=="string"?(o.href=t,o.origin!==location.origin?Ft(o.href)?ot(t,e,s):(o.target="_blank",H(o)):H(o)):(o.href=URL.createObjectURL(t),setTimeout(function(){URL.revokeObjectURL(o.href)},4e4),setTimeout(function(){H(o)},0))}function de(t,e="download",s){if(typeof t=="string")if(Ft(t))ot(t,e,s);else{const o=document.createElement("a");o.href=t,o.target="_blank",setTimeout(function(){H(o)})}else navigator.msSaveOrOpenBlob(ue(t,s),e)}function he(t,e,s,o){if(o=o||open("","_blank"),o&&(o.document.title=o.document.body.innerText="downloading..."),typeof t=="string")return ot(t,e,s);const n=t.type==="application/octet-stream",a=/constructor/i.test(String(ct.HTMLElement))||"safari"in ct,r=/CriOS\/[\d]+/.test(navigator.userAgent);if((r||n&&a||Pt)&&typeof FileReader<"u"){const i=new FileReader;i.onloadend=function(){let c=i.result;if(typeof c!="string")throw o=null,new Error("Wrong reader.result type");c=r?c:c.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=c:location.assign(c),o=null},i.readAsDataURL(t)}else{const i=URL.createObjectURL(t);o?o.location.assign(i):location.href=i,o=null,setTimeout(function(){URL.revokeObjectURL(i)},4e4)}}function d(t,e){const s="ðŸ "+t;typeof __VUE_DEVTOOLS_TOAST__=="function"?__VUE_DEVTOOLS_TOAST__(s,e):e==="error"?console.error(s):e==="warn"?console.warn(s):console.log(s)}function st(t){return"_a"in t&&"install"in t}function kt(){if(!("clipboard"in navigator))return d("Your browser doesn't support the Clipboard API","error"),!0}function $t(t){return t instanceof Error&&t.message.toLowerCase().includes("document is not focused")?(d('You need to activate the "Emulate a focused page" setting in the "Rendering" panel of devtools.',"warn"),!0):!1}async function fe(t){if(!kt())try{await navigator.clipboard.writeText(JSON.stringify(t.state.value)),d("Global state copied to clipboard.")}catch(e){if($t(e))return;d("Failed to serialize the state. Check the console for more details.","error"),console.error(e)}}async function me(t){if(!kt())try{Tt(t,JSON.parse(await navigator.clipboard.readText())),d("Global state pasted from clipboard.")}catch(e){if($t(e))return;d("Failed to deserialize the state from clipboard. Check the console for more details.","error"),console.error(e)}}async function ye(t){try{Et(new Blob([JSON.stringify(t.state.value)],{type:"text/plain;charset=utf-8"}),"pinia-state.json")}catch(e){d("Failed to export the state as JSON. Check the console for more details.","error"),console.error(e)}}let w;function ge(){w||(w=document.createElement("input"),w.type="file",w.accept=".json");function t(){return new Promise((e,s)=>{w.onchange=async()=>{const o=w.files;if(!o)return e(null);const n=o.item(0);return e(n?{text:await n.text(),file:n}:null)},w.oncancel=()=>e(null),w.onerror=s,w.click()})}return t}async function _e(t){try{const e=await ge()();if(!e)return;const{text:s,file:o}=e;Tt(t,JSON.parse(s)),d(`Global state imported from "${o.name}".`)}catch(e){d("Failed to import the state from JSON. Check the console for more details.","error"),console.error(e)}}function Tt(t,e){for(const s in e){const o=t.state.value[s];o?Object.assign(o,e[s]):t.state.value[s]=e[s]}}function _(t){return{_custom:{display:t}}}const Vt="ðŸ Pinia (root)",J="_root";function be(t){return st(t)?{id:J,label:Vt}:{id:t.$id,label:t.$id}}function ve(t){if(st(t)){const s=Array.from(t._s.keys()),o=t._s;return{state:s.map(n=>({editable:!0,key:n,value:t.state.value[n]})),getters:s.filter(n=>o.get(n)._getters).map(n=>{const a=o.get(n);return{editable:!1,key:n,value:a._getters.reduce((r,i)=>(r[i]=a[i],r),{})}})}}const e={state:Object.keys(t.$state).map(s=>({editable:!0,key:s,value:t.$state[s]}))};return t._getters&&t._getters.length&&(e.getters=t._getters.map(s=>({editable:!1,key:s,value:t[s]}))),t._customProperties.size&&(e.customProperties=Array.from(t._customProperties).map(s=>({editable:!0,key:s,value:t[s]}))),e}function we(t){return t?Array.isArray(t)?t.reduce((e,s)=>(e.keys.push(s.key),e.operations.push(s.type),e.oldValue[s.key]=s.oldValue,e.newValue[s.key]=s.newValue,e),{oldValue:{},keys:[],operations:[],newValue:{}}):{operation:_(t.type),key:_(t.key),oldValue:t.oldValue,newValue:t.newValue}:{}}function Se(t){switch(t){case v.direct:return"mutation";case v.patchFunction:return"$patch";case v.patchObject:return"$patch";default:return"unknown"}}let I=!0;const Q=[],P="pinia:mutations",h="pinia",{assign:Oe}=Object,Y=t=>"ðŸ "+t;function Fe(t,e){wt({id:"dev.esm.pinia",label:"Pinia ðŸ",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:Q,app:t},s=>{typeof s.now!="function"&&d("You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),s.addTimelineLayer({id:P,label:"Pinia ðŸ",color:15064968}),s.addInspector({id:h,label:"Pinia ðŸ",icon:"storage",treeFilterPlaceholder:"Search stores",actions:[{icon:"content_copy",action:()=>{fe(e)},tooltip:"Serialize and copy the state"},{icon:"content_paste",action:async()=>{await me(e),s.sendInspectorTree(h),s.sendInspectorState(h)},tooltip:"Replace the state with the content of your clipboard"},{icon:"save",action:()=>{ye(e)},tooltip:"Save the state as a JSON file"},{icon:"folder_open",action:async()=>{await _e(e),s.sendInspectorTree(h),s.sendInspectorState(h)},tooltip:"Import the state from a JSON file"}],nodeActions:[{icon:"restore",tooltip:'Reset the state (with "$reset")',action:o=>{const n=e._s.get(o);n?typeof n.$reset!="function"?d(`Cannot reset "${o}" store because it doesn't have a "$reset" method implemented.`,"warn"):(n.$reset(),d(`Store "${o}" reset.`)):d(`Cannot reset "${o}" store because it wasn't found.`,"warn")}}]}),s.on.inspectComponent((o,n)=>{const a=o.componentInstance&&o.componentInstance.proxy;if(a&&a._pStores){const r=o.componentInstance.proxy._pStores;Object.values(r).forEach(i=>{o.instanceData.state.push({type:Y(i.$id),key:"state",editable:!0,value:i._isOptionsAPI?{_custom:{value:z(i.$state),actions:[{icon:"restore",tooltip:"Reset the state of this store",action:()=>i.$reset()}]}}:Object.keys(i.$state).reduce((c,p)=>(c[p]=i.$state[p],c),{})}),i._getters&&i._getters.length&&o.instanceData.state.push({type:Y(i.$id),key:"getters",editable:!1,value:i._getters.reduce((c,p)=>{try{c[p]=i[p]}catch(m){c[p]=m}return c},{})})})}}),s.on.getInspectorTree(o=>{if(o.app===t&&o.inspectorId===h){let n=[e];n=n.concat(Array.from(e._s.values())),o.rootNodes=(o.filter?n.filter(a=>"$id"in a?a.$id.toLowerCase().includes(o.filter.toLowerCase()):Vt.toLowerCase().includes(o.filter.toLowerCase())):n).map(be)}}),globalThis.$pinia=e,s.on.getInspectorState(o=>{if(o.app===t&&o.inspectorId===h){const n=o.nodeId===J?e:e._s.get(o.nodeId);if(!n)return;n&&(o.nodeId!==J&&(globalThis.$store=z(n)),o.state=ve(n))}}),s.on.editInspectorState((o,n)=>{if(o.app===t&&o.inspectorId===h){const a=o.nodeId===J?e:e._s.get(o.nodeId);if(!a)return d(`store "${o.nodeId}" not found`,"error");const{path:r}=o;st(a)?r.unshift("state"):(r.length!==1||!a._customProperties.has(r[0])||r[0]in a.$state)&&r.unshift("$state"),I=!1,o.set(a,r,o.state.value),I=!0}}),s.on.editComponentState(o=>{if(o.type.startsWith("ðŸ")){const n=o.type.replace(/^ðŸ\s*/,""),a=e._s.get(n);if(!a)return d(`store "${n}" not found`,"error");const{path:r}=o;if(r[0]!=="state")return d(`Invalid path for store "${n}":
${r}
Only state can be modified.`);r[0]="$state",I=!1,o.set(a,r,o.state.value),I=!0}})})}function Pe(t,e){Q.includes(Y(e.$id))||Q.push(Y(e.$id)),wt({id:"dev.esm.pinia",label:"Pinia ðŸ",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:Q,app:t,settings:{logStoreChanges:{label:"Notify about new/deleted stores",type:"boolean",defaultValue:!0}}},s=>{const o=typeof s.now=="function"?s.now.bind(s):Date.now;e.$onAction(({after:r,onError:i,name:c,args:p})=>{const m=It++;s.addTimelineEvent({layerId:P,event:{time:o(),title:"ðŸ›« "+c,subtitle:"start",data:{store:_(e.$id),action:_(c),args:p},groupId:m}}),r(b=>{O=void 0,s.addTimelineEvent({layerId:P,event:{time:o(),title:"ðŸ›¬ "+c,subtitle:"end",data:{store:_(e.$id),action:_(c),args:p,result:b},groupId:m}})}),i(b=>{O=void 0,s.addTimelineEvent({layerId:P,event:{time:o(),logType:"error",title:"ðŸ’¥ "+c,subtitle:"end",data:{store:_(e.$id),action:_(c),args:p,error:b},groupId:m}})})},!0),e._customProperties.forEach(r=>{yt(()=>Yt(e[r]),(i,c)=>{s.notifyComponentUpdate(),s.sendInspectorState(h),I&&s.addTimelineEvent({layerId:P,event:{time:o(),title:"Change",subtitle:r,data:{newValue:i,oldValue:c},groupId:O}})},{deep:!0})}),e.$subscribe(({events:r,type:i},c)=>{if(s.notifyComponentUpdate(),s.sendInspectorState(h),!I)return;const p={time:o(),title:Se(i),data:Oe({store:_(e.$id)},we(r)),groupId:O};i===v.patchFunction?p.subtitle="â¤µï¸":i===v.patchObject?p.subtitle="ðŸ§©":r&&!Array.isArray(r)&&(p.subtitle=r.type),r&&(p.data["rawEvent(s)"]={_custom:{display:"DebuggerEvent",type:"object",tooltip:"raw DebuggerEvent[]",value:r}}),s.addTimelineEvent({layerId:P,event:p})},{detached:!0,flush:"sync"});const n=e._hotUpdate;e._hotUpdate=x(r=>{n(r),s.addTimelineEvent({layerId:P,event:{time:o(),title:"ðŸ”¥ "+e.$id,subtitle:"HMR update",data:{store:_(e.$id),info:_("HMR update")}}}),s.notifyComponentUpdate(),s.sendInspectorTree(h),s.sendInspectorState(h)});const{$dispose:a}=e;e.$dispose=()=>{a(),s.notifyComponentUpdate(),s.sendInspectorTree(h),s.sendInspectorState(h),s.getSettings().logStoreChanges&&d(`Disposed "${e.$id}" store ðŸ—‘`)},s.notifyComponentUpdate(),s.sendInspectorTree(h),s.sendInspectorState(h),s.getSettings().logStoreChanges&&d(`"${e.$id}" store installed ðŸ†•`)})}let It=0,O;function lt(t,e,s){const o=e.reduce((n,a)=>(n[a]=z(t)[a],n),{});for(const n in o)t[n]=function(){const a=It,r=s?new Proxy(t,{get(...c){return O=a,Reflect.get(...c)},set(...c){return O=a,Reflect.set(...c)}}):t;O=a;const i=o[n].apply(r,arguments);return O=void 0,i}}function Ee({app:t,store:e,options:s}){if(!e.$id.startsWith("__hot:")){if(e._isOptionsAPI=!!s.state,!e._p._testing){lt(e,Object.keys(s.actions),e._isOptionsAPI);const o=e._hotUpdate;z(e)._hotUpdate=function(n){o.apply(this,arguments),lt(e,Object.keys(n._hmrPayload.actions),!!e._isOptionsAPI)}}Pe(t,e)}}function eo(){const t=ft(!0),e=t.run(()=>et({}));let s=[];const o=x({install(n){U(o)},use(n){return this._a,s.push(n),this},_p:s,_a:null,_e:t,_s:new Map,state:e});return typeof __VUE_PROD_DEVTOOLS__<"u"&&__VUE_PROD_DEVTOOLS__&&E&&typeof Proxy<"u"&&o.use(Ee),o}const At=()=>{};function ut(t,e,s,o=At){t.push(e);const n=()=>{const a=t.indexOf(e);a>-1&&(t.splice(a,1),o())};return!s&&qt()&&Wt(n),n}function V(t,...e){t.slice().forEach(s=>{s(...e)})}const ke=t=>t(),pt=Symbol(),X=Symbol();function tt(t,e){t instanceof Map&&e instanceof Map?e.forEach((s,o)=>t.set(o,s)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const s in e){if(!e.hasOwnProperty(s))continue;const o=e[s],n=t[s];K(n)&&K(o)&&t.hasOwnProperty(s)&&!G(o)&&!mt(o)?t[s]=tt(n,o):t[s]=o}return t}const $e=Symbol();function Te(t){return!K(t)||!t.hasOwnProperty($e)}const{assign:S}=Object;function Ve(t){return!!(G(t)&&t.effect)}function Ie(t,e,s,o){const{state:n,actions:a,getters:r}=e,i=s.state.value[t];let c;function p(){i||C(s.state.value,t,n?n():{});const m=ht(s.state.value[t]);return S(m,a,Object.keys(r||{}).reduce((b,k)=>(b[k]=x(gt(()=>{U(s);const F=s._s.get(t);if(F._r)return r[k].call(F,F)})),b),{}))}return c=Dt(t,p,e,s,o,!0),c}function Dt(t,e,s={},o,n,a){let r;const i=S({actions:{}},s),c={deep:!0};let p,m,b=[],k=[],F;const $=o.state.value[t];!a&&!$&&C(o.state.value,t,{});const jt=et({});let nt;function rt(l){let u;p=m=!1,typeof l=="function"?(l(o.state.value[t]),u={type:v.patchFunction,storeId:t,events:F}):(tt(o.state.value[t],l),u={type:v.patchObject,payload:l,storeId:t,events:F});const y=nt=Symbol();zt().then(()=>{nt===y&&(p=!0)}),m=!0,V(b,u,o.state.value[t])}const Ct=a?function(){const{state:l}=s,u=l?l():{};this.$patch(y=>{S(y,u)})}:At;function xt(){r.stop(),b=[],k=[],o._s.delete(t)}const it=(l,u="")=>{if(pt in l)return l[X]=u,l;const y=function(){U(o);const N=Array.from(arguments),D=[],W=[];function Nt(g){D.push(g)}function Rt(g){W.push(g)}V(k,{args:N,name:y[X],store:f,after:Nt,onError:Rt});let L;try{L=l.apply(this&&this.$id===t?this:f,N)}catch(g){throw V(W,g),g}return L instanceof Promise?L.then(g=>(V(D,g),g)).catch(g=>(V(W,g),Promise.reject(g))):(V(D,L),L)};return y[pt]=!0,y[X]=u,y},Ut=x({actions:{},getters:{},state:[],hotState:jt}),q={_p:o,$id:t,$onAction:ut.bind(null,k),$patch:rt,$reset:Ct,$subscribe(l,u={}){const y=ut(b,l,u.detached,()=>N()),N=r.run(()=>yt(()=>o.state.value[t],D=>{(u.flush==="sync"?m:p)&&l({storeId:t,type:v.direct,events:F},D)},S({},c,u)));return y},$dispose:xt};q._r=!1;const f=Gt(typeof __VUE_PROD_DEVTOOLS__<"u"&&__VUE_PROD_DEVTOOLS__&&E?S({_hmrPayload:Ut,_customProperties:x(new Set)},q):q);o._s.set(t,f);const A=(o._a&&o._a.runWithContext||ke)(()=>o._e.run(()=>(r=ft()).run(()=>e({action:it}))));for(const l in A){const u=A[l];if(G(u)&&!Ve(u)||mt(u))a||($&&Te(u)&&(G(u)?u.value=$[l]:tt(u,$[l])),C(o.state.value[t],l,u));else if(typeof u=="function"){const y=it(u,l);C(A,l,y),i.actions[l]=u}}if(Object.keys(A).forEach(l=>{C(f,l,A[l])}),Object.defineProperty(f,"$state",{get:()=>o.state.value[t],set:l=>{rt(u=>{S(u,l)})}}),typeof __VUE_PROD_DEVTOOLS__<"u"&&__VUE_PROD_DEVTOOLS__&&E){const l={writable:!0,configurable:!0,enumerable:!1};["_p","_hmrPayload","_getters","_customProperties"].forEach(u=>{Object.defineProperty(f,u,S({value:f[u]},l))})}return f._r=!0,o._p.forEach(l=>{if(typeof __VUE_PROD_DEVTOOLS__<"u"&&__VUE_PROD_DEVTOOLS__&&E){const u=r.run(()=>l({store:f,app:o._a,pinia:o,options:i}));Object.keys(u||{}).forEach(y=>f._customProperties.add(y)),S(f,u)}else S(f,r.run(()=>l({store:f,app:o._a,pinia:o,options:i})))}),$&&a&&s.hydrate&&s.hydrate(f.$state,$),p=!0,m=!0,f}function Ae(t,e,s){let o,n;const a=typeof e=="function";o=t,n=a?s:e;function r(i,c){const p=Bt();return i=i||(p?Xt(Ot,null):null),i&&U(i),i=St,i._s.has(o)||(a?Dt(o,e,n,i):Ie(o,n,i)),i._s.get(o)}return r.$id=o,r}function oo(t){return ht(t)}const so=function(t){t.mixin({beforeCreate(){const e=this.$options;if(e.pinia){const s=e.pinia;if(!this._provided){const o={};Object.defineProperty(this,"_provided",{get:()=>o,set:n=>Object.assign(o,n)})}this._provided[Ot]=s,this.$pinia||(this.$pinia=s),s._a=this,E&&U(s),typeof __VUE_PROD_DEVTOOLS__<"u"&&__VUE_PROD_DEVTOOLS__&&E&&Fe(s._a,s)}else!this.$pinia&&e.parent&&e.parent.$pinia&&(this.$pinia=e.parent.$pinia)},destroyed(){delete this._pStores}})};function Lt(t,e){return t=t.replace(/\\/g,"/").replace(/\/+$/g,"").replace(/.*\//,""),t}function no(t){const e=Lt(t),s=e.lastIndexOf(".");return s>0?e.substring(s):""}const De='<svg xmlns="http://www.w3.org/2000/svg" id="mdi-folder-move" viewBox="0 0 24 24"><path d="M14,18V15H10V11H14V8L19,13M20,6H12L10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6Z" /></svg>',Le='<svg xmlns="http://www.w3.org/2000/svg" id="mdi-folder-multiple" viewBox="0 0 24 24"><path d="M22,4H14L12,2H6A2,2 0 0,0 4,4V16A2,2 0 0,0 6,18H22A2,2 0 0,0 24,16V6A2,2 0 0,0 22,4M2,6H0V11H0V20A2,2 0 0,0 2,22H20V20H2V6Z" /></svg>';class je extends Error{}class Ce{title;multiSelect;mimeTypeFilter;directoriesAllowed;buttons;path;filter;canPick;container;disabledNavigation;constructor(e,s,o,n,a,r,i,c,p,m=!1){this.title=e,this.multiSelect=s,this.mimeTypeFilter=o,this.directoriesAllowed=n,this.path=r,this.filter=i,this.canPick=c,this.buttons=a,this.container=p,this.disabledNavigation=m}async pickNodes(){const{FilePickerVue:e}=await Mt(async()=>{const{FilePickerVue:s}=await import("./index-BMbtc3xh-D1QvlAf7.chunk.mjs");return{FilePickerVue:s}},__vite__mapDeps([0,1,2]),import.meta.url);return new Promise((s,o)=>{Ht(e,{allowPickDirectory:this.directoriesAllowed,buttons:this.buttons,container:this.container,name:this.title,path:this.path,mimetypeFilter:this.mimeTypeFilter,multiselect:this.multiSelect,filterFn:this.filter,canPickFn:this.canPick,disabledNavigation:this.disabledNavigation},(...n)=>{const[a]=n;!Array.isArray(a)||a.length===0?o(new je("FilePicker: No nodes selected")):s(a)})})}async pick(){const e=await this.pickNodes();return this.multiSelect?e.map(s=>s.path):e[0]?.path??"/"}}class xe{title;multiSelect=!1;mimeTypeFilter=[];directoriesAllowed=!1;path;filter;canPick;buttons=[];container;disabledNavigation=!1;constructor(e){this.title=e}setContainer(e){return this.container=e,this}setMultiSelect(e){return this.multiSelect=e,this}addMimeTypeFilter(e){return this.mimeTypeFilter.push(e),this}setMimeTypeFilter(e){return this.mimeTypeFilter=e,this}addButton(e){return typeof this.buttons=="function"&&(console.warn("FilePicker buttons were set to factory, now overwritten with button object."),this.buttons=[]),this.buttons.push(e),this}setButtonFactory(e){return this.buttons=e,this}setType(e){return this.buttons=(s,o)=>{const n=[],a=s[0]?.displayname||Lt(o);if(e===1){let r=T("Choose");s.length===1?r=T("Choose {file}",{file:a}):this.multiSelect&&(r=Jt("Choose %n file","Choose %n files",s.length)),n.push({callback:()=>{},type:"primary",label:r})}return(e===4||e===3)&&n.push({callback:()=>{},label:a?T("Copy to {target}",{target:a}):T("Copy"),icon:Le,variant:e===3?"primary":"secondary"}),(e===4||e===2)&&n.push({callback:()=>{},label:a?T("Move to {target}",{target:a}):T("Move"),icon:De,variant:"primary"}),n},this}allowDirectories(e=!0){return this.directoriesAllowed=e,this}startAt(e){return this.path=e,this}setFilter(e){return this.filter=e,this}setCanPick(e){return this.canPick=e,this}disableNavigation(){return this.disabledNavigation=!0,this}build(){return new Ce(this.title,this.multiSelect,this.mimeTypeFilter,this.directoriesAllowed,this.buttons,this.path,this.filter,this.canPick,this.container,this.disabledNavigation)}}function Ue(t){return new xe(t)}const Ne=_t({name:"PhotosFolder",components:{NcButton:dt,FolderOutline:te,Close:Kt},props:{path:{type:String,required:!0},canDelete:{type:Boolean,default:!1},rootFolderLabel:{type:String,required:!0},rootFolderIcon:{type:Object,required:!0}},emits:["remove-folder"],computed:{folderName(){return this.path==="/"?this.rootFolderLabel:this.path.split("/").pop()},subname(){switch((this.path.match(/\//g)??[]).length){case 1:return"";case 2:return this.path.split("/").splice(0,2).join("/");default:return this.path.split("/").splice(0,3).join("/")}}},methods:{emitRemoveSourceFolder(){this.$emit("remove-folder")},t:M}});var Re=function(){var t=this,e=t._self._c;return t._self._setupProxy,e("div",{staticClass:"folder"},[t.path==="/"?e(t.rootFolderIcon,{tag:"component"}):e("FolderOutline"),e("span",{staticClass:"folder__info"},[e("div",{staticClass:"folder__path"},[t._v(t._s(t.folderName))]),t.subname!==""?e("div",[t._v(" "+t._s(t.subname)+" ")]):t._e()]),t.canDelete?e("NcButton",{attrs:{variant:"tertiary","aria-label":t.t("photos","Delete source directory")},on:{click:t.emitRemoveSourceFolder},scopedSlots:t._u([{key:"icon",fn:function(){return[e("Close",{attrs:{size:20}})]},proxy:!0}],null,!1,2121748766)}):t._e()],1)},Me=[],He=bt(Ne,Re,Me,!1,null,"74f30535");const Be=He.exports,Je=_t({name:"PhotosSourceLocationsSettings",components:{NcButton:dt,PhotosFolder:Be,Plus:ee},data(){return{FolderMultipleOutline:oe}},computed:{photosSourceFolders(){return this.$store.state.userConfig.photosSourceFolders}},methods:{debounceAddSourceFolder:Zt(function(...t){this.addSourceFolder(...t)},200,{immediate:!1}),async openFilePicker(t){return Ue(t).setMultiSelect(!1).addMimeTypeFilter("httpd/unix-directory").allowDirectories().addButton({label:M("photos","Pick folder"),callback:e=>Qt.debug("Picked",{nodes:e})}).build().pick()},async addSourceFolder(){const t=await this.openFilePicker(M("photos","Select a source folder for your media"));this.photosSourceFolders.includes(t)||this.$store.dispatch("updateUserConfig",{key:"photosSourceFolders",value:[...this.photosSourceFolders,t]})},removeSourceFolder(t){const e=[...this.photosSourceFolders];e.splice(t,1),this.$store.dispatch("updateUserConfig",{key:"photosSourceFolders",value:e})},t:M}});var Qe=function(){var t=this,e=t._self._c;return t._self._setupProxy,e("div",{staticClass:"photos-locations-container"},[e("div",{staticClass:"photos-locations"},t._l(t.photosSourceFolders,function(s,o){return e("li",{key:o},[e("PhotosFolder",{attrs:{path:s,"can-delete":t.photosSourceFolders.length!==1,"root-folder-label":t.t("photos","All folders"),"root-folder-icon":t.FolderMultipleOutline},on:{"remove-folder":function(n){return t.removeSourceFolder(o)}}})],1)}),0),e("NcButton",{attrs:{"aria-label":t.t("photos","Add a Photos source for the timelines")},on:{click:t.debounceAddSourceFolder},scopedSlots:t._u([{key:"icon",fn:function(){return[e("Plus",{attrs:{size:20}})]},proxy:!0}])},[t._v(" "+t._s(t.t("photos","Add folder"))+" ")])],1)},Ge=[],ze=bt(Je,Qe,Ge,!1,null,"1021a57e");const ro=ze.exports,io=Ae("filters",()=>{const t=et(at.reduce((s,o)=>({...s,[o.id]:[]}),{})),e=gt(()=>Object.entries(t.value).filter(([,s])=>s.length>0).map(([s,o])=>at.find(n=>n.id===s)?.getQuery(o)).join(`
`));return{selectedFilters:t,filtersQuery:e}});export{ro as P,Be as a,so as b,eo as c,no as e,Ue as g,oo as s,io as u};
//# sourceMappingURL=filters-BjjWcMwf.chunk.mjs.map

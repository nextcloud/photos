const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=[window.OC.filePath('photos', '', 'js/index-BMbtc3xh-CDw_TRNL.chunk.mjs'),window.OC.filePath('photos', '', 'js/preload-helper-CPULxMJS.chunk.mjs'),window.OC.filePath('photos', '', 'js/vue.runtime.esm-OiydnxB-.chunk.mjs')])))=>i.map(i=>d[i]);
var Jt=Object.defineProperty;var Qt=(t,e,o)=>e in t?Jt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o;var d=(t,e,o)=>Qt(t,typeof e!="symbol"?e+"":e,o);import{_ as Gt}from"./preload-helper-CPULxMJS.chunk.mjs";import{s as zt}from"./dialog-CiY8TRVl.chunk.mjs";import{a7 as Yt,Y as V,a8 as qt,h as mt,l as Wt}from"./index-ycziVi-9.chunk.mjs";import{X as yt,Y as x,g as ot,Z as Xt,_ as U,$ as gt,a0 as z,a1 as _t,H as bt,L as Zt,e as vt,t as Y,E as Kt,a2 as te,a3 as ee,y as oe,v as M,d as wt,a as H}from"./vue.runtime.esm-OiydnxB-.chunk.mjs";import{d as se}from"./index-gUDvIMxF.chunk.mjs";import{e as ne,v as re,n as Ot,P as ie,w as ae}from"./icons-UgBTm9C1.chunk.mjs";import{f as ct}from"./PhotosFiltersInput-BXJdN7DC.chunk.mjs";function ce(){return St().__VUE_DEVTOOLS_GLOBAL_HOOK__}function St(){return typeof navigator<"u"&&typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}}const le=typeof Proxy=="function",ue="devtools-plugin:setup",pe="plugin:settings:set";let C,K;function de(){var t;return C!==void 0||(typeof window<"u"&&window.performance?(C=!0,K=window.performance):typeof globalThis<"u"&&!((t=globalThis.perf_hooks)===null||t===void 0)&&t.performance?(C=!0,K=globalThis.perf_hooks.performance):C=!1),C}function he(){return de()?K.now():Date.now()}class fe{constructor(e,o){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=o;const s={};if(e.settings)for(const i in e.settings){const r=e.settings[i];s[i]=r.defaultValue}const n="__vue-devtools-plugin-settings__".concat(e.id);let a=Object.assign({},s);try{const i=localStorage.getItem(n),r=JSON.parse(i);Object.assign(a,r)}catch(i){}this.fallbacks={getSettings(){return a},setSettings(i){try{localStorage.setItem(n,JSON.stringify(i))}catch(r){}a=i},now(){return he()}},o&&o.on(pe,(i,r)=>{i===this.plugin.id&&this.fallbacks.setSettings(r)}),this.proxiedOn=new Proxy({},{get:(i,r)=>this.target?this.target.on[r]:(...c)=>{this.onQueue.push({method:r,args:c})}}),this.proxiedTarget=new Proxy({},{get:(i,r)=>this.target?this.target[r]:r==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(r)?(...c)=>(this.targetQueue.push({method:r,args:c,resolve:()=>{}}),this.fallbacks[r](...c)):(...c)=>new Promise(p=>{this.targetQueue.push({method:r,args:c,resolve:p})})})}async setRealTarget(e){this.target=e;for(const o of this.onQueue)this.target.on[o.method](...o.args);for(const o of this.targetQueue)o.resolve(await this.target[o.method](...o.args))}}function Pt(t,e){const o=t,s=St(),n=ce(),a=le&&o.enableEarlyProxy;if(n&&(s.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!a))n.emit(ue,t,e);else{const i=a?new fe(o,n):null;(s.__VUE_DEVTOOLS_PLUGINS__=s.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:o,setupFn:e,proxy:i}),i&&e(i.proxiedTarget)}}let Ft;const N=t=>Ft=t,Et=Symbol();function tt(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var w;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(w||(w={}));const k=typeof window<"u",lt=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof M=="object"&&M.global===M?M:typeof globalThis=="object"?globalThis:{HTMLElement:null};function me(t,{autoBom:e=!1}={}){return e&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\uFEFF",t],{type:t.type}):t}function st(t,e,o){const s=new XMLHttpRequest;s.open("GET",t),s.responseType="blob",s.onload=function(){$t(s.response,e,o)},s.onerror=function(){console.error("could not download file")},s.send()}function kt(t){const e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(o){}return e.status>=200&&e.status<=299}function B(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(e){const o=document.createEvent("MouseEvents");o.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(o)}}const J=typeof navigator=="object"?navigator:{userAgent:""},Tt=/Macintosh/.test(J.userAgent)&&/AppleWebKit/.test(J.userAgent)&&!/Safari/.test(J.userAgent),$t=k?typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype&&!Tt?ye:"msSaveOrOpenBlob"in J?ge:_e:()=>{};function ye(t,e="download",o){const s=document.createElement("a");s.download=e,s.rel="noopener",typeof t=="string"?(s.href=t,s.origin!==location.origin?kt(s.href)?st(t,e,o):(s.target="_blank",B(s)):B(s)):(s.href=URL.createObjectURL(t),setTimeout(function(){URL.revokeObjectURL(s.href)},4e4),setTimeout(function(){B(s)},0))}function ge(t,e="download",o){if(typeof t=="string")if(kt(t))st(t,e,o);else{const s=document.createElement("a");s.href=t,s.target="_blank",setTimeout(function(){B(s)})}else navigator.msSaveOrOpenBlob(me(t,o),e)}function _e(t,e,o,s){if(s=s||open("","_blank"),s&&(s.document.title=s.document.body.innerText="downloading..."),typeof t=="string")return st(t,e,o);const n=t.type==="application/octet-stream",a=/constructor/i.test(String(lt.HTMLElement))||"safari"in lt,i=/CriOS\/[\d]+/.test(navigator.userAgent);if((i||n&&a||Tt)&&typeof FileReader<"u"){const r=new FileReader;r.onloadend=function(){let c=r.result;if(typeof c!="string")throw s=null,new Error("Wrong reader.result type");c=i?c:c.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=c:location.assign(c),s=null},r.readAsDataURL(t)}else{const r=URL.createObjectURL(t);s?s.location.assign(r):location.href=r,s=null,setTimeout(function(){URL.revokeObjectURL(r)},4e4)}}function h(t,e){const o="ðŸ "+t;typeof __VUE_DEVTOOLS_TOAST__=="function"?__VUE_DEVTOOLS_TOAST__(o,e):e==="error"?console.error(o):e==="warn"?console.warn(o):console.log(o)}function nt(t){return"_a"in t&&"install"in t}function Vt(){if(!("clipboard"in navigator))return h("Your browser doesn't support the Clipboard API","error"),!0}function It(t){return t instanceof Error&&t.message.toLowerCase().includes("document is not focused")?(h('You need to activate the "Emulate a focused page" setting in the "Rendering" panel of devtools.',"warn"),!0):!1}async function be(t){if(!Vt())try{await navigator.clipboard.writeText(JSON.stringify(t.state.value)),h("Global state copied to clipboard.")}catch(e){if(It(e))return;h("Failed to serialize the state. Check the console for more details.","error"),console.error(e)}}async function ve(t){if(!Vt())try{jt(t,JSON.parse(await navigator.clipboard.readText())),h("Global state pasted from clipboard.")}catch(e){if(It(e))return;h("Failed to deserialize the state from clipboard. Check the console for more details.","error"),console.error(e)}}async function we(t){try{$t(new Blob([JSON.stringify(t.state.value)],{type:"text/plain;charset=utf-8"}),"pinia-state.json")}catch(e){h("Failed to export the state as JSON. Check the console for more details.","error"),console.error(e)}}let O;function Oe(){O||(O=document.createElement("input"),O.type="file",O.accept=".json");function t(){return new Promise((e,o)=>{O.onchange=async()=>{const s=O.files;if(!s)return e(null);const n=s.item(0);return e(n?{text:await n.text(),file:n}:null)},O.oncancel=()=>e(null),O.onerror=o,O.click()})}return t}async function Se(t){try{const e=await Oe()();if(!e)return;const{text:o,file:s}=e;jt(t,JSON.parse(o)),h('Global state imported from "'.concat(s.name,'".'))}catch(e){h("Failed to import the state from JSON. Check the console for more details.","error"),console.error(e)}}function jt(t,e){for(const o in e){const s=t.state.value[o];s?Object.assign(s,e[o]):t.state.value[o]=e[o]}}function b(t){return{_custom:{display:t}}}const At="ðŸ Pinia (root)",Q="_root";function Pe(t){return nt(t)?{id:Q,label:At}:{id:t.$id,label:t.$id}}function Fe(t){if(nt(t)){const o=Array.from(t._s.keys()),s=t._s;return{state:o.map(n=>({editable:!0,key:n,value:t.state.value[n]})),getters:o.filter(n=>s.get(n)._getters).map(n=>{const a=s.get(n);return{editable:!1,key:n,value:a._getters.reduce((i,r)=>(i[r]=a[r],i),{})}})}}const e={state:Object.keys(t.$state).map(o=>({editable:!0,key:o,value:t.$state[o]}))};return t._getters&&t._getters.length&&(e.getters=t._getters.map(o=>({editable:!1,key:o,value:t[o]}))),t._customProperties.size&&(e.customProperties=Array.from(t._customProperties).map(o=>({editable:!0,key:o,value:t[o]}))),e}function Ee(t){return t?Array.isArray(t)?t.reduce((e,o)=>(e.keys.push(o.key),e.operations.push(o.type),e.oldValue[o.key]=o.oldValue,e.newValue[o.key]=o.newValue,e),{oldValue:{},keys:[],operations:[],newValue:{}}):{operation:b(t.type),key:b(t.key),oldValue:t.oldValue,newValue:t.newValue}:{}}function ke(t){switch(t){case w.direct:return"mutation";case w.patchFunction:return"$patch";case w.patchObject:return"$patch";default:return"unknown"}}let j=!0;const G=[],E="pinia:mutations",f="pinia",{assign:Te}=Object,q=t=>"ðŸ "+t;function $e(t,e){Pt({id:"dev.esm.pinia",label:"Pinia ðŸ",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:G,app:t},o=>{typeof o.now!="function"&&h("You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),o.addTimelineLayer({id:E,label:"Pinia ðŸ",color:15064968}),o.addInspector({id:f,label:"Pinia ðŸ",icon:"storage",treeFilterPlaceholder:"Search stores",actions:[{icon:"content_copy",action:()=>{be(e)},tooltip:"Serialize and copy the state"},{icon:"content_paste",action:async()=>{await ve(e),o.sendInspectorTree(f),o.sendInspectorState(f)},tooltip:"Replace the state with the content of your clipboard"},{icon:"save",action:()=>{we(e)},tooltip:"Save the state as a JSON file"},{icon:"folder_open",action:async()=>{await Se(e),o.sendInspectorTree(f),o.sendInspectorState(f)},tooltip:"Import the state from a JSON file"}],nodeActions:[{icon:"restore",tooltip:'Reset the state (with "$reset")',action:s=>{const n=e._s.get(s);n?typeof n.$reset!="function"?h('Cannot reset "'.concat(s,'" store because it doesn\'t have a "$reset" method implemented.'),"warn"):(n.$reset(),h('Store "'.concat(s,'" reset.'))):h('Cannot reset "'.concat(s,"\" store because it wasn't found."),"warn")}}]}),o.on.inspectComponent((s,n)=>{const a=s.componentInstance&&s.componentInstance.proxy;if(a&&a._pStores){const i=s.componentInstance.proxy._pStores;Object.values(i).forEach(r=>{s.instanceData.state.push({type:q(r.$id),key:"state",editable:!0,value:r._isOptionsAPI?{_custom:{value:Y(r.$state),actions:[{icon:"restore",tooltip:"Reset the state of this store",action:()=>r.$reset()}]}}:Object.keys(r.$state).reduce((c,p)=>(c[p]=r.$state[p],c),{})}),r._getters&&r._getters.length&&s.instanceData.state.push({type:q(r.$id),key:"getters",editable:!1,value:r._getters.reduce((c,p)=>{try{c[p]=r[p]}catch(y){c[p]=y}return c},{})})})}}),o.on.getInspectorTree(s=>{if(s.app===t&&s.inspectorId===f){let n=[e];n=n.concat(Array.from(e._s.values())),s.rootNodes=(s.filter?n.filter(a=>"$id"in a?a.$id.toLowerCase().includes(s.filter.toLowerCase()):At.toLowerCase().includes(s.filter.toLowerCase())):n).map(Pe)}}),globalThis.$pinia=e,o.on.getInspectorState(s=>{if(s.app===t&&s.inspectorId===f){const n=s.nodeId===Q?e:e._s.get(s.nodeId);if(!n)return;n&&(s.nodeId!==Q&&(globalThis.$store=Y(n)),s.state=Fe(n))}}),o.on.editInspectorState((s,n)=>{if(s.app===t&&s.inspectorId===f){const a=s.nodeId===Q?e:e._s.get(s.nodeId);if(!a)return h('store "'.concat(s.nodeId,'" not found'),"error");const{path:i}=s;nt(a)?i.unshift("state"):(i.length!==1||!a._customProperties.has(i[0])||i[0]in a.$state)&&i.unshift("$state"),j=!1,s.set(a,i,s.state.value),j=!0}}),o.on.editComponentState(s=>{if(s.type.startsWith("ðŸ")){const n=s.type.replace(/^ðŸ\s*/,""),a=e._s.get(n);if(!a)return h('store "'.concat(n,'" not found'),"error");const{path:i}=s;if(i[0]!=="state")return h('Invalid path for store "'.concat(n,'":\n').concat(i,"\nOnly state can be modified."));i[0]="$state",j=!1,s.set(a,i,s.state.value),j=!0}})})}function Ve(t,e){G.includes(q(e.$id))||G.push(q(e.$id)),Pt({id:"dev.esm.pinia",label:"Pinia ðŸ",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:G,app:t,settings:{logStoreChanges:{label:"Notify about new/deleted stores",type:"boolean",defaultValue:!0}}},o=>{const s=typeof o.now=="function"?o.now.bind(o):Date.now;e.$onAction(({after:i,onError:r,name:c,args:p})=>{const y=Dt++;o.addTimelineEvent({layerId:E,event:{time:s(),title:"ðŸ›« "+c,subtitle:"start",data:{store:b(e.$id),action:b(c),args:p},groupId:y}}),i(v=>{P=void 0,o.addTimelineEvent({layerId:E,event:{time:s(),title:"ðŸ›¬ "+c,subtitle:"end",data:{store:b(e.$id),action:b(c),args:p,result:v},groupId:y}})}),r(v=>{P=void 0,o.addTimelineEvent({layerId:E,event:{time:s(),logType:"error",title:"ðŸ’¥ "+c,subtitle:"end",data:{store:b(e.$id),action:b(c),args:p,error:v},groupId:y}})})},!0),e._customProperties.forEach(i=>{bt(()=>Kt(e[i]),(r,c)=>{o.notifyComponentUpdate(),o.sendInspectorState(f),j&&o.addTimelineEvent({layerId:E,event:{time:s(),title:"Change",subtitle:i,data:{newValue:r,oldValue:c},groupId:P}})},{deep:!0})}),e.$subscribe(({events:i,type:r},c)=>{if(o.notifyComponentUpdate(),o.sendInspectorState(f),!j)return;const p={time:s(),title:ke(r),data:Te({store:b(e.$id)},Ee(i)),groupId:P};r===w.patchFunction?p.subtitle="â¤µï¸":r===w.patchObject?p.subtitle="ðŸ§©":i&&!Array.isArray(i)&&(p.subtitle=i.type),i&&(p.data["rawEvent(s)"]={_custom:{display:"DebuggerEvent",type:"object",tooltip:"raw DebuggerEvent[]",value:i}}),o.addTimelineEvent({layerId:E,event:p})},{detached:!0,flush:"sync"});const n=e._hotUpdate;e._hotUpdate=U(i=>{n(i),o.addTimelineEvent({layerId:E,event:{time:s(),title:"ðŸ”¥ "+e.$id,subtitle:"HMR update",data:{store:b(e.$id),info:b("HMR update")}}}),o.notifyComponentUpdate(),o.sendInspectorTree(f),o.sendInspectorState(f)});const{$dispose:a}=e;e.$dispose=()=>{a(),o.notifyComponentUpdate(),o.sendInspectorTree(f),o.sendInspectorState(f),o.getSettings().logStoreChanges&&h('Disposed "'.concat(e.$id,'" store ðŸ—‘'))},o.notifyComponentUpdate(),o.sendInspectorTree(f),o.sendInspectorState(f),o.getSettings().logStoreChanges&&h('"'.concat(e.$id,'" store installed ðŸ†•'))})}let Dt=0,P;function ut(t,e,o){const s=e.reduce((n,a)=>(n[a]=Y(t)[a],n),{});for(const n in s)t[n]=function(){const a=Dt,i=o?new Proxy(t,{get(...c){return P=a,Reflect.get(...c)},set(...c){return P=a,Reflect.set(...c)}}):t;P=a;const r=s[n].apply(i,arguments);return P=void 0,r}}function Ie({app:t,store:e,options:o}){if(!e.$id.startsWith("__hot:")){if(e._isOptionsAPI=!!o.state,!e._p._testing){ut(e,Object.keys(o.actions),e._isOptionsAPI);const s=e._hotUpdate;Y(e)._hotUpdate=function(n){s.apply(this,arguments),ut(e,Object.keys(n._hmrPayload.actions),!!e._isOptionsAPI)}}Ve(t,e)}}function mo(){const t=gt(!0),e=t.run(()=>ot({}));let o=[];const s=U({install(n){N(s)},use(n){return this._a,o.push(n),this},_p:o,_a:null,_e:t,_s:new Map,state:e});return typeof __VUE_PROD_DEVTOOLS__<"u"&&__VUE_PROD_DEVTOOLS__&&k&&typeof Proxy<"u"&&s.use(Ie),s}const Lt=()=>{};function pt(t,e,o,s=Lt){t.push(e);const n=()=>{const a=t.indexOf(e);a>-1&&(t.splice(a,1),s())};return!o&&te()&&ee(n),n}function I(t,...e){t.slice().forEach(o=>{o(...e)})}const je=t=>t(),dt=Symbol(),Z=Symbol();function et(t,e){t instanceof Map&&e instanceof Map?e.forEach((o,s)=>t.set(s,o)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const o in e){if(!e.hasOwnProperty(o))continue;const s=e[o],n=t[o];tt(n)&&tt(s)&&t.hasOwnProperty(o)&&!z(s)&&!_t(s)?t[o]=et(n,s):t[o]=s}return t}const Ae=Symbol();function De(t){return!tt(t)||!t.hasOwnProperty(Ae)}const{assign:S}=Object;function Le(t){return!!(z(t)&&t.effect)}function Ce(t,e,o,s){const{state:n,actions:a,getters:i}=e,r=o.state.value[t];let c;function p(){r||x(o.state.value,t,n?n():{});const y=yt(o.state.value[t]);return S(y,a,Object.keys(i||{}).reduce((v,T)=>(v[T]=U(vt(()=>{N(o);const F=o._s.get(t);if(F._r)return i[T].call(F,F)})),v),{}))}return c=Ct(t,p,e,o,s,!0),c}function Ct(t,e,o={},s,n,a){let i;const r=S({actions:{}},o),c={deep:!0};let p,y,v=[],T=[],F;const $=s.state.value[t];!a&&!$&&x(s.state.value,t,{});const Ut=ot({});let rt;function it(l){let u;p=y=!1,typeof l=="function"?(l(s.state.value[t]),u={type:w.patchFunction,storeId:t,events:F}):(et(s.state.value[t],l),u={type:w.patchObject,payload:l,storeId:t,events:F});const g=rt=Symbol();Zt().then(()=>{rt===g&&(p=!0)}),y=!0,I(v,u,s.state.value[t])}const Nt=a?function(){const{state:l}=o,u=l?l():{};this.$patch(g=>{S(g,u)})}:Lt;function Rt(){i.stop(),v=[],T=[],s._s.delete(t)}const at=(l,u="")=>{if(dt in l)return l[Z]=u,l;const g=function(){N(s);const R=Array.from(arguments),D=[],X=[];function Ht(_){D.push(_)}function Bt(_){X.push(_)}I(T,{args:R,name:g[Z],store:m,after:Ht,onError:Bt});let L;try{L=l.apply(this&&this.$id===t?this:m,R)}catch(_){throw I(X,_),_}return L instanceof Promise?L.then(_=>(I(D,_),_)).catch(_=>(I(X,_),Promise.reject(_))):(I(D,L),L)};return g[dt]=!0,g[Z]=u,g},Mt=U({actions:{},getters:{},state:[],hotState:Ut}),W={_p:s,$id:t,$onAction:pt.bind(null,T),$patch:it,$reset:Nt,$subscribe(l,u={}){const g=pt(v,l,u.detached,()=>R()),R=i.run(()=>bt(()=>s.state.value[t],D=>{(u.flush==="sync"?y:p)&&l({storeId:t,type:w.direct,events:F},D)},S({},c,u)));return g},$dispose:Rt};W._r=!1;const m=Xt(typeof __VUE_PROD_DEVTOOLS__<"u"&&__VUE_PROD_DEVTOOLS__&&k?S({_hmrPayload:Mt,_customProperties:U(new Set)},W):W);s._s.set(t,m);const A=(s._a&&s._a.runWithContext||je)(()=>s._e.run(()=>(i=gt()).run(()=>e({action:at}))));for(const l in A){const u=A[l];if(z(u)&&!Le(u)||_t(u))a||($&&De(u)&&(z(u)?u.value=$[l]:et(u,$[l])),x(s.state.value[t],l,u));else if(typeof u=="function"){const g=at(u,l);x(A,l,g),r.actions[l]=u}}if(Object.keys(A).forEach(l=>{x(m,l,A[l])}),Object.defineProperty(m,"$state",{get:()=>s.state.value[t],set:l=>{it(u=>{S(u,l)})}}),typeof __VUE_PROD_DEVTOOLS__<"u"&&__VUE_PROD_DEVTOOLS__&&k){const l={writable:!0,configurable:!0,enumerable:!1};["_p","_hmrPayload","_getters","_customProperties"].forEach(u=>{Object.defineProperty(m,u,S({value:m[u]},l))})}return m._r=!0,s._p.forEach(l=>{if(typeof __VUE_PROD_DEVTOOLS__<"u"&&__VUE_PROD_DEVTOOLS__&&k){const u=i.run(()=>l({store:m,app:s._a,pinia:s,options:r}));Object.keys(u||{}).forEach(g=>m._customProperties.add(g)),S(m,u)}else S(m,i.run(()=>l({store:m,app:s._a,pinia:s,options:r})))}),$&&a&&o.hydrate&&o.hydrate(m.$state,$),p=!0,y=!0,m}function xe(t,e,o){let s,n;const a=typeof e=="function";s=t,n=a?o:e;function i(r,c){const p=Yt();return r=r||(p?oe(Et,null):null),r&&N(r),r=Ft,r._s.has(s)||(a?Ct(s,e,n,r):Ce(s,n,r)),r._s.get(s)}return i.$id=s,i}function yo(t){return yt(t)}const go=function(t){t.mixin({beforeCreate(){const e=this.$options;if(e.pinia){const o=e.pinia;if(!this._provided){const s={};Object.defineProperty(this,"_provided",{get:()=>s,set:n=>Object.assign(s,n)})}this._provided[Et]=o,this.$pinia||(this.$pinia=o),o._a=this,k&&N(o),typeof __VUE_PROD_DEVTOOLS__<"u"&&__VUE_PROD_DEVTOOLS__&&k&&$e(o._a,o)}else!this.$pinia&&e.parent&&e.parent.$pinia&&(this.$pinia=e.parent.$pinia)},destroyed(){delete this._pStores}})};function xt(t,e){return t=t.replace(/\\/g,"/").replace(/\/+$/g,"").replace(/.*\//,""),t}function _o(t){const e=xt(t),o=e.lastIndexOf(".");return o>0?e.substring(o):""}const Ue='<svg xmlns="http://www.w3.org/2000/svg" id="mdi-folder-move" viewBox="0 0 24 24"><path d="M14,18V15H10V11H14V8L19,13M20,6H12L10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6Z" /></svg>',Ne='<svg xmlns="http://www.w3.org/2000/svg" id="mdi-folder-multiple" viewBox="0 0 24 24"><path d="M22,4H14L12,2H6A2,2 0 0,0 4,4V16A2,2 0 0,0 6,18H22A2,2 0 0,0 24,16V6A2,2 0 0,0 22,4M2,6H0V11H0V20A2,2 0 0,0 2,22H20V20H2V6Z" /></svg>';class Re extends Error{}class Me{constructor(e,o,s,n,a,i,r,c,p,y=!1){d(this,"title");d(this,"multiSelect");d(this,"mimeTypeFilter");d(this,"directoriesAllowed");d(this,"buttons");d(this,"path");d(this,"filter");d(this,"canPick");d(this,"container");d(this,"disabledNavigation");this.title=e,this.multiSelect=o,this.mimeTypeFilter=s,this.directoriesAllowed=n,this.path=i,this.filter=r,this.canPick=c,this.buttons=a,this.container=p,this.disabledNavigation=y}async pickNodes(){const{FilePickerVue:e}=await Gt(async()=>{const{FilePickerVue:o}=await import("./index-BMbtc3xh-CDw_TRNL.chunk.mjs");return{FilePickerVue:o}},__vite__mapDeps([0,1,2]),import.meta.url);return new Promise((o,s)=>{zt(e,{allowPickDirectory:this.directoriesAllowed,buttons:this.buttons,container:this.container,name:this.title,path:this.path,mimetypeFilter:this.mimeTypeFilter,multiselect:this.multiSelect,filterFn:this.filter,canPickFn:this.canPick,disabledNavigation:this.disabledNavigation},(...n)=>{const[a]=n;!Array.isArray(a)||a.length===0?s(new Re("FilePicker: No nodes selected")):o(a)})})}async pick(){var o,s;const e=await this.pickNodes();return this.multiSelect?e.map(n=>n.path):(s=(o=e[0])==null?void 0:o.path)!=null?s:"/"}}class He{constructor(e){d(this,"title");d(this,"multiSelect",!1);d(this,"mimeTypeFilter",[]);d(this,"directoriesAllowed",!1);d(this,"path");d(this,"filter");d(this,"canPick");d(this,"buttons",[]);d(this,"container");d(this,"disabledNavigation",!1);this.title=e}setContainer(e){return this.container=e,this}setMultiSelect(e){return this.multiSelect=e,this}addMimeTypeFilter(e){return this.mimeTypeFilter.push(e),this}setMimeTypeFilter(e){return this.mimeTypeFilter=e,this}addButton(e){return typeof this.buttons=="function"&&(console.warn("FilePicker buttons were set to factory, now overwritten with button object."),this.buttons=[]),this.buttons.push(e),this}setButtonFactory(e){return this.buttons=e,this}setType(e){return this.buttons=(o,s)=>{var i;const n=[],a=((i=o[0])==null?void 0:i.displayname)||xt(s);if(e===1){let r=V("Choose");o.length===1?r=V("Choose {file}",{file:a}):this.multiSelect&&(r=qt("Choose %n file","Choose %n files",o.length)),n.push({callback:()=>{},type:"primary",label:r})}return(e===4||e===3)&&n.push({callback:()=>{},label:a?V("Copy to {target}",{target:a}):V("Copy"),icon:Ne,variant:e===3?"primary":"secondary"}),(e===4||e===2)&&n.push({callback:()=>{},label:a?V("Move to {target}",{target:a}):V("Move"),icon:Ue,variant:"primary"}),n},this}allowDirectories(e=!0){return this.directoriesAllowed=e,this}startAt(e){return this.path=e,this}setFilter(e){return this.filter=e,this}setCanPick(e){return this.canPick=e,this}disableNavigation(){return this.disabledNavigation=!0,this}build(){return new Me(this.title,this.multiSelect,this.mimeTypeFilter,this.directoriesAllowed,this.buttons,this.path,this.filter,this.canPick,this.container,this.disabledNavigation)}}function Be(t){return new He(t)}const Je=wt({name:"PhotosFolder",components:{NcButton:mt,FolderOutline:re,Close:ne},props:{path:{type:String,required:!0},canDelete:{type:Boolean,default:!1},rootFolderLabel:{type:String,required:!0},rootFolderIcon:{type:Object,required:!0}},emits:["remove-folder"],computed:{folderName(){return this.path==="/"?this.rootFolderLabel:this.path.split("/").pop()},subname(){var t;switch(((t=this.path.match(/\//g))!=null?t:[]).length){case 1:return"";case 2:return this.path.split("/").splice(0,2).join("/");default:return this.path.split("/").splice(0,3).join("/")}}},methods:{emitRemoveSourceFolder(){this.$emit("remove-folder")},t:H}});var Qe=function(){var t=this,e=t._self._c;return t._self._setupProxy,e("div",{staticClass:"folder"},[t.path==="/"?e(t.rootFolderIcon,{tag:"component"}):e("FolderOutline"),e("span",{staticClass:"folder__info"},[e("div",{staticClass:"folder__path"},[t._v(t._s(t.folderName))]),t.subname!==""?e("div",[t._v(" "+t._s(t.subname)+" ")]):t._e()]),t.canDelete?e("NcButton",{attrs:{variant:"tertiary","aria-label":t.t("photos","Delete source directory")},on:{click:t.emitRemoveSourceFolder},scopedSlots:t._u([{key:"icon",fn:function(){return[e("Close",{attrs:{size:20}})]},proxy:!0}],null,!1,2121748766)}):t._e()],1)},Ge=[],ze=Ot(Je,Qe,Ge,!1,null,"74f30535");const Ye=ze.exports,qe=wt({name:"PhotosSourceLocationsSettings",components:{NcButton:mt,PhotosFolder:Ye,Plus:ie},data(){return{FolderMultipleOutline:ae}},computed:{photosSourceFolders(){return this.$store.state.userConfig.photosSourceFolders}},methods:{debounceAddSourceFolder:se(function(...t){this.addSourceFolder(...t)},200,{immediate:!1}),async openFilePicker(t){return Be(t).setMultiSelect(!1).addMimeTypeFilter("httpd/unix-directory").allowDirectories().addButton({label:H("photos","Pick folder"),callback:e=>Wt.debug("Picked",{nodes:e})}).build().pick()},async addSourceFolder(){const t=await this.openFilePicker(H("photos","Select a source folder for your media"));this.photosSourceFolders.includes(t)||this.$store.dispatch("updateUserConfig",{key:"photosSourceFolders",value:[...this.photosSourceFolders,t]})},removeSourceFolder(t){const e=[...this.photosSourceFolders];e.splice(t,1),this.$store.dispatch("updateUserConfig",{key:"photosSourceFolders",value:e})},t:H}});var We=function(){var t=this,e=t._self._c;return t._self._setupProxy,e("div",{staticClass:"photos-locations-container"},[e("div",{staticClass:"photos-locations"},t._l(t.photosSourceFolders,function(o,s){return e("li",{key:s},[e("PhotosFolder",{attrs:{path:o,"can-delete":t.photosSourceFolders.length!==1,"root-folder-label":t.t("photos","All folders"),"root-folder-icon":t.FolderMultipleOutline},on:{"remove-folder":function(n){return t.removeSourceFolder(s)}}})],1)}),0),e("NcButton",{attrs:{"aria-label":t.t("photos","Add a Photos source for the timelines")},on:{click:t.debounceAddSourceFolder},scopedSlots:t._u([{key:"icon",fn:function(){return[e("Plus",{attrs:{size:20}})]},proxy:!0}])},[t._v(" "+t._s(t.t("photos","Add folder"))+" ")])],1)},Xe=[],Ze=Ot(qe,We,Xe,!1,null,"1021a57e");const bo=Ze.exports;var Ke=Object.defineProperty,to=Object.defineProperties,eo=Object.getOwnPropertyDescriptors,ht=Object.getOwnPropertySymbols,oo=Object.prototype.hasOwnProperty,so=Object.prototype.propertyIsEnumerable,ft=(t,e,o)=>e in t?Ke(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,no=(t,e)=>{for(var o in e||(e={}))oo.call(e,o)&&ft(t,o,e[o]);if(ht)for(var o of ht(e))so.call(e,o)&&ft(t,o,e[o]);return t},ro=(t,e)=>to(t,eo(e));const vo=xe("filters",()=>{const t=ot(ct.reduce((o,s)=>ro(no({},o),{[s.id]:[]}),{})),e=vt(()=>Object.entries(t.value).filter(([,o])=>o.length>0).map(([o,s])=>{var n;return(n=ct.find(a=>a.id===o))==null?void 0:n.getQuery(s)}).join("\n"));return{selectedFilters:t,filtersQuery:e}});export{bo as P,Ye as a,go as b,mo as c,_o as e,Be as g,yo as s,vo as u};
//# sourceMappingURL=filters-Bm6FUGKw.chunk.mjs.map

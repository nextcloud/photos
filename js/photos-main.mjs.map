{"version":3,"file":"photos-main.mjs","sources":["../node_modules/@nextcloud/vue/dist/Components/NcAppNavigationList.mjs","../node_modules/@nextcloud/vue/dist/chunks/NcAppNavigation-CqKWSnxO.mjs","../node_modules/@nextcloud/vue/dist/Components/NcAppSettingsSection.mjs","../src/components/Settings/CroppedLayoutSettings.vue","../src/components/Settings/PhotosUploadLocationSettings.vue","../src/components/Settings/SettingsDialog.vue","../src/services/IsAppStoreEnabled.ts","../src/PhotosApp.vue","../src/main.ts"],"sourcesContent":["import '../assets/NcAppNavigationList-DnKj0-Zq.css';\nimport { n as normalizeComponent } from \"../chunks/_plugin-vue2_normalizer-DU4iP6Vu.mjs\";\nconst _sfc_main = {\n  name: \"NcAppNavigationList\"\n};\nvar _sfc_render = function render() {\n  var _vm = this, _c = _vm._self._c;\n  return _c(\"ul\", { staticClass: \"app-navigation-list\" }, [_vm._t(\"default\")], 2);\n};\nvar _sfc_staticRenderFns = [];\nvar __component__ = /* @__PURE__ */ normalizeComponent(\n  _sfc_main,\n  _sfc_render,\n  _sfc_staticRenderFns,\n  false,\n  null,\n  \"058e6060\"\n);\nconst NcAppNavigationList = __component__.exports;\nexport {\n  NcAppNavigationList as default\n};\n//# sourceMappingURL=NcAppNavigationList.mjs.map\n","import '../assets/NcAppNavigation-WhHdkLQF.css';\nimport { createFocusTrap } from \"focus-trap\";\nimport { emit, unsubscribe, subscribe } from \"@nextcloud/event-bus\";\nimport { tabbable } from \"tabbable\";\nimport Vue from \"vue\";\nimport { g as getTrapStack } from \"./focusTrap-DmkaYJTC.mjs\";\nimport { l as logger } from \"./logger-D3RVzcfQ.mjs\";\nimport { useHotKey } from \"../Composables/useHotKey.mjs\";\nimport { useIsMobile } from \"../Composables/useIsMobile.mjs\";\nimport NcAppNavigationList from \"../Components/NcAppNavigationList.mjs\";\nimport { N as NcAppNavigationToggle } from \"./NcAppNavigationToggle-CUdNQwyN.mjs\";\nimport { n as normalizeComponent } from \"./_plugin-vue2_normalizer-DU4iP6Vu.mjs\";\nconst _sfc_main = {\n  name: \"NcAppNavigation\",\n  components: {\n    NcAppNavigationList,\n    NcAppNavigationToggle\n  },\n  // Injected from NcContent\n  inject: {\n    setHasAppNavigation: {\n      default: () => () => Vue.util.warn(\"NcAppNavigation is not mounted inside NcContent, this is probably an error.\"),\n      from: \"NcContent:setHasAppNavigation\"\n    }\n  },\n  props: {\n    /**\n     * The aria label to describe the navigation\n     */\n    ariaLabel: {\n      type: String,\n      default: \"\"\n    },\n    /**\n     * aria-labelledby attribute to describe the navigation\n     */\n    ariaLabelledby: {\n      type: String,\n      default: \"\"\n    }\n  },\n  setup() {\n    return {\n      isMobile: useIsMobile()\n    };\n  },\n  data() {\n    return {\n      open: !this.isMobile,\n      focusTrap: null\n    };\n  },\n  watch: {\n    isMobile() {\n      this.open = !this.isMobile;\n      this.toggleFocusTrap();\n    },\n    open() {\n      this.toggleFocusTrap();\n    }\n  },\n  mounted() {\n    this.setHasAppNavigation(true);\n    subscribe(\"toggle-navigation\", this.toggleNavigationByEventBus);\n    emit(\"navigation-toggled\", {\n      open: this.open\n    });\n    this.focusTrap = createFocusTrap(this.$refs.appNavigationContainer, {\n      allowOutsideClick: true,\n      fallbackFocus: this.$refs.appNavigationContainer,\n      trapStack: getTrapStack(),\n      escapeDeactivates: false\n    });\n    this.toggleFocusTrap();\n    useHotKey(\"n\", this.onKeyDown, {\n      prevent: true,\n      stop: true\n    });\n  },\n  unmounted() {\n    this.setHasAppNavigation(false);\n    unsubscribe(\"toggle-navigation\", this.toggleNavigationByEventBus);\n    this.focusTrap.deactivate();\n  },\n  methods: {\n    /**\n     * Toggle the navigation\n     *\n     * @param {boolean} [state] set the state instead of inverting the current one\n     */\n    async toggleNavigation(state) {\n      if (this.open === state) {\n        emit(\"navigation-toggled\", {\n          open: this.open\n        });\n        return;\n      }\n      this.open = typeof state === \"undefined\" ? !this.open : state;\n      const bodyStyles = getComputedStyle(document.body);\n      const animationLength = parseInt(bodyStyles.getPropertyValue(\"--animation-quick\")) || 100;\n      if (this.open) {\n        await this.$nextTick();\n        this.focusFirstElement();\n      }\n      setTimeout(() => {\n        emit(\"navigation-toggled\", {\n          open: this.open\n        });\n      }, 1.5 * animationLength);\n    },\n    toggleNavigationByEventBus({ open }) {\n      this.toggleNavigation(open);\n    },\n    /**\n     * Activate focus trap if it is currently needed, otherwise deactivate\n     */\n    toggleFocusTrap() {\n      if (this.isMobile && this.open) {\n        this.focusTrap.activate();\n      } else {\n        this.focusTrap.deactivate();\n      }\n    },\n    handleEsc() {\n      if (this.isMobile && this.open) {\n        this.toggleNavigation(false);\n      }\n    },\n    focusFirstElement() {\n      const element = tabbable(this.$refs.appNavigationContainer)[0];\n      if (element) {\n        element.focus();\n        logger.debug(\"Focusing first element in the navigation\", { element });\n      }\n    },\n    onKeyDown(event) {\n      if (event.key === \"n\") {\n        if (!this.open) {\n          this.toggleNavigation(true);\n          return;\n        }\n        if (this.isFocusWithinNavigation()) {\n          this.toggleNavigation(false);\n        }\n      }\n    },\n    isFocusWithinNavigation() {\n      const activeElement = document.activeElement;\n      return this.$refs.appNavigationContainer?.contains(activeElement);\n    }\n  }\n};\nvar _sfc_render = function render() {\n  var _vm = this, _c = _vm._self._c;\n  return _c(\"div\", { ref: \"appNavigationContainer\", staticClass: \"app-navigation\", class: { \"app-navigation--close\": !_vm.open } }, [_c(\"nav\", { staticClass: \"app-navigation__content\", attrs: { \"id\": \"app-navigation-vue\", \"aria-hidden\": _vm.open ? \"false\" : \"true\", \"aria-label\": _vm.ariaLabel || void 0, \"aria-labelledby\": _vm.ariaLabelledby || void 0, \"inert\": !_vm.open || void 0 }, on: { \"keydown\": function($event) {\n    if (!$event.type.indexOf(\"key\") && _vm._k($event.keyCode, \"esc\", 27, $event.key, [\"Esc\", \"Escape\"])) return null;\n    return _vm.handleEsc.apply(null, arguments);\n  } } }, [_c(\"div\", { staticClass: \"app-navigation__search\" }, [_vm._t(\"search\")], 2), _c(\"div\", { staticClass: \"app-navigation__body\", class: { \"app-navigation__body--no-list\": !_vm.$scopedSlots.list } }, [_vm._t(\"default\")], 2), _vm.$scopedSlots.list ? _c(\"NcAppNavigationList\", { staticClass: \"app-navigation__list\" }, [_vm._t(\"list\")], 2) : _vm._e(), _vm._t(\"footer\")], 2), _c(\"NcAppNavigationToggle\", { attrs: { \"open\": _vm.open }, on: { \"update:open\": _vm.toggleNavigation } })], 1);\n};\nvar _sfc_staticRenderFns = [];\nvar __component__ = /* @__PURE__ */ normalizeComponent(\n  _sfc_main,\n  _sfc_render,\n  _sfc_staticRenderFns,\n  false,\n  null,\n  \"6d2acd3d\"\n);\nconst NcAppNavigation = __component__.exports;\nexport {\n  NcAppNavigation as N\n};\n//# sourceMappingURL=NcAppNavigation-CqKWSnxO.mjs.map\n","import '../assets/NcAppSettingsSection-Bl2-D3_g.css';\nimport { n as normalizeComponent } from \"../chunks/_plugin-vue2_normalizer-DU4iP6Vu.mjs\";\nconst _sfc_main = {\n  name: \"NcAppSettingsSection\",\n  inject: [\"registerSection\", \"unregisterSection\"],\n  props: {\n    name: {\n      type: String,\n      required: true\n    },\n    id: {\n      type: String,\n      required: true,\n      validator(id) {\n        return /^[a-z0-9\\-_]+$/.test(id);\n      }\n    }\n  },\n  computed: {\n    // generate an id for each settingssection based on the name without whitespaces\n    htmlId() {\n      return \"settings-section_\" + this.id;\n    }\n  },\n  // Reactive changes for section navigation\n  watch: {\n    id(newId, oldId) {\n      this.unregisterSection(oldId);\n      this.registerSection(newId, this.name, this.$slots?.icon);\n    },\n    name(newName) {\n      this.unregisterSection(this.id);\n      this.registerSection(this.id, newName, this.$slots?.icon);\n    }\n  },\n  mounted() {\n    this.registerSection(this.id, this.name, this.$slots?.icon);\n  },\n  beforeDestroy() {\n    this.unregisterSection(this.id);\n  }\n};\nvar _sfc_render = function render() {\n  var _vm = this, _c = _vm._self._c;\n  return _c(\"section\", { staticClass: \"app-settings-section\", attrs: { \"id\": _vm.htmlId, \"aria-labelledby\": `${_vm.htmlId}--label` } }, [_c(\"h3\", { staticClass: \"app-settings-section__name\", attrs: { \"id\": `${_vm.htmlId}--label` } }, [_vm._v(\" \" + _vm._s(_vm.name) + \" \")]), _vm._t(\"default\"), _vm._e()], 2);\n};\nvar _sfc_staticRenderFns = [];\nvar __component__ = /* @__PURE__ */ normalizeComponent(\n  _sfc_main,\n  _sfc_render,\n  _sfc_staticRenderFns,\n  false,\n  null,\n  \"e970c9f7\"\n);\nconst NcAppSettingsSection = __component__.exports;\nexport {\n  NcAppSettingsSection as default\n};\n//# sourceMappingURL=NcAppSettingsSection.mjs.map\n","<!--\n - SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\n - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<NcCheckboxRadioSwitch\n\t\t:checked=\"croppedLayout\"\n\t\ttype=\"switch\"\n\t\t@update:checked=\"updateSetting\">\n\t\t{{ t('photos', 'Enable squared photos view') }}\n\t</NcCheckboxRadioSwitch>\n</template>\n\n<script lang='ts'>\nimport NcCheckboxRadioSwitch from '@nextcloud/vue/components/NcCheckboxRadioSwitch'\n\nexport default {\n\tname: 'CroppedLayoutSettings',\n\n\tcomponents: {\n\t\tNcCheckboxRadioSwitch,\n\t},\n\n\tcomputed: {\n\t\tcroppedLayout() {\n\t\t\treturn this.$store.state.userConfig.croppedLayout\n\t\t},\n\t},\n\n\tmethods: {\n\t\tupdateSetting(value) {\n\t\t\tthis.$store.dispatch('updateUserConfig', { key: 'croppedLayout', value })\n\t\t},\n\t},\n}\n</script>\n","<!--\n - SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\n - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<div class=\"photos-location\">\n\t\t<PhotosFolder :path=\"photosLocation\" :root-folder-label=\"t('photos', 'Home')\" :root-folder-icon=\"HomeOutline\" />\n\n\t\t<NcButton\n\t\t\t:aria-label=\"t('photos', 'Choose default Photos upload and Albums location')\"\n\t\t\t@click=\"debounceSelectPhotosFolder\">\n\t\t\t{{ t('photos', 'Choose a different folder') }}\n\t\t</NcButton>\n\t</div>\n</template>\n\n<script lang='ts'>\nimport { getFilePickerBuilder } from '@nextcloud/dialogs'\nimport { t } from '@nextcloud/l10n'\nimport debounce from 'debounce'\nimport { defineComponent } from 'vue'\nimport NcButton from '@nextcloud/vue/components/NcButton'\nimport HomeOutline from 'vue-material-design-icons/HomeOutline.vue'\nimport PhotosFolder from './PhotosFolder.vue'\nimport logger from '../../services/logger.js'\n\nexport default defineComponent({\n\tname: 'PhotosUploadLocationSettings',\n\n\tcomponents: {\n\t\tNcButton,\n\t\tPhotosFolder,\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\tHomeOutline,\n\t\t}\n\t},\n\n\tcomputed: {\n\t\tphotosLocation(): string {\n\t\t\treturn this.$store.state.userConfig.photosLocation\n\t\t},\n\t},\n\n\tmethods: {\n\t\tdebounceSelectPhotosFolder: debounce(function() {\n\t\t\tthis.selectPhotosFolder()\n\t\t}),\n\n\t\tasync selectPhotosFolder(): Promise<void> {\n\t\t\tconst pickedFolder = await this.openFilePicker(t('photos', 'Select the default upload location for your media'))\n\t\t\tthis.updatePhotosFolder(pickedFolder)\n\t\t},\n\n\t\tasync openFilePicker(title: string): Promise<string> {\n\t\t\tconst picker = getFilePickerBuilder(title)\n\t\t\t\t.setMultiSelect(false)\n\t\t\t\t.addMimeTypeFilter('httpd/unix-directory')\n\t\t\t\t.allowDirectories()\n\t\t\t\t.startAt(this.photosLocation)\n\t\t\t\t.addButton({\n\t\t\t\t\tlabel: t('photos', 'Pick folder'),\n\t\t\t\t\tcallback: (nodes) => logger.debug('Picked', { nodes }),\n\t\t\t\t})\n\t\t\t\t.build()\n\n\t\t\treturn picker.pick()\n\t\t},\n\n\t\tupdatePhotosFolder(path: string): void {\n\t\t\tthis.$store.dispatch('updateUserConfig', { key: 'photosLocation', value: path })\n\t\t},\n\n\t\tt,\n\t},\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.photos-location {\n\tdisplay: flex;\n\tflex-direction: column;\n\twidth: fit-content;\n\n\t.folder {\n\t\tmargin-bottom: 16px;\n\t}\n}\n</style>\n","<!--\n - SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\n - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<NcAppSettingsDialog\n\t\t:open=\"open\"\n\t\t:show-navigation=\"true\"\n\t\t:name=\"t('photos', 'Photos settings')\"\n\t\t@update:open=\"onClose\">\n\t\t<NcAppSettingsSection id=\"layout-settings\" :name=\"t('photos', 'View')\">\n\t\t\t<CroppedLayoutSettings />\n\t\t</NcAppSettingsSection>\n\n\t\t<NcAppSettingsSection id=\"source-directories-settings\" :name=\"t('photos', 'Media folders')\">\n\t\t\t<div class=\"setting-section-subline\">\n\t\t\t\t{{ t('photos', 'Choose the folders from where photos and videos are shown.') }}\n\t\t\t</div>\n\n\t\t\t<PhotosSourceLocationsSettings />\n\t\t</NcAppSettingsSection>\n\n\t\t<NcAppSettingsSection id=\"upload-directory-settings\" :name=\"t('photos', 'Upload folder')\">\n\t\t\t<div class=\"setting-section-subline\">\n\t\t\t\t{{ t('photos', 'Choose the folder where photos and albums are uploaded to.') }}\n\t\t\t</div>\n\n\t\t\t<PhotosUploadLocationSettings />\n\t\t</NcAppSettingsSection>\n\t</NcAppSettingsDialog>\n</template>\n\n<script lang='ts'>\nimport { t } from '@nextcloud/l10n'\nimport NcAppSettingsDialog from '@nextcloud/vue/components/NcAppSettingsDialog'\nimport NcAppSettingsSection from '@nextcloud/vue/components/NcAppSettingsSection'\nimport CroppedLayoutSettings from './CroppedLayoutSettings.vue'\nimport PhotosSourceLocationsSettings from './PhotosSourceLocationsSettings.vue'\nimport PhotosUploadLocationSettings from './PhotosUploadLocationSettings.vue'\n\nexport default {\n\tname: 'SettingsDialog',\n\n\tcomponents: {\n\t\tNcAppSettingsDialog,\n\t\tNcAppSettingsSection,\n\t\tCroppedLayoutSettings,\n\t\tPhotosSourceLocationsSettings,\n\t\tPhotosUploadLocationSettings,\n\t},\n\n\tprops: {\n\t\topen: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\n\tmethods: {\n\t\t// This can only be called if the AppSettingsDialog\n\t\t// is shown. So closing only\n\t\tonClose() {\n\t\t\tthis.$emit('update:open', false)\n\t\t},\n\n\t\tt,\n\t},\n}\n</script>\n\n<style lang=\"scss\">\n.app-settings {\n\t.setting-section-subline {\n\t\tcolor: var(--color-text-lighter);\n\t\tmargin-bottom: 8px;\n\t}\n}\n</style>\n","/**\n * SPDX-FileCopyrightText: 2024 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport { loadState } from '@nextcloud/initial-state'\n\nconst appStoreEnabled = loadState('photos', 'appStoreEnabled', false) as boolean\nexport default appStoreEnabled\n","<!--\n  - SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<NcContent app-name=\"photos\">\n\t\t<NcAppNavigation :aria-label=\"t('photos', 'Photos')\">\n\t\t\t<template v-if=\"isTimelineView\" #search>\n\t\t\t\t<PhotosFiltersInput\n\t\t\t\t\t:selected-filters=\"selectedFilters\"\n\t\t\t\t\t@select-filter=\"selectFilter\" />\n\t\t\t\t<PhotosFiltersDisplay\n\t\t\t\t\t:selected-filters=\"selectedFilters\"\n\t\t\t\t\t@deselect-filter=\"deselectFilter\" />\n\t\t\t</template>\n\n\t\t\t<template #list>\n\t\t\t\t<NcAppNavigationItem\n\t\t\t\t\t:to=\"{ name: 'all_media' }\"\n\t\t\t\t\t:name=\"t('photos', 'All media')\"\n\t\t\t\t\tclass=\"app-navigation__all_media\"\n\t\t\t\t\tdata-id-app-nav-item=\"all-media\"\n\t\t\t\t\texact>\n\t\t\t\t\t<template #icon=\"{ active }\">\n\t\t\t\t\t\t<ImageIcon v-if=\"active\" :size=\"20\" />\n\t\t\t\t\t\t<ImageOutline v-else :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t</NcAppNavigationItem>\n\t\t\t\t<NcAppNavigationItem\n\t\t\t\t\tto=\"/photos\"\n\t\t\t\t\t:name=\"t('photos', 'Photos')\"\n\t\t\t\t\tdata-id-app-nav-item=\"photos\">\n\t\t\t\t\t<template #icon=\"{ active }\">\n\t\t\t\t\t\t<Camera v-if=\"active\" :size=\"20\" />\n\t\t\t\t\t\t<CameraOutline v-else :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t</NcAppNavigationItem>\n\t\t\t\t<NcAppNavigationItem\n\t\t\t\t\tto=\"/videos\"\n\t\t\t\t\t:name=\"t('photos', 'Videos')\"\n\t\t\t\t\tdata-id-app-nav-item=\"videos\">\n\t\t\t\t\t<template #icon=\"{ active }\">\n\t\t\t\t\t\t<VideoIcon v-if=\"active\" :size=\"20\" />\n\t\t\t\t\t\t<VideoOutline v-else :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t</NcAppNavigationItem>\n\t\t\t\t<NcAppNavigationItem\n\t\t\t\t\t:to=\"{ name: 'albums' }\"\n\t\t\t\t\t:name=\"t('photos', 'Albums')\"\n\t\t\t\t\tdata-id-app-nav-item=\"albums\">\n\t\t\t\t\t<template #icon=\"{ active }\">\n\t\t\t\t\t\t<ImageMultiple v-if=\"active\" :size=\"20\" />\n\t\t\t\t\t\t<ImageMultipleOutline v-else :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t</NcAppNavigationItem>\n\t\t\t\t<NcAppNavigationItem\n\t\t\t\t\t:to=\"{ name: 'sharedAlbums' }\"\n\t\t\t\t\t:name=\"t('photos', 'Collaborative albums')\"\n\t\t\t\t\tdata-id-app-nav-item=\"sharedalbums\">\n\t\t\t\t\t<template #icon=\"{ active }\">\n\t\t\t\t\t\t<AccountGroup v-if=\"active\" :size=\"20\" />\n\t\t\t\t\t\t<AccountGroupOutline v-else :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t</NcAppNavigationItem>\n\t\t\t\t<NcAppNavigationItem\n\t\t\t\t\tv-if=\"showPeopleMenuEntry\"\n\t\t\t\t\t:to=\"{ name: 'faces' }\"\n\t\t\t\t\t:name=\"t('photos', 'People')\"\n\t\t\t\t\tdata-id-app-nav-item=\"faces\">\n\t\t\t\t\t<template #icon=\"{ active }\">\n\t\t\t\t\t\t<AccountBoxMultiple v-if=\"active\" :size=\"20\" />\n\t\t\t\t\t\t<AccountBoxMultipleOutline v-else :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t</NcAppNavigationItem>\n\t\t\t\t<NcAppNavigationItem\n\t\t\t\t\t:to=\"{ name: 'folders' }\"\n\t\t\t\t\t:name=\"t('photos', 'Folders')\"\n\t\t\t\t\tdata-id-app-nav-item=\"folders\">\n\t\t\t\t\t<template #icon=\"{ active }\">\n\t\t\t\t\t\t<Folder v-if=\"active\" :size=\"20\" />\n\t\t\t\t\t\t<FolderOutline v-else :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t</NcAppNavigationItem>\n\t\t\t\t<NcAppNavigationItem\n\t\t\t\t\tto=\"/favorites\"\n\t\t\t\t\t:name=\"t('photos', 'Favorites')\"\n\t\t\t\t\tdata-id-app-nav-item=\"favorites\">\n\t\t\t\t\t<template #icon=\"{ active }\">\n\t\t\t\t\t\t<Star v-if=\"active\" :size=\"20\" />\n\t\t\t\t\t\t<StarOutline v-else :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t</NcAppNavigationItem>\n\t\t\t\t<NcAppNavigationItem\n\t\t\t\t\t:to=\"{ name: 'thisday' }\"\n\t\t\t\t\t:name=\"t('photos', 'On this day')\"\n\t\t\t\t\tdata-id-app-nav-item=\"this-day\">\n\t\t\t\t\t<template #icon=\"{ active }\">\n\t\t\t\t\t\t<CalendarToday v-if=\"active\" :size=\"20\" />\n\t\t\t\t\t\t<CalendarTodayOutline v-else :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t</NcAppNavigationItem>\n\t\t\t\t<NcAppNavigationItem\n\t\t\t\t\t:to=\"{ name: 'shared' }\"\n\t\t\t\t\t:name=\"t('photos', 'Shared with you')\"\n\t\t\t\t\tdata-id-app-nav-item=\"shared\">\n\t\t\t\t\t<template #icon=\"{ active }\">\n\t\t\t\t\t\t<ShareVariant v-if=\"active\" :size=\"20\" />\n\t\t\t\t\t\t<ShareVariantOutline v-else :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t</NcAppNavigationItem>\n\t\t\t\t<NcAppNavigationItem\n\t\t\t\t\tv-if=\"areTagsInstalled\"\n\t\t\t\t\t:to=\"{ name: 'tags' }\"\n\t\t\t\t\t:name=\"t('photos', 'Tags')\"\n\t\t\t\t\tdata-id-app-nav-item=\"tags\">\n\t\t\t\t\t<template #icon=\"{ active }\">\n\t\t\t\t\t\t<Tag v-if=\"active\" :size=\"20\" />\n\t\t\t\t\t\t<TagOutline v-else :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t</NcAppNavigationItem>\n\t\t\t\t<NcAppNavigationItem\n\t\t\t\t\t:to=\"{ name: 'places' }\"\n\t\t\t\t\t:name=\"t('photos', 'Places')\"\n\t\t\t\t\tdata-id-app-nav-item=\"places\">\n\t\t\t\t\t<template #icon=\"{ active }\">\n\t\t\t\t\t\t<MapMarker v-if=\"active\" :size=\"20\" />\n\t\t\t\t\t\t<MapMarkerOutline v-else :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t</NcAppNavigationItem>\n\t\t\t\t<NcAppNavigationItem\n\t\t\t\t\tv-if=\"showLocationMenuEntry\"\n\t\t\t\t\t:to=\"{ name: 'maps' }\"\n\t\t\t\t\t:name=\"t('photos', 'Map')\"\n\t\t\t\t\tdata-id-app-nav-item=\"maps\">\n\t\t\t\t\t<template #icon=\"{ active }\">\n\t\t\t\t\t\t<MapIcon v-if=\"active\" :size=\"20\" />\n\t\t\t\t\t\t<MapOutline v-else :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t</NcAppNavigationItem>\n\t\t\t</template>\n\t\t\t<template #footer>\n\t\t\t\t<div class=\"app-navigation__footer\">\n\t\t\t\t\t<NcButton\n\t\t\t\t\t\ttype=\"tertiary\"\n\t\t\t\t\t\talignment=\"start\"\n\t\t\t\t\t\twide\n\t\t\t\t\t\t@click=\"showSettings\">\n\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t<CogOutline :size=\"20\" />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t{{ t('photos', 'Photos settings') }}\n\t\t\t\t\t</NcButton>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t</NcAppNavigation>\n\t\t<NcAppContent>\n\t\t\t<RouterView />\n\n\t\t\t<!-- svg img loading placeholder (linked to the File component) -->\n\t\t\t<!-- eslint-disable-next-line vue/no-v-html (because it's an SVG file) -->\n\t\t\t<span class=\"hidden-visually\" role=\"none\" v-html=\"svgplaceholder\" />\n\t\t\t<!-- eslint-disable-next-line vue/no-v-html (because it's an SVG file) -->\n\t\t\t<span class=\"hidden-visually\" role=\"none\" v-html=\"imgplaceholder\" />\n\t\t\t<!-- eslint-disable-next-line vue/no-v-html (because it's an SVG file) -->\n\t\t\t<span class=\"hidden-visually\" role=\"none\" v-html=\"videoplaceholder\" />\n\t\t</NcAppContent>\n\n\t\t<!-- Main settings Modal-->\n\t\t<SettingsDialog :open.sync=\"openedSettings\" />\n\t</NcContent>\n</template>\n\n<script lang='ts'>\nimport type { FilterOption } from './services/PhotosFilters/PhotosFilter.ts'\n\nimport { getCurrentUser } from '@nextcloud/auth'\nimport { loadState } from '@nextcloud/initial-state'\nimport { t } from '@nextcloud/l10n'\nimport { generateUrl } from '@nextcloud/router'\nimport { storeToRefs } from 'pinia'\nimport NcAppContent from '@nextcloud/vue/components/NcAppContent'\nimport NcAppNavigation from '@nextcloud/vue/components/NcAppNavigation'\nimport NcAppNavigationItem from '@nextcloud/vue/components/NcAppNavigationItem'\nimport NcButton from '@nextcloud/vue/components/NcButton'\nimport NcContent from '@nextcloud/vue/components/NcContent'\nimport AccountBoxMultiple from 'vue-material-design-icons/AccountBoxMultiple.vue'\nimport AccountBoxMultipleOutline from 'vue-material-design-icons/AccountBoxMultipleOutline.vue'\nimport AccountGroup from 'vue-material-design-icons/AccountGroup.vue'\nimport AccountGroupOutline from 'vue-material-design-icons/AccountGroupOutline.vue'\nimport CalendarToday from 'vue-material-design-icons/CalendarToday.vue'\nimport CalendarTodayOutline from 'vue-material-design-icons/CalendarTodayOutline.vue'\nimport Camera from 'vue-material-design-icons/Camera.vue'\nimport CameraOutline from 'vue-material-design-icons/CameraOutline.vue'\nimport CogOutline from 'vue-material-design-icons/CogOutline.vue'\nimport Folder from 'vue-material-design-icons/Folder.vue'\nimport FolderOutline from 'vue-material-design-icons/FolderOutline.vue'\nimport ImageIcon from 'vue-material-design-icons/Image.vue'\nimport ImageMultiple from 'vue-material-design-icons/ImageMultiple.vue'\nimport ImageMultipleOutline from 'vue-material-design-icons/ImageMultipleOutline.vue'\nimport ImageOutline from 'vue-material-design-icons/ImageOutline.vue'\nimport MapIcon from 'vue-material-design-icons/Map.vue'\nimport MapMarker from 'vue-material-design-icons/MapMarker.vue'\nimport MapMarkerOutline from 'vue-material-design-icons/MapMarkerOutline.vue'\nimport MapOutline from 'vue-material-design-icons/MapOutline.vue'\nimport ShareVariant from 'vue-material-design-icons/ShareVariant.vue'\nimport ShareVariantOutline from 'vue-material-design-icons/ShareVariantOutline.vue'\nimport Star from 'vue-material-design-icons/Star.vue'\nimport StarOutline from 'vue-material-design-icons/StarOutline.vue'\nimport Tag from 'vue-material-design-icons/Tag.vue'\nimport TagOutline from 'vue-material-design-icons/TagOutline.vue'\nimport VideoIcon from 'vue-material-design-icons/Video.vue'\nimport VideoOutline from 'vue-material-design-icons/VideoOutline.vue'\nimport PhotosFiltersDisplay from './components/PhotosFilters/PhotosFiltersDisplay.vue'\nimport PhotosFiltersInput from './components/PhotosFilters/PhotosFiltersInput.vue'\nimport SettingsDialog from './components/Settings/SettingsDialog.vue'\nimport svgplaceholder from './assets/file-placeholder.svg'\nimport imgplaceholder from './assets/image.svg'\nimport videoplaceholder from './assets/video.svg'\nimport areTagsInstalled from './services/AreTagsInstalled.ts'\nimport isAppStoreEnabled from './services/IsAppStoreEnabled.ts'\nimport isMapsInstalled from './services/IsMapsInstalled.ts'\nimport isRecognizeInstalled from './services/IsRecognizeInstalled.ts'\nimport logger from './services/logger.ts'\nimport useFilterStore from './store/filters.ts'\n\nexport default {\n\tname: 'PhotosApp',\n\tcomponents: {\n\t\tAccountBoxMultiple,\n\t\tAccountBoxMultipleOutline,\n\t\tCogOutline,\n\t\tCalendarToday,\n\t\tCalendarTodayOutline,\n\t\tCamera,\n\t\tCameraOutline,\n\t\tAccountGroup,\n\t\tAccountGroupOutline,\n\t\tFolder,\n\t\tFolderOutline,\n\t\tImageMultiple,\n\t\tImageMultipleOutline,\n\t\tImageIcon,\n\t\tImageOutline,\n\t\tShareVariant,\n\t\tShareVariantOutline,\n\t\tStar,\n\t\tStarOutline,\n\t\tTag,\n\t\tTagOutline,\n\t\tVideoIcon,\n\t\tVideoOutline,\n\t\tMapIcon,\n\t\tMapOutline,\n\t\tMapMarker,\n\t\tMapMarkerOutline,\n\t\tNcAppContent,\n\t\tNcAppNavigation,\n\t\tNcAppNavigationItem,\n\t\tNcButton,\n\t\tNcContent,\n\t\tSettingsDialog,\n\t\tPhotosFiltersInput,\n\t\tPhotosFiltersDisplay,\n\t},\n\n\tsetup() {\n\t\tconst filtersStore = useFilterStore()\n\t\tconst { selectedFilters } = storeToRefs(filtersStore)\n\n\t\treturn {\n\t\t\tselectedFilters,\n\t\t}\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\tsvgplaceholder,\n\t\t\timgplaceholder,\n\t\t\tvideoplaceholder,\n\t\t\tareTagsInstalled,\n\n\t\t\tshowLocationMenuEntry: getCurrentUser() === null\n\t\t\t\t? false\n\t\t\t\t: (getCurrentUser().isAdmin && isAppStoreEnabled) || isMapsInstalled,\n\n\t\t\tshowPeopleMenuEntry: getCurrentUser() === null\n\t\t\t\t? false\n\t\t\t\t: (getCurrentUser().isAdmin && loadState('photos', 'showPeopleMenuEntry', true) && isAppStoreEnabled) || isRecognizeInstalled,\n\n\t\t\topenedSettings: false,\n\t\t}\n\t},\n\n\tcomputed: {\n\t\tisTimelineView() {\n\t\t\treturn ['all_media', 'photos', 'videos'].includes(this.$store.state.route.name || '')\n\t\t},\n\t},\n\n\tasync beforeMount() {\n\t\t// Register excluded paths\n\t\tconst files = loadState('photos', 'nomedia-paths', [])\n\t\tthis.$store.dispatch('setNomediaPaths', files)\n\t\tlogger.debug('Known .nomedia and .noimage  paths', { files })\n\n\t\tif ('serviceWorker' in navigator) {\n\t\t\t// Use the window load event to keep the page load performant\n\t\t\twindow.addEventListener('load', () => {\n\t\t\t\tnavigator.serviceWorker.register(generateUrl('/apps/photos/service-worker.js', {}, {\n\t\t\t\t\tnoRewrite: true,\n\t\t\t\t}), {\n\t\t\t\t\tscope: generateUrl('/apps/photos'),\n\t\t\t\t}).then((registration) => {\n\t\t\t\t\tlogger.debug('SW registered: ', { registration })\n\t\t\t\t}).catch((registrationError) => {\n\t\t\t\t\tlogger.error('SW registration failed: ', { registrationError })\n\t\t\t\t})\n\t\t\t})\n\t\t} else {\n\t\t\tlogger.debug('Service Worker is not enabled on this browser.')\n\t\t}\n\t},\n\n\tbeforeDestroy() {\n\t\twindow.removeEventListener('load', () => {\n\t\t\tnavigator.serviceWorker.register(generateUrl('/apps/photos/service-worker.js', {}, {\n\t\t\t\tnoRewrite: true,\n\t\t\t}))\n\t\t})\n\t},\n\n\tmethods: {\n\t\tshowSettings() {\n\t\t\tthis.openedSettings = true\n\t\t},\n\n\t\tselectFilter(filterOption: FilterOption<unknown>) {\n\t\t\tthis.selectedFilters[filterOption.filterId].push(filterOption.value)\n\t\t},\n\n\t\tdeselectFilter(filterOption: { filterId: string, value: unknown }) {\n\t\t\tconst index = this.selectedFilters[filterOption.filterId].indexOf(filterOption.value)\n\n\t\t\tif (index !== -1) {\n\t\t\t\tthis.selectedFilters[filterOption.filterId].splice(index, 1)\n\t\t\t}\n\t\t},\n\n\t\tt,\n\t},\n}\n</script>\n\n<style lang=\"scss\">\n.app-content {\n\tdisplay: flex;\n\tflex-grow: 1;\n\tflex-direction: column;\n\talign-content: space-between;\n}\n\n.app-navigation__photos :deep(.app-navigation-entry-icon.icon-photos) {\n\tbackground-size: 20px;\n}\n\n.app-navigation__footer {\n\tpadding: calc(var(--default-grid-baseline) * 2);\n}\n</style>\n","/**\n * SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport { registerDavProperty } from '@nextcloud/files/dav'\nimport { translate, translatePlural } from '@nextcloud/l10n'\nimport { createPinia, PiniaVuePlugin } from 'pinia'\nimport Vue from 'vue'\nimport { sync } from 'vuex-router-sync'\nimport PhotosApp from './PhotosApp.vue'\nimport router from './router/index.js'\nimport store from './store/index.js'\n\nsync(store, router)\n\nVue.prototype.t = translate\nVue.prototype.n = translatePlural\n\nregisterDavProperty('nc:metadata-photos-size')\nregisterDavProperty('nc:metadata-files-live-photo')\nregisterDavProperty('nc:metadata-blurhash')\nregisterDavProperty('nc:metadata-photos-original_date_time')\n\nVue.use(PiniaVuePlugin)\n\nexport default new Vue({\n\tel: '#content',\n\tname: 'PhotosRoot',\n\trouter,\n\tstore,\n\tpinia: createPinia(),\n\trender: (h) => h(PhotosApp),\n})\n"],"names":["_sfc_main","_sfc_render","_sfc_staticRenderFns","__component__","render","t","logger","ImageOutline","areTagsInstalled","isAppStoreEnabled","isMapsInstalled","isRecognizeInstalled","generateUrl","sync","store"],"mappings":"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","x_google_ignoreList":[0,1,2]}
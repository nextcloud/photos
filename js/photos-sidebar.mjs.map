{"version":3,"mappings":";sIAAA,MAAeA,EAAA,sTCSfC,EAAI,UAAU,EAAIC,EAClBD,EAAI,UAAU,EAAIE,EAElBC,EAAoB,yBAAyB,EAC7CA,EAAoB,yBAAyB,EAC7CA,EAAoB,wBAAwB,EAC5CA,EAAoB,0BAA0B,EAG9C,IAAIC,EAAgB,KAChBC,EAAoB,KACxB,MAAMC,EAAY,IAAI,IAAI,MAAM,QAAQ,IAAI,CAC3C,GAAI,SACJ,KAAML,EAAE,SAAU,SAAS,EAC3B,QAASF,EAET,MAAM,MAAMQ,EAAIC,EAAUC,EAAS,CAElC,GAAIL,IAAkB,KAAM,CAC3B,KAAM,CAAE,QAASM,CAAA,EAAc,MAAMC,EAAA,wBAAAD,CAAA,eAAO,gCAAuB,iBAAAA,CAAA,iDACnDN,KAAiBJ,EAAI,OAAOU,CAAS,EAGlDL,GACHA,EAAkB,SAAS,EAE5BA,EAAoB,IAAID,EAAc,CAErC,OAAQK,CAAA,CACR,EAEDJ,EAAkB,OAAOG,CAAQ,EACjCH,EAAkB,OAAOE,CAAE,CAC5B,EACA,OAAOC,EAAU,CAChBH,EAAkB,OAAOG,CAAQ,CAClC,EACA,SAAU,CACTH,EAAkB,SAAS,EACPA,EAAA,KAEtB,CAAC,EAED,OAAO,iBAAiB,mBAAoB,gBAAiB,CAC5D,GAAI,IAAI,OAAS,IAAI,MAAM,QAAS,CACnC,OAAO,IAAI,MAAM,QAAQ,YAAYC,CAAS,EAC9C,KAAM,CAAE,QAASI,CAAU,EAAI,gDAAwC,gCAAuB,iBAAAA,CAAA,iDAC9EN,KAAiBJ,EAAI,OAAOU,CAAS,EAEvD,CAAC","names":["InformationOutline","Vue","t","n","registerDavProperty","PhotosTabView","PhotosTabInstance","photosTab","el","fileInfo","context","PhotosTab","__vitePreload"],"ignoreList":[0],"sources":["../node_modules/@mdi/svg/svg/information-outline.svg?raw","../src/sidebar.ts"],"sourcesContent":["export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"mdi-information-outline\\\" viewBox=\\\"0 0 24 24\\\"><path d=\\\"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M11,17H13V11H11V17Z\\\" /></svg>\"","import InformationOutline from '@mdi/svg/svg/information-outline.svg?raw'\nimport { registerDavProperty } from '@nextcloud/files/dav'\nimport { translatePlural as n, translate as t } from '@nextcloud/l10n'\n/**\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport Vue from 'vue'\n\nVue.prototype.t = t\nVue.prototype.n = n\n\nregisterDavProperty('nc:metadata-photos-exif')\nregisterDavProperty('nc:metadata-photos-ifd0')\nregisterDavProperty('nc:metadata-photos-gps')\nregisterDavProperty('nc:metadata-photos-place')\n\n// Init Photos tab component\nlet PhotosTabView = null\nlet PhotosTabInstance = null\nconst photosTab = new OCA.Files.Sidebar.Tab({\n\tid: 'photos',\n\tname: t('photos', 'Details'),\n\ticonSvg: InformationOutline,\n\n\tasync mount(el, fileInfo, context) {\n\t\t// only load if needed\n\t\tif (PhotosTabView === null) {\n\t\t\tconst { default: PhotosTab } = await import('./views/PhotosTab.vue')\n\t\t\tPhotosTabView = PhotosTabView ?? Vue.extend(PhotosTab)\n\t\t}\n\t\t// destroy previous instance if available\n\t\tif (PhotosTabInstance) {\n\t\t\tPhotosTabInstance.$destroy()\n\t\t}\n\t\tPhotosTabInstance = new PhotosTabView({\n\t\t\t// Better integration with vue parent component\n\t\t\tparent: context,\n\t\t})\n\t\t// No need to await this, we will show a loading indicator instead\n\t\tPhotosTabInstance.update(fileInfo)\n\t\tPhotosTabInstance.$mount(el)\n\t},\n\tupdate(fileInfo) {\n\t\tPhotosTabInstance.update(fileInfo)\n\t},\n\tdestroy() {\n\t\tPhotosTabInstance.$destroy()\n\t\tPhotosTabInstance = null\n\t},\n})\n\nwindow.addEventListener('DOMContentLoaded', async function() {\n\tif (OCA.Files && OCA.Files.Sidebar) {\n\t\twindow.OCA.Files.Sidebar.registerTab(photosTab)\n\t\tconst { default: PhotosTab } = await import(/* webpackPreload: true */ './views/PhotosTab.vue')\n\t\tPhotosTabView = PhotosTabView ?? Vue.extend(PhotosTab)\n\t}\n})\n"],"file":"js/photos-sidebar.mjs"}
{"version":3,"file":"photos-src_components_Albums_AlbumForm_vue.js?v=d3e29fd63c5ba7fbdc67","mappings":"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","sources":["webpack:///photos/src/components/Albums/CollaboratorsSelectionForm.vue?vue&type=style&index=0&id=a392a178&prod&lang=scss&scoped=true","webpack:///photos/src/mixins/FetchCollectionContentMixin.js","webpack://photos/./src/components/Albums/CollaboratorsSelectionForm.vue?b438","webpack:///photos/src/components/Albums/CollaboratorsSelectionForm.vue","webpack:///photos/src/components/Albums/CollaboratorsSelectionForm.vue?vue&type=script&lang=js","webpack://photos/./src/components/Albums/CollaboratorsSelectionForm.vue?4eb9","webpack://photos/./src/components/Albums/CollaboratorsSelectionForm.vue?e975","webpack://photos/./src/components/Albums/AlbumForm.vue?4bcd","webpack:///photos/src/components/Albums/AlbumForm.vue","webpack:///photos/src/components/Albums/AlbumForm.vue?vue&type=script&lang=js","webpack://photos/./src/components/Albums/AlbumForm.vue?2f58","webpack://photos/./src/components/Albums/AlbumForm.vue?8dc6","webpack:///photos/src/components/Albums/AlbumForm.vue?vue&type=style&index=0&id=2e6bf1a2&prod&lang=scss&scoped=true"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.manage-collaborators[data-v-a392a178]{display:flex;flex-direction:column;padding:20px;height:500px}.manage-collaborators__title[data-v-a392a178]{font-weight:bold}.manage-collaborators__subtitle[data-v-a392a178]{color:var(--color-text-lighter)}.manage-collaborators__public-link-button[data-v-a392a178]{margin:4px 0}.manage-collaborators__form[data-v-a392a178]{margin-top:4px 0;display:flex;flex-direction:column}.manage-collaborators__form__input[data-v-a392a178]{position:relative;display:block}.manage-collaborators__form__input input[data-v-a392a178]{width:100%;padding-left:34px}.manage-collaborators__form__input .loading-icon[data-v-a392a178]{position:absolute;top:8px;right:8px}.manage-collaborators__form__list[data-v-a392a178]{padding:8px;height:350px;overflow:scroll}.manage-collaborators__form__list__result[data-v-a392a178]{padding:8px;border-radius:100px;box-sizing:border-box}.manage-collaborators__form__list__result[data-v-a392a178],.manage-collaborators__form__list__result *[data-v-a392a178]{cursor:pointer !important}.manage-collaborators__form__list__result[data-v-a392a178]:hover{background:var(--color-background-dark)}.manage-collaborators__form__list--empty[data-v-a392a178]{margin:100px 0}.manage-collaborators__selection[data-v-a392a178]{display:flex;flex-direction:column;margin-top:32px;flex-grow:1}.manage-collaborators__selection__item[data-v-a392a178]{border-radius:var(--border-radius-pill);padding:0 8px}.manage-collaborators__selection__item[data-v-a392a178]:hover{background:var(--color-background-dark)}.manage-collaborators__selection__item[data-v-a392a178] .option{gap:4px}.manage-collaborators .actions[data-v-a392a178]{display:flex;margin-top:8px}.manage-collaborators .actions__public-link[data-v-a392a178]{display:flex;align-items:center}.manage-collaborators .actions__public-link button[data-v-a392a178]{margin-left:8px}.manage-collaborators .actions__slot[data-v-a392a178]{flex-grow:1;display:flex;justify-content:flex-end;align-items:center}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/Albums/CollaboratorsSelectionForm.vue\"],\"names\":[],\"mappings\":\"AAEA,uCACC,YAAA,CACA,qBAAA,CACA,YAAA,CACA,YAAA,CAEA,8CACC,gBAAA,CAGD,iDACC,+BAAA,CAGD,2DACC,YAAA,CAGD,6CACC,gBAAA,CACA,YAAA,CACA,qBAAA,CAEA,oDACC,iBAAA,CACA,aAAA,CAEA,0DACC,UAAA,CACA,iBAAA,CAGD,kEACC,iBAAA,CACA,OAAA,CACA,SAAA,CAIF,mDACC,WAAA,CACA,YAAA,CACA,eAAA,CAEA,2DACC,WAAA,CACA,mBAAA,CACA,qBAAA,CAEA,wHACC,yBAAA,CAGD,iEACC,uCAAA,CAIF,0DACC,cAAA,CAKH,kDACC,YAAA,CACA,qBAAA,CACA,eAAA,CACA,WAAA,CAEA,wDACC,uCAAA,CACA,aAAA,CAEA,8DACC,uCAAA,CAGD,gEACC,OAAA,CAKH,gDACC,YAAA,CACA,cAAA,CAEA,6DACC,YAAA,CACA,kBAAA,CAEA,oEACC,eAAA,CAIF,sDACC,WAAA,CACA,YAAA,CACA,wBAAA,CACA,kBAAA\",\"sourcesContent\":[\"$sizes: (\\\"400\\\": (\\\"count\\\": 3, \\\"marginTop\\\": 66, \\\"marginW\\\": 8), \\\"700\\\": (\\\"count\\\": 4, \\\"marginTop\\\": 66, \\\"marginW\\\": 8), \\\"1024\\\": (\\\"count\\\": 5, \\\"marginTop\\\": 66, \\\"marginW\\\": 44), \\\"1280\\\": (\\\"count\\\": 4, \\\"marginTop\\\": 66, \\\"marginW\\\": 44), \\\"1440\\\": (\\\"count\\\": 5, \\\"marginTop\\\": 88, \\\"marginW\\\": 66), \\\"1600\\\": (\\\"count\\\": 6, \\\"marginTop\\\": 88, \\\"marginW\\\": 66), \\\"2048\\\": (\\\"count\\\": 7, \\\"marginTop\\\": 88, \\\"marginW\\\": 66), \\\"2560\\\": (\\\"count\\\": 8, \\\"marginTop\\\": 88, \\\"marginW\\\": 88), \\\"3440\\\": (\\\"count\\\": 9, \\\"marginTop\\\": 88, \\\"marginW\\\": 88), \\\"max\\\": (\\\"count\\\": 10, \\\"marginTop\\\": 88, \\\"marginW\\\": 88));\\n\\n.manage-collaborators {\\n\\tdisplay: flex;\\n\\tflex-direction: column;\\n\\tpadding: 20px;\\n\\theight: 500px;\\n\\n\\t&__title {\\n\\t\\tfont-weight: bold;\\n\\t}\\n\\n\\t&__subtitle {\\n\\t\\tcolor: var(--color-text-lighter);\\n\\t}\\n\\n\\t&__public-link-button {\\n\\t\\tmargin: 4px 0;\\n\\t}\\n\\n\\t&__form {\\n\\t\\tmargin-top: 4px 0;\\n\\t\\tdisplay: flex;\\n\\t\\tflex-direction: column;\\n\\n\\t\\t&__input {\\n\\t\\t\\tposition: relative;\\n\\t\\t\\tdisplay: block;\\n\\n\\t\\t\\tinput {\\n\\t\\t\\t\\twidth: 100%;\\n\\t\\t\\t\\tpadding-left: 34px;\\n\\t\\t\\t}\\n\\n\\t\\t\\t.loading-icon {\\n\\t\\t\\t\\tposition: absolute;\\n\\t\\t\\t\\ttop: calc(36px / 2 - 20px / 2);\\n\\t\\t\\t\\tright: 8px;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t&__list {\\n\\t\\t\\tpadding: 8px;\\n\\t\\t\\theight: 350px;\\n\\t\\t\\toverflow: scroll;\\n\\n\\t\\t\\t&__result {\\n\\t\\t\\t\\tpadding: 8px;\\n\\t\\t\\t\\tborder-radius: 100px;\\n\\t\\t\\t\\tbox-sizing: border-box;\\n\\n\\t\\t\\t\\t&, & * {\\n\\t\\t\\t\\t\\tcursor: pointer !important;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t&:hover {\\n\\t\\t\\t\\t\\tbackground: var(--color-background-dark);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t&--empty {\\n\\t\\t\\t\\tmargin: 100px 0;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\t&__selection {\\n\\t\\tdisplay: flex;\\n\\t\\tflex-direction: column;\\n\\t\\tmargin-top: 32px;\\n\\t\\tflex-grow: 1;\\n\\n\\t\\t&__item {\\n\\t\\t\\tborder-radius: var(--border-radius-pill);\\n\\t\\t\\tpadding:  0 8px;\\n\\n\\t\\t\\t&:hover {\\n\\t\\t\\t\\tbackground: var(--color-background-dark);\\n\\t\\t\\t}\\n\\n\\t\\t\\t:deep(.option) {\\n\\t\\t\\t\\tgap: 4px;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\t.actions {\\n\\t\\tdisplay: flex;\\n\\t\\tmargin-top: 8px;\\n\\n\\t\\t&__public-link {\\n\\t\\t\\tdisplay: flex;\\n\\t\\t\\talign-items: center;\\n\\n\\t\\t\\tbutton {\\n\\t\\t\\t\\tmargin-left: 8px;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t&__slot {\\n\\t\\t\\tflex-grow: 1;\\n\\t\\t\\tdisplay: flex;\\n\\t\\t\\tjustify-content: flex-end;\\n\\t\\t\\talign-items: center;\\n\\t\\t}\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","/**\n * @copyright Copyright (c) 2022 Louis Chemineau <louis@chmn.me>\n *\n * @author Louis Chemineau <louis@chmn.me>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport { mapActions } from 'vuex'\n\nimport { showError } from '@nextcloud/dialogs'\n\nimport AbortControllerMixin from './AbortControllerMixin.js'\nimport { fetchCollection, fetchCollectionFiles } from '../services/collectionFetcher.js'\nimport logger from '../services/logger.js'\nimport SemaphoreWithPriority from '../utils/semaphoreWithPriority.js'\n\nexport default {\n\tname: 'FetchCollectionContentMixin',\n\n\tdata() {\n\t\treturn {\n\t\t\tfetchSemaphore: new SemaphoreWithPriority(1),\n\t\t\tloadingCollection: false,\n\t\t\tloadingCollectionFiles: false,\n\t\t\terrorFetchingCollection: null,\n\t\t\terrorFetchingCollectionFiles: null,\n\t\t}\n\t},\n\n\tmixins: [\n\t\tAbortControllerMixin,\n\t],\n\n\tmethods: {\n\t\t...mapActions([\n\t\t\t'appendFiles',\n\t\t\t'addCollections',\n\t\t\t'setCollectionFiles',\n\t\t]),\n\t\t/**\n\t\t * @param {string} collectionFileName\n\t\t * @param {string[]} [extraProps] - Extra properties to add to the DAV request.\n\t\t * @param {import('webdav').WebDAVClient} [client] - The DAV client to use.\n\t\t * @return {Promise<import('../services/collectionFetcher.js').Collection|null>}\n\t\t */\n\t\tasync fetchCollection(collectionFileName, extraProps, client) {\n\t\t\tif (this.loadingCollection) {\n\t\t\t\treturn null\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tthis.loadingCollection = true\n\t\t\t\tthis.errorFetchingCollection = null\n\n\t\t\t\tconst collection = await fetchCollection(collectionFileName, { signal: this.abortController.signal }, extraProps, client)\n\t\t\t\tthis.addCollections({ collections: [collection] })\n\t\t\t\treturn collection\n\t\t\t} catch (error) {\n\t\t\t\tif (error.response?.status === 404) {\n\t\t\t\t\tthis.errorFetchingCollection = 404\n\t\t\t\t\treturn null\n\t\t\t\t}\n\n\t\t\t\tthis.errorFetchingCollection = error\n\t\t\t\tlogger.error('[PublicCollectionContent] Error fetching collection', { error })\n\t\t\t\tshowError(this.t('photos', 'Failed to fetch collection.'))\n\t\t\t} finally {\n\t\t\t\tthis.loadingCollection = false\n\t\t\t}\n\n\t\t\treturn null\n\t\t},\n\n\t\t/**\n\t\t * @param {string} collectionFileName\n\t\t * @param {string[]} [extraProps] - Extra properties to add to the DAV request.\n\t\t * @param {import('webdav').WebDAVClient} [client] - The DAV client to use.\n\t\t * @param {((value: import('../services/collectionFetcher.js').CollectionFile, index: number, array: import('../services/collectionFetcher.js').CollectionFile[]) => any)[]} [mappers] - Callback that can transform files before they are appended.\n\t\t * @return {Promise<import('../services/collectionFetcher.js').CollectionFile[]>}\n\t\t */\n\t\tasync fetchCollectionFiles(collectionFileName, extraProps, client, mappers = []) {\n\t\t\tif (this.loadingCollectionFiles) {\n\t\t\t\treturn []\n\t\t\t}\n\n\t\t\tconst fetchSemaphoreSymbol = await this.fetchSemaphore.acquire()\n\n\t\t\ttry {\n\t\t\t\tthis.errorFetchingCollectionFiles = null\n\t\t\t\tthis.loadingCollectionFiles = true\n\n\t\t\t\tlet fetchedFiles = await fetchCollectionFiles(collectionFileName, { signal: this.abortController.signal }, extraProps, client)\n\t\t\t\tconst fileIds = fetchedFiles.map(file => file.fileid.toString())\n\n\t\t\t\tmappers.forEach(mapper => (fetchedFiles = fetchedFiles.map(mapper)))\n\n\t\t\t\tthis.appendFiles(fetchedFiles)\n\n\t\t\t\tif (fetchedFiles.length > 0) {\n\t\t\t\t\tawait this.$store.commit('setCollectionFiles', { collectionFileName, fileIds })\n\t\t\t\t}\n\n\t\t\t\treturn fetchedFiles\n\t\t\t} catch (error) {\n\t\t\t\tif (error.response?.status === 404) {\n\t\t\t\t\tthis.errorFetchingCollectionFiles = 404\n\t\t\t\t\treturn []\n\t\t\t\t}\n\n\t\t\t\tthis.errorFetchingCollectionFiles = error\n\n\t\t\t\tshowError(this.t('photos', 'Failed to fetch collections list.'))\n\t\t\t\tlogger.error('[PublicCollectionContent] Error fetching collection files', { error })\n\t\t\t} finally {\n\t\t\t\tthis.loadingCollectionFiles = false\n\t\t\t\tthis.fetchSemaphore.release(fetchSemaphoreSymbol)\n\t\t\t}\n\n\t\t\treturn []\n\t\t},\n\t},\n}\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"manage-collaborators\"},[_c('h2',{staticClass:\"manage-collaborators__title\"},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('photos', 'Add collaborators'))+\"\\n\\t\")]),_vm._v(\" \"),_c('label',{staticClass:\"manage-collaborators__subtitle\",attrs:{\"for\":\"sharing-search-input\"}},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('photos', 'Add people or groups who can edit your album'))+\"\\n\\t\")]),_vm._v(\" \"),_c('form',{staticClass:\"manage-collaborators__form\",on:{\"submit\":function($event){$event.preventDefault();}}},[_c('NcSelect',{attrs:{\"input-id\":\"sharing-search-input\",\"loading\":_vm.loadingCollaborators,\"label\":\"label\",\"filterable\":false,\"placeholder\":_vm.t('photos', 'Search people or groups'),\"clear-search-on-blur\":() => false,\"user-select\":true,\"append-to-body\":false,\"options\":_vm.searchResults},on:{\"search\":_vm.searchCollaborators,\"option:selected\":({key}) => _vm.selectEntity(key)},model:{value:(_vm.searchText),callback:function ($$v) {_vm.searchText=$$v},expression:\"searchText\"}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('photos', 'No recommendations. Start typing.'))+\"\\n\\t\\t\")])],1),_vm._v(\" \"),_c('ul',{staticClass:\"manage-collaborators__selection\"},_vm._l((_vm.listableSelectedCollaboratorsKeys),function(collaboratorKey){return _c('li',{key:collaboratorKey,staticClass:\"manage-collaborators__selection__item\"},[_c('NcListItemIcon',{attrs:{\"id\":_vm.availableCollaborators[collaboratorKey].id,\"display-name\":_vm.availableCollaborators[collaboratorKey].label,\"name\":_vm.availableCollaborators[collaboratorKey].label,\"user\":_vm.availableCollaborators[collaboratorKey].id,\"is-no-user\":_vm.availableCollaborators[collaboratorKey].type !== _vm.collaboratorTypes.SHARE_TYPE_USER}},[(_vm.availableCollaborators[collaboratorKey].type === _vm.collaboratorTypes.SHARE_TYPE_GROUP)?_c('AccountGroup',{attrs:{\"title\":_vm.t('photos', 'Group')}}):_vm._e(),_vm._v(\" \"),_c('NcButton',{attrs:{\"type\":\"tertiary\",\"aria-label\":_vm.t('photos', 'Remove {collaboratorLabel} from the collaborators list', {collaboratorLabel: _vm.availableCollaborators[collaboratorKey].label})},on:{\"click\":function($event){return _vm.unselectEntity(collaboratorKey)}}},[_c('Close',{attrs:{\"slot\":\"icon\",\"size\":20},slot:\"icon\"})],1)],1)],1)}),0),_vm._v(\" \"),_c('div',{staticClass:\"actions\"},[(_vm.allowPublicLink)?_c('div',{staticClass:\"actions__public-link\"},[(_vm.isPublicLinkSelected && _vm.publicLink.id !== '')?[_c('NcButton',{staticClass:\"manage-collaborators__public-link-button\",attrs:{\"aria-label\":_vm.t('photos', 'Copy the public link'),\"title\":_vm.publicLinkURL},on:{\"click\":_vm.copyPublicLink},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [(_vm.publicLinkCopied)?_c('Check'):_c('ContentCopy')]},proxy:true}],null,false,845538853)},[(_vm.publicLinkCopied)?[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('photos', 'Public link copied!'))+\"\\n\\t\\t\\t\\t\\t\")]:[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('photos', 'Copy public link'))+\"\\n\\t\\t\\t\\t\\t\")]],2),_vm._v(\" \"),_c('NcButton',{attrs:{\"type\":\"tertiary\",\"aria-label\":_vm.t('photos', 'Delete the public link')},on:{\"click\":_vm.deletePublicLink}},[_c('Close',{attrs:{\"slot\":\"icon\"},slot:\"icon\"})],1)]:_c('NcButton',{staticClass:\"manage-collaborators__public-link-button\",attrs:{\"disabled\":_vm.isPublicLinkSelected && _vm.publicLink.id === '',\"aria-label\":_vm.t('photos', 'Create public link share')},on:{\"click\":_vm.createPublicLinkForAlbum}},[_c('Earth',{attrs:{\"slot\":\"icon\"},slot:\"icon\"}),_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('photos', 'Share via public link'))+\"\\n\\t\\t\\t\")],1)],2):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"actions__slot\"},[_vm._t(\"default\",null,{\"collaborators\":_vm.selectedCollaborators})],2)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n - @copyright Copyright (c) 2022 Louis Chemineau <louis@chmn.me>\n -\n - @author Louis Chemineau <louis@chmn.me>\n -\n - @license AGPL-3.0-or-later\n -\n - This program is free software: you can redistribute it and/or modify\n - it under the terms of the GNU Affero General Public License as\n - published by the Free Software Foundation, either version 3 of the\n - License, or (at your option) any later version.\n -\n - This program is distributed in the hope that it will be useful,\n - but WITHOUT ANY WARRANTY; without even the implied warranty of\n - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n - GNU Affero General Public License for more details.\n -\n - You should have received a copy of the GNU Affero General Public License\n - along with this program. If not, see <http://www.gnu.org/licenses/>.\n -\n -->\n<template>\n\t<div class=\"manage-collaborators\">\n\t\t<h2 class=\"manage-collaborators__title\">\n\t\t\t{{ t('photos', 'Add collaborators') }}\n\t\t</h2>\n\n\t\t<label class=\"manage-collaborators__subtitle\" for=\"sharing-search-input\">\n\t\t\t{{ t('photos', 'Add people or groups who can edit your album') }}\n\t\t</label>\n\t\t<form class=\"manage-collaborators__form\" @submit.prevent>\n\t\t\t<NcSelect v-model=\"searchText\"\n\t\t\t\tinput-id=\"sharing-search-input\"\n\t\t\t\t:loading=\"loadingCollaborators\"\n\t\t\t\tlabel=\"label\"\n\t\t\t\t:filterable=\"false\"\n\t\t\t\t:placeholder=\"t('photos', 'Search people or groups')\"\n\t\t\t\t:clear-search-on-blur=\"() => false\"\n\t\t\t\t:user-select=\"true\"\n\t\t\t\t:append-to-body=\"false\"\n\t\t\t\t:options=\"searchResults\"\n\t\t\t\t@search=\"searchCollaborators\"\n\t\t\t\t@option:selected=\"({key}) => selectEntity(key)\">\n\t\t\t\t{{ t('photos', 'No recommendations. Start typing.') }}\n\t\t\t</NcSelect>\n\t\t</form>\n\n\t\t<ul class=\"manage-collaborators__selection\">\n\t\t\t<li v-for=\"collaboratorKey of listableSelectedCollaboratorsKeys\"\n\t\t\t\t:key=\"collaboratorKey\"\n\t\t\t\tclass=\"manage-collaborators__selection__item\">\n\t\t\t\t<NcListItemIcon :id=\"availableCollaborators[collaboratorKey].id\"\n\t\t\t\t\t:display-name=\"availableCollaborators[collaboratorKey].label\"\n\t\t\t\t\t:name=\"availableCollaborators[collaboratorKey].label\"\n\t\t\t\t\t:user=\"availableCollaborators[collaboratorKey].id\"\n\t\t\t\t\t:is-no-user=\"availableCollaborators[collaboratorKey].type !== collaboratorTypes.SHARE_TYPE_USER\">\n\t\t\t\t\t<AccountGroup v-if=\"availableCollaborators[collaboratorKey].type === collaboratorTypes.SHARE_TYPE_GROUP\" :title=\"t('photos', 'Group')\" />\n\t\t\t\t\t<NcButton type=\"tertiary\"\n\t\t\t\t\t\t:aria-label=\"t('photos', 'Remove {collaboratorLabel} from the collaborators list', {collaboratorLabel: availableCollaborators[collaboratorKey].label})\"\n\t\t\t\t\t\t@click=\"unselectEntity(collaboratorKey)\">\n\t\t\t\t\t\t<Close slot=\"icon\" :size=\"20\" />\n\t\t\t\t\t</NcButton>\n\t\t\t\t</NcListItemIcon>\n\t\t\t</li>\n\t\t</ul>\n\n\t\t<div class=\"actions\">\n\t\t\t<div v-if=\"allowPublicLink\" class=\"actions__public-link\">\n\t\t\t\t<template v-if=\"isPublicLinkSelected && publicLink.id !== ''\">\n\t\t\t\t\t<NcButton class=\"manage-collaborators__public-link-button\"\n\t\t\t\t\t\t:aria-label=\"t('photos', 'Copy the public link')\"\n\t\t\t\t\t\t:title=\"publicLinkURL\"\n\t\t\t\t\t\t@click=\"copyPublicLink\">\n\t\t\t\t\t\t<template v-if=\"publicLinkCopied\">\n\t\t\t\t\t\t\t{{ t('photos', 'Public link copied!') }}\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<template v-else>\n\t\t\t\t\t\t\t{{ t('photos', 'Copy public link') }}\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t<Check v-if=\"publicLinkCopied\" />\n\t\t\t\t\t\t\t<ContentCopy v-else />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</NcButton>\n\t\t\t\t\t<NcButton type=\"tertiary\"\n\t\t\t\t\t\t:aria-label=\"t('photos', 'Delete the public link')\"\n\t\t\t\t\t\t@click=\"deletePublicLink\">\n\t\t\t\t\t\t<Close slot=\"icon\" />\n\t\t\t\t\t</NcButton>\n\t\t\t\t</template>\n\t\t\t\t<NcButton v-else\n\t\t\t\t\t:disabled=\"isPublicLinkSelected && publicLink.id === ''\"\n\t\t\t\t\t:aria-label=\"t('photos', 'Create public link share')\"\n\t\t\t\t\tclass=\"manage-collaborators__public-link-button\"\n\t\t\t\t\t@click=\"createPublicLinkForAlbum\">\n\t\t\t\t\t<Earth slot=\"icon\" />\n\t\t\t\t\t{{ t('photos', 'Share via public link') }}\n\t\t\t\t</NcButton>\n\t\t\t</div>\n\n\t\t\t<div class=\"actions__slot\">\n\t\t\t\t<slot :collaborators=\"selectedCollaborators\" />\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n<script>\nimport { mapActions } from 'vuex'\n\nimport Close from 'vue-material-design-icons/Close.vue'\nimport Check from 'vue-material-design-icons/Check.vue'\nimport ContentCopy from 'vue-material-design-icons/ContentCopy.vue'\nimport AccountGroup from 'vue-material-design-icons/AccountGroup.vue'\nimport Earth from 'vue-material-design-icons/Earth.vue'\nimport AccountGroupSvg from '@mdi/svg/svg/account-group.svg'\n\nimport axios from '@nextcloud/axios'\nimport { showError } from '@nextcloud/dialogs'\nimport { getCurrentUser } from '@nextcloud/auth'\nimport { generateOcsUrl, generateUrl } from '@nextcloud/router'\nimport { NcButton, NcListItemIcon, NcSelect } from '@nextcloud/vue'\nimport { Type } from '@nextcloud/sharing'\nimport { translate } from '@nextcloud/l10n'\n\nimport logger from '../../services/logger.js'\nimport FetchCollectionContentMixin from '../../mixins/FetchCollectionContentMixin.js'\n\n/**\n * @typedef {object} Collaborator\n * @property {string} id - The id of the collaborator.\n * @property {string} label - The label of the collaborator for display.\n * @property {Type.SHARE_TYPE_USER|Type.SHARE_TYPE_GROUP|Type.SHARE_TYPE_LINK} type - The type of the collaborator.\n */\n\n/**\n * @typedef {Collaborator} SearchResult\n * @property {string} key\n * @property {string} displayName - The label of the collaborator for display.\n * @property {Element} [iconSvg] - An icon to differentiate the collaborator type.\n */\n\nexport default {\n\tname: 'CollaboratorsSelectionForm',\n\n\tcomponents: {\n\t\tClose,\n\t\tAccountGroup,\n\t\tContentCopy,\n\t\tCheck,\n\t\tEarth,\n\t\tNcButton,\n\t\tNcListItemIcon,\n\t\tNcSelect,\n\t},\n\n\tmixins: [FetchCollectionContentMixin],\n\n\tprops: {\n\t\talbumName: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\n\t\t/** @type {import('vue').PropType<import('../../store/albums.js').Collaborator[]>} */\n\t\tcollaborators: {\n\t\t\ttype: Array,\n\t\t\tdefault: () => [],\n\t\t},\n\n\t\tallowPublicLink: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\tsearchText: null,\n\t\t\t/** @type {import('../../store/albums.js').IndexedCollaborators} */\n\t\t\tavailableCollaborators: {},\n\t\t\t/** @type {string[]} */\n\t\t\tselectedCollaboratorsKeys: [],\n\t\t\t/** @type {import('../../store/albums.js').Collaborator[]} */\n\t\t\tcurrentSearchResults: [],\n\t\t\tloadingCollaborators: false,\n\t\t\trandomId: Math.random().toString().substring(2, 10),\n\t\t\tpublicLinkCopied: false,\n\t\t\tcollaboratorTypes: Type,\n\t\t\tconfig: {\n\t\t\t\tminSearchStringLength: parseInt(OC.config['sharing.minSearchStringLength'], 10) || 0,\n\t\t\t},\n\t\t}\n\t},\n\n\tcomputed: {\n\t\t/**\n\t\t * @return {SearchResult[]}\n\t\t */\n\t\tsearchResults() {\n\t\t\treturn this.currentSearchResults\n\t\t\t\t.filter(({ id }) => id !== getCurrentUser().uid)\n\t\t\t\t.map((collaborator) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...collaborator,\n\t\t\t\t\t\tkey: `${collaborator.type}:${collaborator.id}`,\n\t\t\t\t\t\ticonSvg: collaborator.type === Type.SHARE_TYPE_GROUP ? AccountGroupSvg : undefined,\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.filter(({ key }) => !this.selectedCollaboratorsKeys.includes(key))\n\t\t},\n\n\t\t/**\n\t\t * @return {string[]}\n\t\t */\n\t\tlistableSelectedCollaboratorsKeys() {\n\t\t\treturn this.selectedCollaboratorsKeys\n\t\t\t\t.filter(collaboratorKey => this.availableCollaborators[collaboratorKey].type !== Type.SHARE_TYPE_LINK)\n\t\t},\n\n\t\t/**\n\t\t * @return {import('../../store/albums.js').Collaborator[]}\n\t\t */\n\t\tselectedCollaborators() {\n\t\t\treturn this.selectedCollaboratorsKeys\n\t\t\t\t.map((collaboratorKey) => this.availableCollaborators[collaboratorKey])\n\t\t},\n\n\t\t/**\n\t\t * @return {boolean}\n\t\t */\n\t\tisPublicLinkSelected() {\n\t\t\treturn this.selectedCollaboratorsKeys.includes(`${Type.SHARE_TYPE_LINK}`)\n\t\t},\n\n\t\t/** @return {import('../../store/albums.js').Collaborator} */\n\t\tpublicLink() {\n\t\t\treturn this.availableCollaborators[Type.SHARE_TYPE_LINK]\n\t\t},\n\n\t\t/** @return {string} */\n\t\tpublicLinkURL() {\n\t\t\treturn `${window.location.protocol}//${window.location.host}${generateUrl(`apps/photos/public/${this.publicLink.id}`)}`\n\t\t},\n\n\t\t/**\n\t\t * @return {string} The album's filename based on its name. Useful to fetch the location information and content.\n\t\t */\n\t\talbumFileName() {\n\t\t\treturn this.$store.getters.getAlbumName(this.albumName)\n\t\t},\n\t},\n\n\twatch: {\n\t\tcollaborators(collaborators) {\n\t\t\tthis.populateCollaborators(collaborators)\n\t\t},\n\t},\n\n\tmounted() {\n\t\tthis.populateCollaborators(this.collaborators)\n\t},\n\n\tmethods: {\n\t\t...mapActions(['updateCollection']),\n\n\t\t/**\n\t\t * Fetch possible collaborators.\n\t\t *\n\t\t * @param {string} query\n\t\t */\n\t\tasync searchCollaborators(query) {\n\t\t\tif (query === undefined) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tquery = query.trim()\n\n\t\t\tif (query.length < this.config.minSearchStringLength) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tthis.loadingCollaborators = true\n\t\t\t\tconst response = await axios.get(generateOcsUrl('core/autocomplete/get'), {\n\t\t\t\t\tparams: {\n\t\t\t\t\t\tsearch: query,\n\t\t\t\t\t\titemType: 'share-recipients',\n\t\t\t\t\t\tshareTypes: [\n\t\t\t\t\t\t\tType.SHARE_TYPE_USER,\n\t\t\t\t\t\t\tType.SHARE_TYPE_GROUP,\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t})\n\n\t\t\t\tthis.currentSearchResults = response.data.ocs.data\n\t\t\t\t\t.map(collaborator => {\n\t\t\t\t\t\tswitch (collaborator.source) {\n\t\t\t\t\t\tcase 'users':\n\t\t\t\t\t\t\treturn { id: collaborator.id, label: collaborator.label, type: Type.SHARE_TYPE_USER }\n\t\t\t\t\t\tcase 'groups':\n\t\t\t\t\t\t\treturn { id: collaborator.id, label: collaborator.label, type: Type.SHARE_TYPE_GROUP }\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tthrow new Error(`Invalid collaborator source ${collaborator.source}`)\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\n\t\t\t\tthis.availableCollaborators = {\n\t\t\t\t\t...this.availableCollaborators,\n\t\t\t\t\t...this.currentSearchResults.reduce(this.indexCollaborators, {}),\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tthis.errorFetchingCollaborators = error\n\t\t\t\tlogger.error(t('photos', 'Failed to fetch collaborators list.'), error)\n\t\t\t\tshowError(t('photos', 'Failed to fetch collaborators list.'))\n\t\t\t} finally {\n\t\t\t\tthis.loadingCollaborators = false\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Populate selectedCollaboratorsKeys and availableCollaborators.\n\t\t *\n\t\t * @param {import('../../store/albums.js').Collaborator[]} collaborators - The list of collaborators\n\t\t */\n\t\tpopulateCollaborators(collaborators) {\n\t\t\tconst initialCollaborators = collaborators.reduce(this.indexCollaborators, {})\n\t\t\tthis.selectedCollaboratorsKeys = Object.keys(initialCollaborators)\n\t\t\tthis.availableCollaborators = {\n\t\t\t\t3: {\n\t\t\t\t\tid: '',\n\t\t\t\t\tlabel: t('photos', 'Public link'),\n\t\t\t\t\ttype: Type.SHARE_TYPE_LINK,\n\t\t\t\t},\n\t\t\t\t...this.availableCollaborators,\n\t\t\t\t...initialCollaborators,\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * @param {import('../../store/albums.js').IndexedCollaborators} collaborators - Index of collaborators\n\t\t * @param {import('../../store/albums.js').Collaborator} collaborator - A collaborator\n\t\t */\n\t\tindexCollaborators(collaborators, collaborator) {\n\t\t\treturn { ...collaborators, [`${collaborator.type}${collaborator.type === Type.SHARE_TYPE_LINK ? '' : ':'}${collaborator.type === Type.SHARE_TYPE_LINK ? '' : collaborator.id}`]: collaborator }\n\t\t},\n\n\t\tasync createPublicLinkForAlbum() {\n\t\t\tthis.selectEntity(`${Type.SHARE_TYPE_LINK}`)\n\t\t\tawait this.updateAlbumCollaborators()\n\t\t\tawait this.fetchCollection(\n\t\t\t\tthis.albumFileName,\n\t\t\t\t['<nc:location />', '<nc:dateRange />', '<nc:collaborators />']\n\t\t\t)\n\t\t},\n\n\t\tasync deletePublicLink() {\n\t\t\tthis.unselectEntity(`${Type.SHARE_TYPE_LINK}`)\n\t\t\tthis.availableCollaborators[3] = {\n\t\t\t\tid: '',\n\t\t\t\tlabel: t('photos', 'Public link'),\n\t\t\t\ttype: Type.SHARE_TYPE_LINK,\n\t\t\t}\n\t\t\tthis.publicLinkCopied = false\n\t\t\tawait this.updateAlbumCollaborators()\n\t\t},\n\n\t\tasync updateAlbumCollaborators() {\n\t\t\ttry {\n\t\t\t\tawait this.updateCollection({\n\t\t\t\t\tcollectionFileName: this.albumFileName,\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\tcollaborators: this.selectedCollaborators,\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t} catch (error) {\n\t\t\t\tlogger.error('[PublicAlbumContent] Error updating album', { error })\n\t\t\t\tshowError(this.t('photos', 'Failed to update album.'))\n\t\t\t}\n\t\t},\n\n\t\tasync copyPublicLink() {\n\t\t\tawait navigator.clipboard.writeText(this.publicLinkURL)\n\t\t\tthis.publicLinkCopied = true\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.publicLinkCopied = false\n\t\t\t}, 10000)\n\t\t},\n\n\t\tselectEntity(collaboratorKey) {\n\t\t\tthis.searchText = null\n\n\t\t\tif (this.selectedCollaboratorsKeys.includes(collaboratorKey)) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tthis.selectedCollaboratorsKeys.push(collaboratorKey)\n\t\t},\n\n\t\tunselectEntity(collaboratorKey) {\n\t\t\tconst index = this.selectedCollaboratorsKeys.indexOf(collaboratorKey)\n\n\t\t\tif (index === -1) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tthis.selectedCollaboratorsKeys.splice(index, 1)\n\t\t},\n\n\t\tt: translate,\n\t},\n}\n</script>\n<style lang=\"scss\" scoped>\n.manage-collaborators {\n\tdisplay: flex;\n\tflex-direction: column;\n\tpadding: 20px;\n\theight: 500px;\n\n\t&__title {\n\t\tfont-weight: bold;\n\t}\n\n\t&__subtitle {\n\t\tcolor: var(--color-text-lighter);\n\t}\n\n\t&__public-link-button {\n\t\tmargin: 4px 0;\n\t}\n\n\t&__form {\n\t\tmargin-top: 4px 0;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\n\t\t&__input {\n\t\t\tposition: relative;\n\t\t\tdisplay: block;\n\n\t\t\tinput {\n\t\t\t\twidth: 100%;\n\t\t\t\tpadding-left: 34px;\n\t\t\t}\n\n\t\t\t.loading-icon {\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: calc(36px / 2 - 20px / 2);\n\t\t\t\tright: 8px;\n\t\t\t}\n\t\t}\n\n\t\t&__list {\n\t\t\tpadding: 8px;\n\t\t\theight: 350px;\n\t\t\toverflow: scroll;\n\n\t\t\t&__result {\n\t\t\t\tpadding: 8px;\n\t\t\t\tborder-radius: 100px;\n\t\t\t\tbox-sizing: border-box;\n\n\t\t\t\t&, & * {\n\t\t\t\t\tcursor: pointer !important;\n\t\t\t\t}\n\n\t\t\t\t&:hover {\n\t\t\t\t\tbackground: var(--color-background-dark);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t&--empty {\n\t\t\t\tmargin: 100px 0;\n\t\t\t}\n\t\t}\n\t}\n\n\t&__selection {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tmargin-top: 32px;\n\t\tflex-grow: 1;\n\n\t\t&__item {\n\t\t\tborder-radius: var(--border-radius-pill);\n\t\t\tpadding:  0 8px;\n\n\t\t\t&:hover {\n\t\t\t\tbackground: var(--color-background-dark);\n\t\t\t}\n\n\t\t\t:deep(.option) {\n\t\t\t\tgap: 4px;\n\t\t\t}\n\t\t}\n\t}\n\n\t.actions {\n\t\tdisplay: flex;\n\t\tmargin-top: 8px;\n\n\t\t&__public-link {\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\n\t\t\tbutton {\n\t\t\t\tmargin-left: 8px;\n\t\t\t}\n\t\t}\n\n\t\t&__slot {\n\t\t\tflex-grow: 1;\n\t\t\tdisplay: flex;\n\t\t\tjustify-content: flex-end;\n\t\t\talign-items: center;\n\t\t}\n\t}\n}\n</style>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CollaboratorsSelectionForm.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CollaboratorsSelectionForm.vue?vue&type=script&lang=js\"","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-2.use[3]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CollaboratorsSelectionForm.vue?vue&type=style&index=0&id=a392a178&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-2.use[3]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CollaboratorsSelectionForm.vue?vue&type=style&index=0&id=a392a178&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./CollaboratorsSelectionForm.vue?vue&type=template&id=a392a178&scoped=true\"\nimport script from \"./CollaboratorsSelectionForm.vue?vue&type=script&lang=js\"\nexport * from \"./CollaboratorsSelectionForm.vue?vue&type=script&lang=js\"\nimport style0 from \"./CollaboratorsSelectionForm.vue?vue&type=style&index=0&id=a392a178&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a392a178\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (!_vm.showCollaboratorView)?_c('form',{staticClass:\"album-form\",on:{\"submit\":function($event){$event.preventDefault();return _vm.submit.apply(null, arguments)}}},[_c('div',{staticClass:\"form-inputs\"},[_c('NcTextField',{ref:\"nameInput\",attrs:{\"value\":_vm.albumName,\"type\":\"text\",\"name\":\"name\",\"required\":true,\"label\":_vm.t('photos', 'Name of the album')},on:{\"update:value\":function($event){_vm.albumName=$event}}}),_vm._v(\" \"),_c('NcTextField',{attrs:{\"value\":_vm.albumLocation,\"name\":\"location\",\"type\":\"text\",\"label\":_vm.t('photos', 'Location of the album')},on:{\"update:value\":function($event){_vm.albumLocation=$event}},scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('MapMarker',{attrs:{\"size\":20}})]},proxy:true}],null,false,2964444886)})],1),_vm._v(\" \"),_c('div',{staticClass:\"form-buttons\"},[_c('span',{staticClass:\"left-buttons\"},[(_vm.displayBackButton)?_c('NcButton',{attrs:{\"type\":\"tertiary\"},on:{\"click\":_vm.back}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('photos', 'Back'))+\"\\n\\t\\t\\t\")]):_vm._e()],1),_vm._v(\" \"),_c('span',{staticClass:\"right-buttons\"},[(_vm.sharingEnabled && !_vm.editMode)?_c('NcButton',{attrs:{\"type\":\"secondary\",\"disabled\":_vm.albumName.trim() === '' || _vm.loading},on:{\"click\":function($event){_vm.showCollaboratorView = true}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('AccountMultiplePlus',{attrs:{\"size\":20}})]},proxy:true}],null,false,3656768963)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('photos', 'Add collaborators'))+\"\\n\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),_c('NcButton',{attrs:{\"type\":\"primary\",\"disabled\":_vm.albumName === '' || _vm.loading},on:{\"click\":function($event){return _vm.submit()}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [(_vm.loading)?_c('NcLoadingIcon',{attrs:{\"size\":20}}):_c('Send',{attrs:{\"size\":20}})]},proxy:true}],null,false,2302891232)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.editMode ? _vm.t('photos', 'Save') : _vm.t('photos', 'Create album'))+\"\\n\\t\\t\\t\")])],1)])]):_c('CollaboratorsSelectionForm',{attrs:{\"album-name\":_vm.albumName,\"allow-public-link\":false},scopedSlots:_vm._u([{key:\"default\",fn:function({ collaborators }){return [_c('span',{staticClass:\"left-buttons\"},[_c('NcButton',{attrs:{\"type\":\"tertiary\"},on:{\"click\":function($event){_vm.showCollaboratorView = false}}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('photos', 'Back'))+\"\\n\\t\\t\\t\")])],1),_vm._v(\" \"),_c('span',{staticClass:\"right-buttons\"},[_c('NcButton',{attrs:{\"type\":\"primary\",\"disabled\":_vm.albumName.trim() === '' || _vm.loading},on:{\"click\":function($event){return _vm.submit(collaborators)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [(_vm.loading)?_c('NcLoadingIcon',{attrs:{\"size\":20}}):_c('Send',{attrs:{\"size\":20}})]},proxy:true}],null,true)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.editMode ? _vm.t('photos', 'Save') : _vm.t('photos', 'Create album'))+\"\\n\\t\\t\\t\")])],1)]}}])})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n - @copyright Copyright (c) 2022 Louis Chemineau <louis@chmn.me>\n -\n - @author Louis Chemineau <louis@chmn.me>\n -\n - @license AGPL-3.0-or-later\n -\n - This program is free software: you can redistribute it and/or modify\n - it under the terms of the GNU Affero General Public License as\n - published by the Free Software Foundation, either version 3 of the\n - License, or (at your option) any later version.\n -\n - This program is distributed in the hope that it will be useful,\n - but WITHOUT ANY WARRANTY; without even the implied warranty of\n - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n - GNU Affero General Public License for more details.\n -\n - You should have received a copy of the GNU Affero General Public License\n - along with this program. If not, see <http://www.gnu.org/licenses/>.\n -\n -->\n<template>\n\t<form v-if=\"!showCollaboratorView\" class=\"album-form\" @submit.prevent=\"submit\">\n\t\t<div class=\"form-inputs\">\n\t\t\t<NcTextField ref=\"nameInput\"\n\t\t\t\t:value.sync=\"albumName\"\n\t\t\t\ttype=\"text\"\n\t\t\t\tname=\"name\"\n\t\t\t\t:required=\"true\"\n\t\t\t\t:label=\"t('photos', 'Name of the album')\" />\n\t\t\t<NcTextField :value.sync=\"albumLocation\"\n\t\t\t\tname=\"location\"\n\t\t\t\ttype=\"text\"\n\t\t\t\t:label=\"t('photos', 'Location of the album')\">\n\t\t\t\t<template #default>\n\t\t\t\t\t<MapMarker :size=\"20\" />\n\t\t\t\t</template>\n\t\t\t</NcTextField>\n\t\t</div>\n\t\t<div class=\"form-buttons\">\n\t\t\t<span class=\"left-buttons\">\n\t\t\t\t<NcButton v-if=\"displayBackButton\"\n\t\t\t\t\ttype=\"tertiary\"\n\t\t\t\t\t@click=\"back\">\n\t\t\t\t\t{{ t('photos', 'Back') }}\n\t\t\t\t</NcButton>\n\t\t\t</span>\n\t\t\t<span class=\"right-buttons\">\n\t\t\t\t<NcButton v-if=\"sharingEnabled && !editMode\"\n\t\t\t\t\ttype=\"secondary\"\n\t\t\t\t\t:disabled=\"albumName.trim() === '' || loading\"\n\t\t\t\t\t@click=\"showCollaboratorView = true\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<AccountMultiplePlus :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('photos', 'Add collaborators') }}\n\t\t\t\t</NcButton>\n\t\t\t\t<NcButton type=\"primary\"\n\t\t\t\t\t:disabled=\"albumName === '' || loading\"\n\t\t\t\t\t@click=\"submit()\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<NcLoadingIcon v-if=\"loading\" :size=\"20\" />\n\t\t\t\t\t\t<Send v-else :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ editMode ? t('photos', 'Save') : t('photos', 'Create album') }}\n\t\t\t\t</NcButton>\n\t\t\t</span>\n\t\t</div>\n\t</form>\n\t<CollaboratorsSelectionForm v-else\n\t\t:album-name=\"albumName\"\n\t\t:allow-public-link=\"false\">\n\t\t<template #default=\"{ collaborators }\">\n\t\t\t<span class=\"left-buttons\">\n\t\t\t\t<NcButton type=\"tertiary\"\n\t\t\t\t\t@click=\"showCollaboratorView = false\">\n\t\t\t\t\t{{ t('photos', 'Back') }}\n\t\t\t\t</NcButton>\n\t\t\t</span>\n\t\t\t<span class=\"right-buttons\">\n\t\t\t\t<NcButton type=\"primary\"\n\t\t\t\t\t:disabled=\"albumName.trim() === '' || loading\"\n\t\t\t\t\t@click=\"submit(collaborators)\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<NcLoadingIcon v-if=\"loading\" :size=\"20\" />\n\t\t\t\t\t\t<Send v-else :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ editMode ? t('photos', 'Save') : t('photos', 'Create album') }}\n\t\t\t\t</NcButton>\n\t\t\t</span>\n\t\t</template>\n\t</CollaboratorsSelectionForm>\n</template>\n<script>\nimport { mapActions } from 'vuex'\n\nimport MapMarker from 'vue-material-design-icons/MapMarker.vue'\nimport AccountMultiplePlus from 'vue-material-design-icons/AccountMultiplePlus.vue'\nimport Send from 'vue-material-design-icons/Send.vue'\n\nimport { NcButton, NcLoadingIcon, NcTextField } from '@nextcloud/vue'\nimport moment from '@nextcloud/moment'\nimport { translate } from '@nextcloud/l10n'\n\nimport CollaboratorsSelectionForm from './CollaboratorsSelectionForm.vue'\n\nexport default {\n\tname: 'AlbumForm',\n\n\tcomponents: {\n\t\tMapMarker,\n\t\tAccountMultiplePlus,\n\t\tSend,\n\t\tNcButton,\n\t\tNcLoadingIcon,\n\t\tNcTextField,\n\t\tCollaboratorsSelectionForm,\n\t},\n\n\tprops: {\n\t\t/** @type {import('vue').PropType<import('../../store/albums.js').Album|null>} */\n\t\talbum: {\n\t\t\ttype: Object,\n\t\t\tdefault: null,\n\t\t},\n\t\tdisplayBackButton: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\tshowCollaboratorView: false,\n\t\t\talbumName: '',\n\t\t\talbumLocation: '',\n\t\t\tloading: false,\n\t\t}\n\t},\n\n\tcomputed: {\n\t\t/**\n\t\t * @return {boolean} Whether sharing is enabled.\n\t\t */\n\t\teditMode() {\n\t\t\treturn this.album !== null\n\t\t},\n\n\t\t/**\n\t\t * @return {boolean} Whether sharing is enabled.\n\t\t */\n\t\tsharingEnabled() {\n\t\t\treturn OC.Share !== undefined\n\t\t},\n\n\t\t/**\n\t\t * @return {string} The album's filename based on its name. Useful to fetch the location information and content.\n\t\t */\n\t\talbumFileName() {\n\t\t\treturn this.$store.getters.getAlbumName(this.albumName)\n\t\t},\n\t},\n\n\tmounted() {\n\t\tif (this.editMode) {\n\t\t\tthis.albumName = this.album.basename\n\t\t\tthis.albumLocation = this.album.location ?? ''\n\t\t}\n\n\t\tthis.$nextTick(() => {\n\t\t\tthis.$refs.nameInput.$el.getElementsByTagName('input')[0].focus()\n\t\t})\n\t},\n\n\tmethods: {\n\t\t...mapActions(['createCollection', 'renameCollection', 'updateCollection']),\n\n\t\t/** @param {import('../../store/albums.js').Collaborator[]} collaborators */\n\t\tsubmit(collaborators = []) {\n\t\t\tif (this.albumName === '' || this.loading) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tif (this.editMode) {\n\t\t\t\tthis.handleUpdateAlbum()\n\t\t\t} else {\n\t\t\t\tthis.handleCreateAlbum(collaborators)\n\t\t\t}\n\t\t},\n\n\t\t/** @param {import('../../store/albums.js').Collaborator[]} collaborators */\n\t\tasync handleCreateAlbum(collaborators = []) {\n\t\t\ttry {\n\t\t\t\tthis.loading = true\n\t\t\t\tlet album = await this.createCollection({\n\t\t\t\t\tcollection: {\n\t\t\t\t\t\tbasename: this.albumName,\n\t\t\t\t\t\tfilename: this.albumFileName,\n\t\t\t\t\t\tnbItems: 0,\n\t\t\t\t\t\tlocation: this.albumLocation,\n\t\t\t\t\t\tlastPhoto: -1,\n\t\t\t\t\t\tdate: moment().format('MMMM YYYY'),\n\t\t\t\t\t\tcollaborators,\n\t\t\t\t\t},\n\t\t\t\t})\n\n\t\t\t\tif (this.albumLocation !== '' || collaborators.length !== 0) {\n\t\t\t\t\talbum = await this.updateCollection(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcollectionFileName: this.albumFileName,\n\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\tlocation: this.albumLocation,\n\t\t\t\t\t\t\t\tcollaborators,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t})\n\t\t\t\t}\n\n\t\t\t\tthis.$emit('done', { album })\n\t\t\t} finally {\n\t\t\t\tthis.loading = false\n\t\t\t}\n\t\t},\n\n\t\tasync handleUpdateAlbum() {\n\t\t\ttry {\n\t\t\t\tthis.loading = true\n\n\t\t\t\tlet album = { ...this.album }\n\n\t\t\t\tif (this.album.basename !== this.albumName) {\n\t\t\t\t\talbum = await this.renameCollection({ collectionFileName: this.album.filename, newBaseName: this.albumName })\n\t\t\t\t}\n\n\t\t\t\tif (this.album.location !== this.albumLocation) {\n\t\t\t\t\talbum = await this.updateCollection({ collectionFileName: album.filename, properties: { location: this.albumLocation } })\n\t\t\t\t}\n\n\t\t\t\tthis.$emit('done', { album })\n\t\t\t} finally {\n\t\t\t\tthis.loading = false\n\t\t\t}\n\t\t},\n\n\t\tback() {\n\t\t\tthis.$emit('back')\n\t\t},\n\n\t\tt: translate,\n\t},\n}\n</script>\n<style lang=\"scss\" scoped>\n.album-form {\n\tdisplay: flex;\n\tflex-direction: column;\n\theight: 350px;\n\tpadding: calc(var(--default-grid-baseline) * 4);\n\n\t.form-title {\n\t\tfont-weight: bold;\n\t}\n\n\t.form-subtitle {\n\t\tcolor: var(--color-text-lighter);\n\t}\n\n\t.form-inputs {\n\t\tflex: 1;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: calc(var(--default-grid-baseline) * 4);\n\t}\n\n\t.form-buttons {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\tflex-direction: column;\n\n\t\t.left-buttons, .right-buttons {\n\t\t\tdisplay: flex;\n\t\t\tgap: calc(var(--default-grid-baseline) * 4);\n\t\t}\n\n\t\t.right-buttons {\n\t\t\tjustify-content: flex-end;\n\t\t}\n\t}\n}\n\n.left-buttons {\n\tflex-grow: 1;\n}\n\n@media only screen and (max-width: 1020px) {\n\t.right-buttons {\n\t\tjustify-content: flex-end;\n\t\tflex-direction: column;\n\t}\n}\n</style>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AlbumForm.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AlbumForm.vue?vue&type=script&lang=js\"","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-2.use[3]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AlbumForm.vue?vue&type=style&index=0&id=2e6bf1a2&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-2.use[3]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AlbumForm.vue?vue&type=style&index=0&id=2e6bf1a2&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./AlbumForm.vue?vue&type=template&id=2e6bf1a2&scoped=true\"\nimport script from \"./AlbumForm.vue?vue&type=script&lang=js\"\nexport * from \"./AlbumForm.vue?vue&type=script&lang=js\"\nimport style0 from \"./AlbumForm.vue?vue&type=style&index=0&id=2e6bf1a2&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2e6bf1a2\",\n  null\n  \n)\n\nexport default component.exports","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.album-form[data-v-2e6bf1a2]{display:flex;flex-direction:column;height:350px;padding:calc(var(--default-grid-baseline)*4)}.album-form .form-title[data-v-2e6bf1a2]{font-weight:bold}.album-form .form-subtitle[data-v-2e6bf1a2]{color:var(--color-text-lighter)}.album-form .form-inputs[data-v-2e6bf1a2]{flex:1;display:flex;flex-direction:column;gap:calc(var(--default-grid-baseline)*4)}.album-form .form-buttons[data-v-2e6bf1a2]{display:flex;justify-content:space-between;flex-direction:column}.album-form .form-buttons .left-buttons[data-v-2e6bf1a2],.album-form .form-buttons .right-buttons[data-v-2e6bf1a2]{display:flex;gap:calc(var(--default-grid-baseline)*4)}.album-form .form-buttons .right-buttons[data-v-2e6bf1a2]{justify-content:flex-end}.left-buttons[data-v-2e6bf1a2]{flex-grow:1}@media only screen and (max-width: 1020px){.right-buttons[data-v-2e6bf1a2]{justify-content:flex-end;flex-direction:column}}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/Albums/AlbumForm.vue\"],\"names\":[],\"mappings\":\"AAEA,6BACC,YAAA,CACA,qBAAA,CACA,YAAA,CACA,4CAAA,CAEA,yCACC,gBAAA,CAGD,4CACC,+BAAA,CAGD,0CACC,MAAA,CACA,YAAA,CACA,qBAAA,CACA,wCAAA,CAGD,2CACC,YAAA,CACA,6BAAA,CACA,qBAAA,CAEA,mHACC,YAAA,CACA,wCAAA,CAGD,0DACC,wBAAA,CAKH,+BACC,WAAA,CAGD,2CACC,gCACC,wBAAA,CACA,qBAAA,CAAA\",\"sourcesContent\":[\"$sizes: (\\\"400\\\": (\\\"count\\\": 3, \\\"marginTop\\\": 66, \\\"marginW\\\": 8), \\\"700\\\": (\\\"count\\\": 4, \\\"marginTop\\\": 66, \\\"marginW\\\": 8), \\\"1024\\\": (\\\"count\\\": 5, \\\"marginTop\\\": 66, \\\"marginW\\\": 44), \\\"1280\\\": (\\\"count\\\": 4, \\\"marginTop\\\": 66, \\\"marginW\\\": 44), \\\"1440\\\": (\\\"count\\\": 5, \\\"marginTop\\\": 88, \\\"marginW\\\": 66), \\\"1600\\\": (\\\"count\\\": 6, \\\"marginTop\\\": 88, \\\"marginW\\\": 66), \\\"2048\\\": (\\\"count\\\": 7, \\\"marginTop\\\": 88, \\\"marginW\\\": 66), \\\"2560\\\": (\\\"count\\\": 8, \\\"marginTop\\\": 88, \\\"marginW\\\": 88), \\\"3440\\\": (\\\"count\\\": 9, \\\"marginTop\\\": 88, \\\"marginW\\\": 88), \\\"max\\\": (\\\"count\\\": 10, \\\"marginTop\\\": 88, \\\"marginW\\\": 88));\\n\\n.album-form {\\n\\tdisplay: flex;\\n\\tflex-direction: column;\\n\\theight: 350px;\\n\\tpadding: calc(var(--default-grid-baseline) * 4);\\n\\n\\t.form-title {\\n\\t\\tfont-weight: bold;\\n\\t}\\n\\n\\t.form-subtitle {\\n\\t\\tcolor: var(--color-text-lighter);\\n\\t}\\n\\n\\t.form-inputs {\\n\\t\\tflex: 1;\\n\\t\\tdisplay: flex;\\n\\t\\tflex-direction: column;\\n\\t\\tgap: calc(var(--default-grid-baseline) * 4);\\n\\t}\\n\\n\\t.form-buttons {\\n\\t\\tdisplay: flex;\\n\\t\\tjustify-content: space-between;\\n\\t\\tflex-direction: column;\\n\\n\\t\\t.left-buttons, .right-buttons {\\n\\t\\t\\tdisplay: flex;\\n\\t\\t\\tgap: calc(var(--default-grid-baseline) * 4);\\n\\t\\t}\\n\\n\\t\\t.right-buttons {\\n\\t\\t\\tjustify-content: flex-end;\\n\\t\\t}\\n\\t}\\n}\\n\\n.left-buttons {\\n\\tflex-grow: 1;\\n}\\n\\n@media only screen and (max-width: 1020px) {\\n\\t.right-buttons {\\n\\t\\tjustify-content: flex-end;\\n\\t\\tflex-direction: column;\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n"],"names":["___CSS_LOADER_EXPORT___","push","module","id","name","data","fetchSemaphore","SemaphoreWithPriority","loadingCollection","loadingCollectionFiles","errorFetchingCollection","errorFetchingCollectionFiles","mixins","AbortControllerMixin","methods","mapActions","fetchCollection","collectionFileName","extraProps","client","this","collection","signal","abortController","addCollections","collections","error","response","status","logger","showError","t","fetchCollectionFiles","mappers","arguments","length","undefined","fetchSemaphoreSymbol","acquire","fetchedFiles","fileIds","map","file","fileid","toString","forEach","mapper","appendFiles","$store","commit","release","components","Close","AccountGroup","ContentCopy","Check","Earth","NcButton","NcListItemIcon","NcSelect","FetchCollectionContentMixin","props","albumName","type","String","required","collaborators","Array","default","allowPublicLink","Boolean","searchText","availableCollaborators","selectedCollaboratorsKeys","currentSearchResults","loadingCollaborators","randomId","Math","random","substring","publicLinkCopied","collaboratorTypes","Type","config","minSearchStringLength","parseInt","OC","computed","searchResults","filter","_ref","getCurrentUser","uid","collaborator","key","iconSvg","SHARE_TYPE_GROUP","AccountGroupSvg","_ref2","includes","listableSelectedCollaboratorsKeys","collaboratorKey","SHARE_TYPE_LINK","selectedCollaborators","isPublicLinkSelected","publicLink","publicLinkURL","window","location","protocol","host","generateUrl","albumFileName","getters","getAlbumName","watch","populateCollaborators","mounted","searchCollaborators","query","trim","axios","get","generateOcsUrl","params","search","itemType","shareTypes","SHARE_TYPE_USER","ocs","source","label","Error","reduce","indexCollaborators","errorFetchingCollaborators","initialCollaborators","Object","keys","createPublicLinkForAlbum","selectEntity","updateAlbumCollaborators","deletePublicLink","unselectEntity","updateCollection","properties","copyPublicLink","navigator","clipboard","writeText","setTimeout","index","indexOf","splice","translate","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","locals","_vm","_c","_self","staticClass","_v","_s","attrs","on","$event","preventDefault","clear-search-on-blur","model","value","callback","$$v","expression","_l","_e","collaboratorLabel","slot","scopedSlots","_u","fn","proxy","_t","MapMarker","AccountMultiplePlus","Send","NcLoadingIcon","NcTextField","CollaboratorsSelectionForm","album","displayBackButton","showCollaboratorView","albumLocation","loading","editMode","sharingEnabled","Share","basename","$nextTick","$refs","nameInput","$el","getElementsByTagName","focus","submit","handleUpdateAlbum","handleCreateAlbum","createCollection","filename","nbItems","lastPhoto","date","moment","format","$emit","renameCollection","newBaseName","back","apply","ref"],"sourceRoot":""}
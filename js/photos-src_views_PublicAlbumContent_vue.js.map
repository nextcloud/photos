{"version":3,"file":"photos-src_views_PublicAlbumContent_vue.js?v=2461e009db7438df54d8","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AC7aA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AC1BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAkBA;AACA;;;;;;;;;;;;;;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;ACpCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAkBA;AACA;;;;;;;;;;;;;;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;ACpCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAkBA;AACA;;;;;;;;;;;;;;;ACvCA;;;;;;;;;;;;;;;;;;;;;;;;;;;AEAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACrDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACjDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack:///photos/src/views/PublicAlbumContent.vue?vue&type=script&lang=js&","webpack:///photos/src/views/PublicAlbumContent.vue?vue&type=style&index=0&id=56b53b66&lang=scss&scoped=true&","webpack://photos/./src/views/PublicAlbumContent.vue?a940","webpack:///photos/node_modules/vue-material-design-icons/MapMarker.vue","webpack:///photos/node_modules/vue-material-design-icons/MapMarker.vue?vue&type=script&lang=js&","webpack:///photos/node_modules/vue-material-design-icons/Plus.vue","webpack:///photos/node_modules/vue-material-design-icons/Plus.vue?vue&type=script&lang=js&","webpack:///photos/src/views/PublicAlbumContent.vue","webpack://photos/./src/views/PublicAlbumContent.vue?578b","webpack://photos/./src/views/PublicAlbumContent.vue?7e9b","webpack://photos/./node_modules/vue-material-design-icons/MapMarker.vue?2c39","webpack://photos/./node_modules/vue-material-design-icons/Plus.vue?b153","webpack:///photos/src/views/PublicAlbumContent.vue?vue&type=template&id=56b53b66&scoped=true&","webpack://photos/./node_modules/vue-material-design-icons/MapMarker.vue?2d3a","webpack://photos/./node_modules/vue-material-design-icons/Plus.vue?7104","webpack://photos/./src/views/PublicAlbumContent.vue?12d1"],"sourcesContent":["function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mapActions, mapGetters } from 'vuex';\nimport { createClient, getPatcher } from 'webdav';\nimport MapMarker from 'vue-material-design-icons/MapMarker';\nimport Plus from 'vue-material-design-icons/Plus';\nimport ImagePlus from 'vue-material-design-icons/ImagePlus';\nimport Close from 'vue-material-design-icons/Close'; // import Download from 'vue-material-design-icons/Download'\n// import DownloadMultiple from 'vue-material-design-icons/DownloadMultiple'\n\nimport { NcActions, NcActionButton, NcButton, NcEmptyContent,\n/** NcActionSeparator, */\nisMobile } from '@nextcloud/vue';\nimport { showError } from '@nextcloud/dialogs';\nimport axios from '@nextcloud/axios';\nimport { generateRemoteUrl } from '@nextcloud/router';\nimport FetchFilesMixin from '../mixins/FetchFilesMixin.js';\nimport AbortControllerMixin from '../mixins/AbortControllerMixin.js';\nimport CollectionContent from '../components/Collection/CollectionContent.vue';\nimport HeaderNavigation from '../components/HeaderNavigation.vue'; // import ActionDownload from '../components/Actions/ActionDownload.vue'\n\nimport { fetchAlbum, fetchAlbumContent as _fetchAlbumContent } from '../services/Albums.js';\nimport logger from '../services/logger.js';\nvar publicRootPath = 'dav'; // force our axios\n\nvar patcher = getPatcher();\npatcher.patch('request', axios); // init webdav client on default dav endpoint\n\nvar remote = generateRemoteUrl(publicRootPath);\nvar publicRemote = remote;\nexport default {\n  name: 'PublicAlbumContent',\n  components: {\n    MapMarker: MapMarker,\n    Plus: Plus,\n    Close: Close,\n    // Download,\n    // DownloadMultiple,\n    ImagePlus: ImagePlus,\n    NcEmptyContent: NcEmptyContent,\n    NcActions: NcActions,\n    NcActionButton: NcActionButton,\n    // NcActionSeparator,\n    NcButton: NcButton,\n    CollectionContent: CollectionContent,\n    // ActionDownload,\n    HeaderNavigation: HeaderNavigation\n  },\n  mixins: [FetchFilesMixin, AbortControllerMixin, isMobile],\n  props: {\n    token: {\n      type: String,\n      required: true\n    }\n  },\n  data: function data() {\n    return {\n      showAddPhotosModal: false,\n      loadingAlbum: false,\n      errorFetchingAlbum: null,\n      loadingCount: 0,\n      loadingAddFilesToAlbum: false,\n      albumOriginalName: '',\n      publicClient: createClient(publicRemote, {\n        username: this.token,\n        password: null\n      })\n    };\n  },\n  computed: _objectSpread(_objectSpread({}, mapGetters(['files', 'publicAlbums', 'publicAlbumsFiles'])), {}, {\n    /**\n     * @return {object} The album information for the current albumName.\n     */\n    album: function album() {\n      return this.publicAlbums[this.albumName] || {};\n    },\n\n    /**\n     * @return {string} The album's name is the token.\n     */\n    albumName: function albumName() {\n      return this.token;\n    },\n\n    /**\n     * @return {string[]} The list of files for the current albumName.\n     */\n    albumFileIds: function albumFileIds() {\n      return this.publicAlbumsFiles[this.albumName] || [];\n    }\n  }),\n  beforeMount: function beforeMount() {\n    var _this = this;\n\n    return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _this.fetchAlbumInfo();\n\n            case 2:\n              _context.next = 4;\n              return _this.fetchAlbumContent();\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }))();\n  },\n  methods: _objectSpread(_objectSpread({}, mapActions(['appendFiles', 'addPublicAlbums', 'addFilesToPublicAlbum', 'removeFilesFromPublicAlbum'])), {}, {\n    fetchAlbumInfo: function fetchAlbumInfo() {\n      var _this2 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n        var album, _error$response;\n\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!_this2.loadingAlbum) {\n                  _context2.next = 2;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\");\n\n              case 2:\n                _context2.prev = 2;\n                _this2.loadingAlbum = true;\n                _this2.errorFetchingAlbum = null;\n                _context2.next = 7;\n                return fetchAlbum(\"/photospublic/\".concat(_this2.token), _this2.abortController.signal, '<nc:original-name />', _this2.publicClient);\n\n              case 7:\n                album = _context2.sent;\n\n                _this2.addPublicAlbums({\n                  collections: [album]\n                });\n\n                _this2.albumOriginalName = album.originalName;\n                _context2.next = 20;\n                break;\n\n              case 12:\n                _context2.prev = 12;\n                _context2.t0 = _context2[\"catch\"](2);\n\n                if (!(((_error$response = _context2.t0.response) === null || _error$response === void 0 ? void 0 : _error$response.status) === 404)) {\n                  _context2.next = 17;\n                  break;\n                }\n\n                _this2.errorFetchingAlbum = 404;\n                return _context2.abrupt(\"return\");\n\n              case 17:\n                _this2.errorFetchingAlbum = _context2.t0;\n                logger.error('[PublicAlbumContent] Error fetching album', {\n                  error: _context2.t0\n                });\n                showError(_this2.t('photos', 'Failed to fetch album.'));\n\n              case 20:\n                _context2.prev = 20;\n                _this2.loadingAlbum = false;\n                return _context2.finish(20);\n\n              case 23:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, null, [[2, 12, 20, 23]]);\n      }))();\n    },\n    fetchAlbumContent: function fetchAlbumContent() {\n      var _this3 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n        var semaphoreSymbol, fetchSemaphoreSymbol, fetchedFiles, fileIds, _error$response2;\n\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (!(_this3.loadingFiles || _this3.showEditAlbumForm)) {\n                  _context3.next = 2;\n                  break;\n                }\n\n                return _context3.abrupt(\"return\", []);\n\n              case 2:\n                _context3.next = 4;\n                return _this3.semaphore.acquire(function () {\n                  return 0;\n                }, 'fetchFiles');\n\n              case 4:\n                semaphoreSymbol = _context3.sent;\n                _context3.next = 7;\n                return _this3.fetchSemaphore.acquire();\n\n              case 7:\n                fetchSemaphoreSymbol = _context3.sent;\n                _context3.prev = 8;\n                _this3.errorFetchingFiles = null;\n                _this3.loadingFiles = true;\n                _this3.semaphoreSymbol = semaphoreSymbol;\n                _context3.next = 14;\n                return _fetchAlbumContent(\"/photospublic/\".concat(_this3.token), _this3.abortController.signal, _this3.publicClient);\n\n              case 14:\n                fetchedFiles = _context3.sent;\n                fileIds = fetchedFiles.map(function (file) {\n                  return file.fileid.toString();\n                });\n\n                _this3.appendFiles(fetchedFiles);\n\n                if (!(fetchedFiles.length > 0)) {\n                  _context3.next = 20;\n                  break;\n                }\n\n                _context3.next = 20;\n                return _this3.$store.commit('addFilesToPublicAlbum', {\n                  collectionId: _this3.albumName,\n                  fileIdsToAdd: fileIds\n                });\n\n              case 20:\n                return _context3.abrupt(\"return\", fetchedFiles);\n\n              case 23:\n                _context3.prev = 23;\n                _context3.t0 = _context3[\"catch\"](8);\n\n                if (!(((_error$response2 = _context3.t0.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.status) === 404)) {\n                  _context3.next = 28;\n                  break;\n                }\n\n                _this3.errorFetchingFiles = 404;\n                return _context3.abrupt(\"return\", []);\n\n              case 28:\n                _this3.errorFetchingFiles = _context3.t0;\n                showError(_this3.t('photos', 'Failed to fetch albums list.'));\n                logger.error('[PublicAlbumContent] Error fetching album files', {\n                  error: _context3.t0\n                });\n\n              case 31:\n                _context3.prev = 31;\n                _this3.loadingFiles = false;\n\n                _this3.semaphore.release(semaphoreSymbol);\n\n                _this3.fetchSemaphore.release(fetchSemaphoreSymbol);\n\n                return _context3.finish(31);\n\n              case 36:\n                return _context3.abrupt(\"return\", []);\n\n              case 37:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, null, [[8, 23, 31, 36]]);\n      }))();\n    },\n    handleFilesPicked: function handleFilesPicked(fileIds) {\n      var _this4 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _this4.showAddPhotosModal = false;\n                _context4.next = 3;\n                return _this4.addFilesToPublicAlbum({\n                  collectionId: _this4.albumName,\n                  fileIdsToAdd: fileIds\n                });\n\n              case 3:\n                _context4.next = 5;\n                return _this4.fetchAlbumContent();\n\n              case 5:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }))();\n    },\n    handleRemoveFilesFromAlbum: function handleRemoveFilesFromAlbum(fileIds) {\n      var _this5 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5() {\n        return regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _this5.$refs.collectionContent.onUncheckFiles(fileIds);\n\n                _context5.next = 3;\n                return _this5.removeFilesFromPublicAlbum({\n                  collectionId: _this5.albumName,\n                  fileIdsToRemove: fileIds\n                });\n\n              case 3:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5);\n      }))();\n    }\n  })\n};","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".album[data-v-56b53b66] {\\n  display: flex;\\n  flex-direction: column;\\n}\\n.album__title[data-v-56b53b66] {\\n  width: 100%;\\n}\\n.album__name[data-v-56b53b66] {\\n  overflow: hidden;\\n  white-space: nowrap;\\n  text-overflow: ellipsis;\\n}\\n.album__location[data-v-56b53b66] {\\n  margin-left: -4px;\\n  display: flex;\\n  color: var(--color-text-lighter);\\n}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-2[0].rules[0].use[3]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PublicAlbumContent.vue?vue&type=style&index=0&id=56b53b66&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-2[0].rules[0].use[3]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PublicAlbumContent.vue?vue&type=style&index=0&id=56b53b66&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./MapMarker.vue?vue&type=template&id=c80f3d8c&\"\nimport script from \"./MapMarker.vue?vue&type=script&lang=js&\"\nexport * from \"./MapMarker.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/var/www/nextcloud/apps/photos/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('c80f3d8c')) {\n      api.createRecord('c80f3d8c', component.options)\n    } else {\n      api.reload('c80f3d8c', component.options)\n    }\n    module.hot.accept(\"./MapMarker.vue?vue&type=template&id=c80f3d8c&\", function () {\n      api.rerender('c80f3d8c', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"node_modules/vue-material-design-icons/MapMarker.vue\"\nexport default component.exports","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  name: \"MapMarkerIcon\",\n  emits: ['click'],\n  props: {\n    title: {\n      type: String,\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n}\n","import { render, staticRenderFns } from \"./Plus.vue?vue&type=template&id=18bbb6c6&\"\nimport script from \"./Plus.vue?vue&type=script&lang=js&\"\nexport * from \"./Plus.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/var/www/nextcloud/apps/photos/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('18bbb6c6')) {\n      api.createRecord('18bbb6c6', component.options)\n    } else {\n      api.reload('18bbb6c6', component.options)\n    }\n    module.hot.accept(\"./Plus.vue?vue&type=template&id=18bbb6c6&\", function () {\n      api.rerender('18bbb6c6', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"node_modules/vue-material-design-icons/Plus.vue\"\nexport default component.exports","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  name: \"PlusIcon\",\n  emits: ['click'],\n  props: {\n    title: {\n      type: String,\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n}\n","import { render, staticRenderFns } from \"./PublicAlbumContent.vue?vue&type=template&id=56b53b66&scoped=true&\"\nimport script from \"./PublicAlbumContent.vue?vue&type=script&lang=js&\"\nexport * from \"./PublicAlbumContent.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PublicAlbumContent.vue?vue&type=style&index=0&id=56b53b66&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"56b53b66\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/var/www/nextcloud/apps/photos/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('56b53b66')) {\n      api.createRecord('56b53b66', component.options)\n    } else {\n      api.reload('56b53b66', component.options)\n    }\n    module.hot.accept(\"./PublicAlbumContent.vue?vue&type=template&id=56b53b66&scoped=true&\", function () {\n      api.rerender('56b53b66', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/views/PublicAlbumContent.vue\"\nexport default component.exports","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PublicAlbumContent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PublicAlbumContent.vue?vue&type=script&lang=js&\"","export * from \"-!../../node_modules/style-loader/dist/cjs.js!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-2[0].rules[0].use[3]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PublicAlbumContent.vue?vue&type=style&index=0&id=56b53b66&lang=scss&scoped=true&\"","import mod from \"-!../vue-loader/lib/index.js??vue-loader-options!./MapMarker.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../vue-loader/lib/index.js??vue-loader-options!./MapMarker.vue?vue&type=script&lang=js&\"","import mod from \"-!../vue-loader/lib/index.js??vue-loader-options!./Plus.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../vue-loader/lib/index.js??vue-loader-options!./Plus.vue?vue&type=script&lang=js&\"","export * from \"-!../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PublicAlbumContent.vue?vue&type=template&id=56b53b66&scoped=true&\"","var render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"span\",\n    _vm._b(\n      {\n        staticClass: \"material-design-icon map-marker-icon\",\n        attrs: {\n          \"aria-hidden\": !_vm.title,\n          \"aria-label\": _vm.title,\n          role: \"img\",\n        },\n        on: {\n          click: function ($event) {\n            return _vm.$emit(\"click\", $event)\n          },\n        },\n      },\n      \"span\",\n      _vm.$attrs,\n      false\n    ),\n    [\n      _c(\n        \"svg\",\n        {\n          staticClass: \"material-design-icon__svg\",\n          attrs: {\n            fill: _vm.fillColor,\n            width: _vm.size,\n            height: _vm.size,\n            viewBox: \"0 0 24 24\",\n          },\n        },\n        [\n          _c(\n            \"path\",\n            {\n              attrs: {\n                d: \"M12,11.5A2.5,2.5 0 0,1 9.5,9A2.5,2.5 0 0,1 12,6.5A2.5,2.5 0 0,1 14.5,9A2.5,2.5 0 0,1 12,11.5M12,2A7,7 0 0,0 5,9C5,14.25 12,22 12,22C12,22 19,14.25 19,9A7,7 0 0,0 12,2Z\",\n              },\n            },\n            [_vm.title ? _c(\"title\", [_vm._v(_vm._s(_vm.title))]) : _vm._e()]\n          ),\n        ]\n      ),\n    ]\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","var render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"span\",\n    _vm._b(\n      {\n        staticClass: \"material-design-icon plus-icon\",\n        attrs: {\n          \"aria-hidden\": !_vm.title,\n          \"aria-label\": _vm.title,\n          role: \"img\",\n        },\n        on: {\n          click: function ($event) {\n            return _vm.$emit(\"click\", $event)\n          },\n        },\n      },\n      \"span\",\n      _vm.$attrs,\n      false\n    ),\n    [\n      _c(\n        \"svg\",\n        {\n          staticClass: \"material-design-icon__svg\",\n          attrs: {\n            fill: _vm.fillColor,\n            width: _vm.size,\n            height: _vm.size,\n            viewBox: \"0 0 24 24\",\n          },\n        },\n        [\n          _c(\n            \"path\",\n            { attrs: { d: \"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z\" } },\n            [_vm.title ? _c(\"title\", [_vm._v(_vm._s(_vm.title))]) : _vm._e()]\n          ),\n        ]\n      ),\n    ]\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","var render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    [\n      _c(\n        \"CollectionContent\",\n        {\n          ref: \"collectionContent\",\n          attrs: {\n            collection: _vm.album,\n            \"collection-file-ids\": _vm.albumFileIds,\n            semaphore: _vm.semaphore,\n            loading: _vm.loadingAlbum || _vm.loadingFiles,\n            error: _vm.errorFetchingAlbum || _vm.errorFetchingFiles,\n          },\n          scopedSlots: _vm._u(\n            [\n              {\n                key: \"header\",\n                fn: function (ref) {\n                  var selectedFileIds = ref.selectedFileIds\n                  return _vm.albumOriginalName !== \"\"\n                    ? _c(\n                        \"HeaderNavigation\",\n                        {\n                          key: \"navigation\",\n                          attrs: {\n                            loading: _vm.loadingAlbum || _vm.loadingFiles,\n                            params: { token: _vm.token },\n                            path: \"/\",\n                            \"root-title\": _vm.albumOriginalName,\n                            title: _vm.albumOriginalName,\n                          },\n                          on: { refresh: _vm.fetchAlbumContent },\n                        },\n                        [\n                          _vm.album.location !== \"\"\n                            ? _c(\n                                \"div\",\n                                {\n                                  staticClass: \"album__location\",\n                                  attrs: { slot: \"subtitle\" },\n                                  slot: \"subtitle\",\n                                },\n                                [\n                                  _c(\"MapMarker\"),\n                                  _vm._v(\n                                    _vm._s(_vm.album.location) + \"\\n\\t\\t\\t\"\n                                  ),\n                                ],\n                                1\n                              )\n                            : _vm._e(),\n                          _vm._v(\" \"),\n                          _vm.album !== undefined\n                            ? _c(\n                                \"template\",\n                                { slot: \"right\" },\n                                [\n                                  _c(\n                                    \"NcActions\",\n                                    {\n                                      attrs: {\n                                        \"force-menu\": true,\n                                        \"aria-label\": _vm.t(\n                                          \"photos\",\n                                          \"Open actions menu\"\n                                        ),\n                                      },\n                                    },\n                                    [\n                                      selectedFileIds.length > 0\n                                        ? [\n                                            _c(\n                                              \"NcActionButton\",\n                                              {\n                                                attrs: {\n                                                  \"close-after-click\": true,\n                                                },\n                                                on: {\n                                                  click: function ($event) {\n                                                    return _vm.handleRemoveFilesFromAlbum(\n                                                      selectedFileIds\n                                                    )\n                                                  },\n                                                },\n                                              },\n                                              [\n                                                _vm._v(\n                                                  \"\\n\\t\\t\\t\\t\\t\\t\\t\" +\n                                                    _vm._s(\n                                                      _vm.t(\n                                                        \"photos\",\n                                                        \"Remove selection from album\"\n                                                      )\n                                                    ) +\n                                                    \"\\n\\t\\t\\t\\t\\t\\t\\t\"\n                                                ),\n                                                _c(\"Close\", {\n                                                  attrs: { slot: \"icon\" },\n                                                  slot: \"icon\",\n                                                }),\n                                              ],\n                                              1\n                                            ),\n                                          ]\n                                        : _vm._e(),\n                                    ],\n                                    2\n                                  ),\n                                ],\n                                1\n                              )\n                            : _vm._e(),\n                        ],\n                        2\n                      )\n                    : _vm._e()\n                },\n              },\n            ],\n            null,\n            true\n          ),\n        },\n        [\n          _vm._v(\" \"),\n          _c(\n            \"NcEmptyContent\",\n            {\n              staticClass: \"album__empty\",\n              attrs: {\n                slot: \"empty-content\",\n                title: _vm.t(\n                  \"photos\",\n                  \"This album does not have any photos or videos yet!\"\n                ),\n              },\n              slot: \"empty-content\",\n            },\n            [\n              _c(\"ImagePlus\", { attrs: { slot: \"icon\" }, slot: \"icon\" }),\n              _vm._v(\" \"),\n              _c(\n                \"NcButton\",\n                {\n                  attrs: {\n                    slot: \"action\",\n                    type: \"primary\",\n                    \"aria-label\": _vm.t(\"photos\", \"Add photos to this album\"),\n                  },\n                  on: {\n                    click: function ($event) {\n                      _vm.showAddPhotosModal = true\n                    },\n                  },\n                  slot: \"action\",\n                },\n                [\n                  _c(\"Plus\", { attrs: { slot: \"icon\" }, slot: \"icon\" }),\n                  _vm._v(\n                    \"\\n\\t\\t\\t\\t\" + _vm._s(_vm.t(\"photos\", \"Add\")) + \"\\n\\t\\t\\t\"\n                  ),\n                ],\n                1\n              ),\n            ],\n            1\n          ),\n        ],\n        1\n      ),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }"],"names":[],"sourceRoot":""}
{"version":3,"file":"photos-src_views_SharedAlbumContent_vue.js?v=37d99e668f4c47df3e81","mappings":"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","sources":["webpack:///photos/src/views/SharedAlbumContent.vue?vue&type=style&index=0&id=3ba35108&prod&lang=scss&scoped=true","webpack://photos/./src/views/SharedAlbumContent.vue?2ff2","webpack:///photos/src/views/SharedAlbumContent.vue","webpack:///photos/src/views/SharedAlbumContent.vue?vue&type=script&lang=js","webpack://photos/./src/views/SharedAlbumContent.vue?9436","webpack://photos/./src/views/SharedAlbumContent.vue?a937"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.album[data-v-3ba35108]{display:flex;flex-direction:column}.album__title[data-v-3ba35108]{width:100%}.album__name[data-v-3ba35108]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.album__location[data-v-3ba35108]{margin-left:-4px;display:flex;color:var(--color-text-lighter)}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/views/SharedAlbumContent.vue\"],\"names\":[],\"mappings\":\"AAEA,wBACC,YAAA,CACA,qBAAA,CAEA,+BACC,UAAA,CAGD,8BACC,eAAA,CACA,kBAAA,CACA,sBAAA,CAGD,kCACC,gBAAA,CACA,YAAA,CACA,+BAAA\",\"sourcesContent\":[\"$sizes: (\\\"400\\\": (\\\"count\\\": 3, \\\"marginTop\\\": 66, \\\"marginW\\\": 8), \\\"700\\\": (\\\"count\\\": 4, \\\"marginTop\\\": 66, \\\"marginW\\\": 8), \\\"1024\\\": (\\\"count\\\": 5, \\\"marginTop\\\": 66, \\\"marginW\\\": 44), \\\"1280\\\": (\\\"count\\\": 4, \\\"marginTop\\\": 66, \\\"marginW\\\": 44), \\\"1440\\\": (\\\"count\\\": 5, \\\"marginTop\\\": 88, \\\"marginW\\\": 66), \\\"1600\\\": (\\\"count\\\": 6, \\\"marginTop\\\": 88, \\\"marginW\\\": 66), \\\"2048\\\": (\\\"count\\\": 7, \\\"marginTop\\\": 88, \\\"marginW\\\": 66), \\\"2560\\\": (\\\"count\\\": 8, \\\"marginTop\\\": 88, \\\"marginW\\\": 88), \\\"3440\\\": (\\\"count\\\": 9, \\\"marginTop\\\": 88, \\\"marginW\\\": 88), \\\"max\\\": (\\\"count\\\": 10, \\\"marginTop\\\": 88, \\\"marginW\\\": 88));\\n\\n.album {\\n\\tdisplay: flex;\\n\\tflex-direction: column;\\n\\n\\t&__title {\\n\\t\\twidth: 100%;\\n\\t}\\n\\n\\t&__name {\\n\\t\\toverflow: hidden;\\n\\t\\twhite-space: nowrap;\\n\\t\\ttext-overflow: ellipsis;\\n\\t}\\n\\n\\t&__location {\\n\\t\\tmargin-left: -4px;\\n\\t\\tdisplay: flex;\\n\\t\\tcolor: var(--color-text-lighter);\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[(true)?_c('CollectionContent',{ref:\"collectionContent\",attrs:{\"collection\":_vm.album,\"collection-file-ids\":_vm.albumFileIds,\"loading\":_vm.loadingCollection || _vm.loadingCollectionFiles,\"error\":_vm.errorFetchingCollection || _vm.errorFetchingCollectionFiles},scopedSlots:_vm._u([{key:\"header\",fn:function({selectedFileIds, resetSelection}){return _c('HeaderNavigation',{key:\"navigation\",attrs:{\"loading\":_vm.loadingCollectionFiles,\"params\":{ albumName: _vm.albumName },\"path\":'/' + _vm.albumName,\"title\":_vm.albumOriginalName},on:{\"refresh\":_vm.fetchAlbumContent}},[(_vm.album !== undefined && _vm.album.location !== '')?_c('div',{staticClass:\"album__location\",attrs:{\"slot\":\"subtitle\"},slot:\"subtitle\"},[_c('MapMarker'),_vm._v(_vm._s(_vm.album.location)+\" ⸱ \"+_vm._s(_vm.t('photos', 'Shared by'))+\" \"),_c('NcUserBubble',{attrs:{\"display-name\":_vm.album.collaborators[0].label,\"user\":_vm.album.collaborators[0].id}})],1):_vm._e(),_vm._v(\" \"),_c('template',{slot:\"default\"},[(selectedFileIds.length > 0)?_c('NcButton',{attrs:{\"aria-label\":_vm.t('photos', 'Unselect all')},on:{\"click\":resetSelection},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('Close')]},proxy:true}],null,true)},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('photos', 'Unselect all'))+\"\\n\\t\\t\\t\\t\")]):_vm._e()],1),_vm._v(\" \"),(_vm.album !== undefined)?_c('template',{slot:\"right\"},[(_vm.album.nbItems !== 0)?_c('NcButton',{attrs:{\"type\":\"secondary\",\"aria-label\":_vm.t('photos', 'Add photos to this album')},on:{\"click\":function($event){_vm.showAddPhotosModal = true}}},[_c('Plus',{attrs:{\"slot\":\"icon\"},slot:\"icon\"}),_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('photos', \"Add\"))+\"\\n\\t\\t\\t\\t\")],1):_vm._e(),_vm._v(\" \"),_c('NcActions',{attrs:{\"force-menu\":true,\"aria-label\":_vm.t('photos', 'Open actions menu')}},[(_vm.album.collaborators[0].type === _vm.collaboratorTypes.SHARE_TYPE_USER)?_c('NcActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":_vm.handleDeleteAlbum}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('photos', 'Delete album'))+\"\\n\\t\\t\\t\\t\\t\\t\"),_c('Delete',{attrs:{\"slot\":\"icon\"},slot:\"icon\"})],1):_vm._e(),_vm._v(\" \"),(selectedFileIds.length > 0)?[_c('NcActionSeparator'),_vm._v(\" \"),_c('NcActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":function($event){return _vm.handleRemoveFilesFromAlbum(selectedFileIds)}}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('photos', 'Remove selection from album'))+\"\\n\\t\\t\\t\\t\\t\\t\\t\"),_c('Close',{attrs:{\"slot\":\"icon\"},slot:\"icon\"})],1)]:_vm._e()],2)],1):_vm._e()],2)}}],null,false,284801126)},[_vm._v(\" \"),(_vm.album !== undefined && _vm.album.nbItems === 0 && !(_vm.loadingCollectionFiles || _vm.loadingCollection))?_c('NcEmptyContent',{staticClass:\"album__empty\",attrs:{\"slot\":\"empty-content\",\"name\":_vm.t('photos', 'This album does not have any photos or videos yet!')},slot:\"empty-content\"},[_c('ImagePlus',{attrs:{\"slot\":\"icon\"},slot:\"icon\"}),_vm._v(\" \"),_c('NcButton',{staticClass:\"album__empty__button\",attrs:{\"slot\":\"action\",\"type\":\"primary\",\"aria-label\":_vm.t('photos', 'Add photos to this album')},on:{\"click\":function($event){_vm.showAddPhotosModal = true}},slot:\"action\"},[_c('Plus',{attrs:{\"slot\":\"icon\"},slot:\"icon\"}),_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('photos', \"Add\"))+\"\\n\\t\\t\\t\")],1)],1):_vm._e()],1):_vm._e(),_vm._v(\" \"),_c('PhotosPicker',{attrs:{\"open\":_vm.showAddPhotosModal,\"name\":_vm.t('photos', 'Add photos to {albumName}', {albumName: _vm.albumOriginalName}),\"destination\":_vm.album.basename,\"blacklist-ids\":_vm.albumFileIds,\"loading\":_vm.loadingAddFilesToAlbum},on:{\"update:open\":function($event){_vm.showAddPhotosModal=$event},\"files-picked\":_vm.handleFilesPicked}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n<template>\n\t<div>\n\t\t<CollectionContent v-if=\"true\"\n\t\t\tref=\"collectionContent\"\n\t\t\t:collection=\"album\"\n\t\t\t:collection-file-ids=\"albumFileIds\"\n\t\t\t:loading=\"loadingCollection || loadingCollectionFiles\"\n\t\t\t:error=\"errorFetchingCollection || errorFetchingCollectionFiles\">\n\t\t\t<!-- Header -->\n\t\t\t<HeaderNavigation key=\"navigation\"\n\t\t\t\tslot=\"header\"\n\t\t\t\tslot-scope=\"{selectedFileIds, resetSelection}\"\n\t\t\t\t:loading=\"loadingCollectionFiles\"\n\t\t\t\t:params=\"{ albumName }\"\n\t\t\t\t:path=\"'/' + albumName\"\n\t\t\t\t:title=\"albumOriginalName\"\n\t\t\t\t@refresh=\"fetchAlbumContent\">\n\t\t\t\t<div v-if=\"album !== undefined && album.location !== ''\" slot=\"subtitle\" class=\"album__location\">\n\t\t\t\t\t<MapMarker />{{ album.location }} ⸱ {{ t('photos', 'Shared by') }}&nbsp;<NcUserBubble :display-name=\"album.collaborators[0].label\" :user=\"album.collaborators[0].id\" />\n\t\t\t\t</div>\n\n\t\t\t\t<template slot=\"default\">\n\t\t\t\t\t<NcButton v-if=\"selectedFileIds.length > 0\"\n\t\t\t\t\t\t:aria-label=\"t('photos', 'Unselect all')\"\n\t\t\t\t\t\t@click=\"resetSelection\">\n\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t<Close />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t{{ t('photos', 'Unselect all') }}\n\t\t\t\t\t</NcButton>\n\t\t\t\t</template>\n\n\t\t\t\t<template v-if=\"album !== undefined\" slot=\"right\">\n\t\t\t\t\t<NcButton v-if=\"album.nbItems !== 0\"\n\t\t\t\t\t\ttype=\"secondary\"\n\t\t\t\t\t\t:aria-label=\"t('photos', 'Add photos to this album')\"\n\t\t\t\t\t\t@click=\"showAddPhotosModal = true\">\n\t\t\t\t\t\t<Plus slot=\"icon\" />\n\t\t\t\t\t\t{{ t('photos', \"Add\") }}\n\t\t\t\t\t</NcButton>\n\n\t\t\t\t\t<NcActions :force-menu=\"true\" :aria-label=\"t('photos', 'Open actions menu')\">\n\t\t\t\t\t\t<!-- TODO: enable download on shared albums -->\n\t\t\t\t\t\t<!-- <ActionDownload v-if=\"albumFileIds.length > 0\"\n\t\t\t\t\t\t\t:selected-file-ids=\"albumFileIds\"\n\t\t\t\t\t\t\t:title=\"t('photos', 'Download all files in album')\">\n\t\t\t\t\t\t\t<DownloadMultiple slot=\"icon\" />\n\t\t\t\t\t\t</ActionDownload> -->\n\n\t\t\t\t\t\t<NcActionButton v-if=\"album.collaborators[0].type === collaboratorTypes.SHARE_TYPE_USER\"\n\t\t\t\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t\t\t\t@click=\"handleDeleteAlbum\">\n\t\t\t\t\t\t\t{{ t('photos', 'Delete album') }}\n\t\t\t\t\t\t\t<Delete slot=\"icon\" />\n\t\t\t\t\t\t</NcActionButton>\n\n\t\t\t\t\t\t<template v-if=\"selectedFileIds.length > 0\">\n\t\t\t\t\t\t\t<NcActionSeparator />\n\n\t\t\t\t\t\t\t<!-- TODO: enable download on shared albums -->\n\t\t\t\t\t\t\t<!-- <ActionDownload :selected-file-ids=\"selectedFileIds\" :title=\"t('photos', 'Download selected files')\">\n\t\t\t\t\t\t\t\t<Download slot=\"icon\" />\n\t\t\t\t\t\t\t</ActionDownload> -->\n\n\t\t\t\t\t\t\t<NcActionButton :close-after-click=\"true\"\n\t\t\t\t\t\t\t\t@click=\"handleRemoveFilesFromAlbum(selectedFileIds)\">\n\t\t\t\t\t\t\t\t{{ t('photos', 'Remove selection from album') }}\n\t\t\t\t\t\t\t\t<Close slot=\"icon\" />\n\t\t\t\t\t\t\t</NcActionButton>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</NcActions>\n\t\t\t\t</template>\n\t\t\t</HeaderNavigation>\n\n\t\t\t<!-- No content -->\n\t\t\t<NcEmptyContent v-if=\"album !== undefined && album.nbItems === 0 && !(loadingCollectionFiles || loadingCollection)\"\n\t\t\t\tslot=\"empty-content\"\n\t\t\t\t:name=\"t('photos', 'This album does not have any photos or videos yet!')\"\n\t\t\t\tclass=\"album__empty\">\n\t\t\t\t<ImagePlus slot=\"icon\" />\n\n\t\t\t\t<NcButton slot=\"action\"\n\t\t\t\t\tclass=\"album__empty__button\"\n\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\t:aria-label=\"t('photos', 'Add photos to this album')\"\n\t\t\t\t\t@click=\"showAddPhotosModal = true\">\n\t\t\t\t\t<Plus slot=\"icon\" />\n\t\t\t\t\t{{ t('photos', \"Add\") }}\n\t\t\t\t</NcButton>\n\t\t\t</NcEmptyContent>\n\t\t</CollectionContent>\n\n\t\t<PhotosPicker :open.sync=\"showAddPhotosModal\"\n\t\t\t:name=\"t('photos', 'Add photos to {albumName}', {albumName: albumOriginalName})\"\n\t\t\t:destination=\"album.basename\"\n\t\t\t:blacklist-ids=\"albumFileIds\"\n\t\t\t:loading=\"loadingAddFilesToAlbum\"\n\t\t\t@files-picked=\"handleFilesPicked\" />\n\t</div>\n</template>\n\n<script>\nimport { mapActions, mapGetters } from 'vuex'\n\nimport { NcActions, NcActionButton, NcButton, NcEmptyContent, NcActionSeparator, NcUserBubble, isMobile } from '@nextcloud/vue'\nimport { Type } from '@nextcloud/sharing'\nimport { translate } from '@nextcloud/l10n'\n\nimport MapMarker from 'vue-material-design-icons/MapMarker.vue'\nimport Plus from 'vue-material-design-icons/Plus.vue'\nimport Delete from 'vue-material-design-icons/Delete.vue'\nimport ImagePlus from 'vue-material-design-icons/ImagePlus.vue'\nimport Close from 'vue-material-design-icons/Close.vue'\n// import Download from 'vue-material-design-icons/Download.vue'\n// import DownloadMultiple from 'vue-material-design-icons/DownloadMultiple.vue'\n\nimport FetchFilesMixin from '../mixins/FetchFilesMixin.js'\nimport FetchCollectionContentMixin from '../mixins/FetchCollectionContentMixin.js'\n\nimport CollectionContent from '../components/Collection/CollectionContent.vue'\nimport HeaderNavigation from '../components/HeaderNavigation.vue'\n// import ActionDownload from '../components/Actions/ActionDownload.vue'\nimport PhotosPicker from '../components/PhotosPicker.vue'\n\nexport default {\n\tname: 'SharedAlbumContent',\n\tcomponents: {\n\t\tMapMarker,\n\t\tPlus,\n\t\tClose,\n\t\t// Download,\n\t\t// DownloadMultiple,\n\t\tDelete,\n\t\tImagePlus,\n\t\tNcEmptyContent,\n\t\tNcActions,\n\t\tNcActionButton,\n\t\tNcActionSeparator,\n\t\tNcButton,\n\t\tNcUserBubble,\n\t\tCollectionContent,\n\t\t// ActionDownload,\n\t\tPhotosPicker,\n\t\tHeaderNavigation,\n\t},\n\n\tmixins: [\n\t\tFetchCollectionContentMixin,\n\t\tFetchFilesMixin,\n\t\tisMobile,\n\t],\n\n\tprops: {\n\t\talbumName: {\n\t\t\ttype: String,\n\t\t\tdefault: '/',\n\t\t},\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\tshowAddPhotosModal: false,\n\t\t\tloadingCount: 0,\n\t\t\tloadingAddFilesToAlbum: false,\n\t\t\tcollaboratorTypes: Type,\n\t\t}\n\t},\n\n\tcomputed: {\n\t\t...mapGetters([\n\t\t\t'files',\n\t\t\t'sharedAlbumsFiles',\n\t\t]),\n\n\t\t/**\n\t\t * @return {import('../store/sharedAlbums.js').SharedAlbum|undefined} The album information for the current albumName.\n\t\t */\n\t\talbum() {\n\t\t\treturn this.$store.getters.getSharedAlbum(this.albumName)\n\t\t},\n\n\t\t/**\n\t\t * @return {string[]} The list of files for the current albumName.\n\t\t */\n\t\talbumFileIds() {\n\t\t\treturn this.$store.getters.getSharedAlbumFiles(this.albumName)\n\t\t},\n\n\t\t/**\n\t\t * @return {string} The album name without the userId between parentheses.\n\t\t */\n\t\talbumOriginalName() {\n\t\t\treturn this.albumName.replace(new RegExp(`\\\\(${this.album.collaborators[0].id}\\\\)$`), '')\n\t\t},\n\n\t\t/**\n\t\t * @return {string} The album's filename based on its name. Useful to fetch the location information and content.\n\t\t */\n\t\talbumFileName() {\n\t\t\treturn this.$store.getters.getSharedAlbumName(this.albumName)\n\t\t},\n\t},\n\n\tasync mounted() {\n\t\tthis.fetchAlbum()\n\t\tthis.fetchAlbumContent()\n\t},\n\n\tmethods: {\n\t\t...mapActions([\n\t\t\t'addFilesToCollection',\n\t\t\t'removeFilesFromCollection',\n\t\t\t'deleteCollection',\n\t\t]),\n\n\t\tasync fetchAlbum() {\n\t\t\tawait this.fetchCollection(\n\t\t\t\tthis.albumFileName,\n\t\t\t\t['<nc:location />', '<nc:dateRange />', '<nc:collaborators />']\n\t\t\t)\n\t\t},\n\n\t\tasync fetchAlbumContent() {\n\t\t\tawait this.fetchCollectionFiles(this.albumFileName)\n\t\t},\n\n\t\tasync handleFilesPicked(fileIds) {\n\t\t\tthis.showAddPhotosModal = false\n\t\t\tawait this.addFilesToCollection({ collectionFileName: this.album.filename, fileIdsToAdd: fileIds })\n\t\t\t// Re-fetch album content to have the proper filenames.\n\t\t\tawait this.fetchAlbumContent()\n\t\t},\n\n\t\tasync handleRemoveFilesFromAlbum(fileIds) {\n\t\t\tthis.$refs.collectionContent.onUncheckFiles(fileIds)\n\t\t\tawait this.removeFilesFromCollection({ collectionFileName: this.album.filename, fileIdsToRemove: fileIds })\n\t\t},\n\n\t\tasync handleDeleteAlbum() {\n\t\t\tawait this.deleteCollection({ collectionFileName: this.album.filename })\n\t\t\tthis.$router.push('/sharedalbums')\n\t\t},\n\n\t\tt: translate,\n\t},\n}\n</script>\n<style lang=\"scss\" scoped>\n.album {\n\tdisplay: flex;\n\tflex-direction: column;\n\n\t&__title {\n\t\twidth: 100%;\n\t}\n\n\t&__name {\n\t\toverflow: hidden;\n\t\twhite-space: nowrap;\n\t\ttext-overflow: ellipsis;\n\t}\n\n\t&__location {\n\t\tmargin-left: -4px;\n\t\tdisplay: flex;\n\t\tcolor: var(--color-text-lighter);\n\t}\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SharedAlbumContent.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SharedAlbumContent.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-2.use[3]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SharedAlbumContent.vue?vue&type=style&index=0&id=3ba35108&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-2.use[3]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SharedAlbumContent.vue?vue&type=style&index=0&id=3ba35108&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./SharedAlbumContent.vue?vue&type=template&id=3ba35108&scoped=true\"\nimport script from \"./SharedAlbumContent.vue?vue&type=script&lang=js\"\nexport * from \"./SharedAlbumContent.vue?vue&type=script&lang=js\"\nimport style0 from \"./SharedAlbumContent.vue?vue&type=style&index=0&id=3ba35108&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3ba35108\",\n  null\n  \n)\n\nexport default component.exports"],"names":["___CSS_LOADER_EXPORT___","push","module","id","name","components","MapMarker","Plus","Close","Delete","ImagePlus","NcEmptyContent","NcActions","NcActionButton","NcActionSeparator","NcButton","NcUserBubble","CollectionContent","PhotosPicker","HeaderNavigation","mixins","FetchCollectionContentMixin","FetchFilesMixin","isMobile","props","albumName","type","String","default","data","showAddPhotosModal","loadingCount","loadingAddFilesToAlbum","collaboratorTypes","Type","computed","mapGetters","album","$store","getters","getSharedAlbum","albumFileIds","getSharedAlbumFiles","albumOriginalName","replace","RegExp","collaborators","albumFileName","getSharedAlbumName","mounted","fetchAlbum","fetchAlbumContent","methods","mapActions","fetchCollection","fetchCollectionFiles","handleFilesPicked","fileIds","addFilesToCollection","collectionFileName","filename","fileIdsToAdd","handleRemoveFilesFromAlbum","$refs","collectionContent","onUncheckFiles","removeFilesFromCollection","fileIdsToRemove","handleDeleteAlbum","deleteCollection","$router","t","translate","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","locals","_vm","this","_c","_self","ref","attrs","loadingCollection","loadingCollectionFiles","errorFetchingCollection","errorFetchingCollectionFiles","scopedSlots","_u","key","fn","_ref","selectedFileIds","resetSelection","on","undefined","location","staticClass","slot","_v","_s","label","_e","length","proxy","nbItems","$event","SHARE_TYPE_USER","basename"],"sourceRoot":""}
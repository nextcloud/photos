import{i as g,j as S}from"./index-Cyn8tcq_.chunk.mjs";function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function w(e,n,t){j(e,n),n.set(e,t)}function j(e,n){if(n.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function r(e,n){var t=L(e,n,"get");return T(e,t)}function T(e,n){return n.get?n.get.call(e):n.value}function y(e,n,t){var i=L(e,n,"set");return x(e,i,t),t}function L(e,n,t){if(!n.has(e))throw new TypeError("attempted to "+t+" private field on non-instance");return n.get(e)}function x(e,n,t){if(n.set)n.set.call(e,t);else{if(!n.writable)throw new TypeError("attempted to set read only private field");n.value=t}}var E=typeof Symbol<"u"?Symbol.toStringTag:"@@toStringTag",s=new WeakMap,c=new WeakMap;class h{constructor(n){var{executor:t=()=>{},internals:i=d(),promise:P=new Promise((p,v)=>t(p,v,m=>{i.onCancelList.push(m)}))}=n;w(this,s,{writable:!0,value:void 0}),w(this,c,{writable:!0,value:void 0}),o(this,E,"CancelablePromise"),this.cancel=this.cancel.bind(this),y(this,s,i),y(this,c,P||new Promise((p,v)=>t(p,v,m=>{i.onCancelList.push(m)})))}then(n,t){return f(r(this,c).then(l(n,r(this,s)),l(t,r(this,s))),r(this,s))}catch(n){return f(r(this,c).catch(l(n,r(this,s))),r(this,s))}finally(n,t){return t&&r(this,s).onCancelList.push(n),f(r(this,c).finally(l(()=>{if(n)return t&&(r(this,s).onCancelList=r(this,s).onCancelList.filter(i=>i!==n)),n()},r(this,s))),r(this,s))}cancel(){r(this,s).isCanceled=!0;var n=r(this,s).onCancelList;r(this,s).onCancelList=[];for(var t of n)if(typeof t=="function")try{t()}catch(i){console.error(i)}}isCanceled(){return r(this,s).isCanceled===!0}}class a extends h{constructor(n){super({executor:n})}}o(a,"all",function(e){return u(e,Promise.all(e))}),o(a,"allSettled",function(e){return u(e,Promise.allSettled(e))}),o(a,"any",function(e){return u(e,Promise.any(e))}),o(a,"race",function(e){return u(e,Promise.race(e))}),o(a,"resolve",function(e){return b(Promise.resolve(e))}),o(a,"reject",function(e){return b(Promise.reject(e))}),o(a,"isCancelable",C);function b(e){return f(e,d())}function C(e){return e instanceof a||e instanceof h}function l(e,n){if(e)return t=>{if(!n.isCanceled){var i=e(t);return C(i)&&n.onCancelList.push(i.cancel),i}return t}}function f(e,n){return new h({internals:n,promise:e})}function u(e,n){var t=d();return t.onCancelList.push(()=>{for(var i of e)C(i)&&i.cancel()}),new h({internals:t,promise:n})}function d(){return{isCanceled:!1,onCancelList:[]}}var k=g();const W=S(k);export{a as C,W as r};
//# sourceMappingURL=string_decoder-CWm048B_.chunk.mjs.map

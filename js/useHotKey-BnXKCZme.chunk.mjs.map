{"version":3,"file":"useHotKey-BnXKCZme.chunk.mjs","sources":["../node_modules/@nextcloud/vue/dist/Composables/useHotKey.mjs"],"sourcesContent":["import { onKeyStroke } from \"@vueuse/core\";\nconst disableKeyboardShortcuts = window.OCP?.Accessibility?.disableKeyboardShortcuts?.();\nconst isMac = /mac|ipad|iphone|darwin/i.test(navigator.userAgent);\nconst derivedKeysRegex = /^[a-zA-Z0-9]$/;\nconst nonAsciiPrintableRegex = /^[^\\x20-\\x7F]$/;\nfunction shouldIgnoreEvent(event) {\n  if (!(event.target instanceof HTMLElement) || event.target instanceof HTMLInputElement || event.target instanceof HTMLTextAreaElement || event.target instanceof HTMLSelectElement || event.target.isContentEditable) {\n    return true;\n  }\n  return document.getElementsByClassName(\"modal-mask\").length !== 0;\n}\nfunction eventHandler(callback, options) {\n  return (event) => {\n    const ctrlKeyPressed = isMac ? event.metaKey : event.ctrlKey;\n    if (ctrlKeyPressed !== Boolean(options.ctrl)) {\n      return;\n    } else if (event.altKey !== Boolean(options.alt)) {\n      return;\n    } else if (options.shift !== void 0 && event.shiftKey !== Boolean(options.shift)) {\n      return;\n    } else if (shouldIgnoreEvent(event)) {\n      return;\n    }\n    if (options.prevent) {\n      event.preventDefault();\n    }\n    if (options.stop) {\n      event.stopPropagation();\n    }\n    callback(event);\n  };\n}\nfunction useHotKey(keysOrFilter, callback = () => {\n}, options = {}) {\n  if (disableKeyboardShortcuts) {\n    return () => {\n    };\n  }\n  const validateKeyEvent = (event, key) => {\n    if (event.key === key) {\n      return true;\n    }\n    if (options.caseSensitive) {\n      const isKeyInLowerCase = key === key.toLowerCase();\n      const isEventKeyInLowerCase = event.key === event.key.toLowerCase();\n      if (isKeyInLowerCase !== isEventKeyInLowerCase) {\n        return false;\n      }\n    }\n    if (derivedKeysRegex.test(key) && nonAsciiPrintableRegex.test(event.key)) {\n      return event.code.replace(/^(?:Key|Digit|Numpad)/, \"\") === key.toUpperCase();\n    }\n    return event.key.toLowerCase() === key.toLowerCase();\n  };\n  const keyFilter = (event) => {\n    if (typeof keysOrFilter === \"function\") {\n      return keysOrFilter(event);\n    } else if (typeof keysOrFilter === \"string\") {\n      return validateKeyEvent(event, keysOrFilter);\n    } else if (Array.isArray(keysOrFilter)) {\n      return keysOrFilter.some((key) => validateKeyEvent(event, key));\n    } else {\n      return true;\n    }\n  };\n  const stopKeyDown = onKeyStroke(keyFilter, eventHandler(callback, options), {\n    eventName: \"keydown\",\n    dedupe: true,\n    passive: !options.prevent\n  });\n  const stopKeyUp = options.push ? onKeyStroke(keyFilter, eventHandler(callback, options), {\n    eventName: \"keyup\",\n    passive: !options.prevent\n  }) : () => {\n  };\n  return () => {\n    stopKeyDown();\n    stopKeyUp();\n  };\n}\nexport {\n  useHotKey\n};\n//# sourceMappingURL=useHotKey.mjs.map\n"],"names":["disableKeyboardShortcuts","isMac","derivedKeysRegex","nonAsciiPrintableRegex","shouldIgnoreEvent","event","eventHandler","callback","options","useHotKey","keysOrFilter","validateKeyEvent","key","isKeyInLowerCase","isEventKeyInLowerCase","keyFilter","stopKeyDown","onKeyStroke","stopKeyUp"],"mappings":"gDACA,MAAMA,EAA2B,OAAO,KAAK,eAAe,2BAA4B,EAClFC,EAAQ,0BAA0B,KAAK,UAAU,SAAS,EAC1DC,EAAmB,gBACnBC,EAAyB,iBAC/B,SAASC,EAAkBC,EAAO,CAChC,MAAI,EAAEA,EAAM,kBAAkB,cAAgBA,EAAM,kBAAkB,kBAAoBA,EAAM,kBAAkB,qBAAuBA,EAAM,kBAAkB,mBAAqBA,EAAM,OAAO,kBAC1L,GAEF,SAAS,uBAAuB,YAAY,EAAE,SAAW,CAClE,CACA,SAASC,EAAaC,EAAUC,EAAS,CACvC,OAAQH,GAAU,CAEhB,IADuBJ,EAAQI,EAAM,QAAUA,EAAM,WAC9B,CAAA,CAAQG,EAAQ,KAEhC,CAIA,GAJIH,EAAM,SAAW,CAAA,CAAQG,EAAQ,KAEjCA,EAAQ,QAAU,QAAUH,EAAM,WAAa,CAAA,CAAQG,EAAQ,OAE/DJ,EAAkBC,CAAK,EAChC,OAEEG,EAAQ,SACVH,EAAM,eAAgB,EAEpBG,EAAQ,MACVH,EAAM,gBAAiB,EAEzBE,EAASF,CAAK,CAAA,CACf,CACH,CACA,SAASI,EAAUC,EAAcH,EAAW,IAAM,CAClD,EAAGC,EAAU,CAAA,EAAI,CACf,GAAIR,EACF,MAAO,IAAM,CACZ,EAEH,MAAMW,EAAmB,CAACN,EAAOO,IAAQ,CACvC,GAAIP,EAAM,MAAQO,EAChB,MAAO,GAET,GAAIJ,EAAQ,cAAe,CACzB,MAAMK,EAAmBD,IAAQA,EAAI,YAAa,EAC5CE,EAAwBT,EAAM,MAAQA,EAAM,IAAI,YAAa,EACnE,GAAIQ,IAAqBC,EACvB,MAAO,EAEf,CACI,OAAIZ,EAAiB,KAAKU,CAAG,GAAKT,EAAuB,KAAKE,EAAM,GAAG,EAC9DA,EAAM,KAAK,QAAQ,wBAAyB,EAAE,IAAMO,EAAI,YAAa,EAEvEP,EAAM,IAAI,YAAW,IAAOO,EAAI,YAAa,CACrD,EACKG,EAAaV,GACb,OAAOK,GAAiB,WACnBA,EAAaL,CAAK,EAChB,OAAOK,GAAiB,SAC1BC,EAAiBN,EAAOK,CAAY,EAClC,MAAM,QAAQA,CAAY,EAC5BA,EAAa,KAAME,GAAQD,EAAiBN,EAAOO,CAAG,CAAC,EAEvD,GAGLI,EAAcC,EAAYF,EAAWT,EAAaC,EAAUC,CAAO,EAAG,CAC1E,UAAW,UACX,OAAQ,GACR,QAAS,CAACA,EAAQ,OACtB,CAAG,EACKU,EAAYV,EAAQ,KAAOS,EAAYF,EAAWT,EAAaC,EAAUC,CAAO,EAAG,CACvF,UAAW,QACX,QAAS,CAACA,EAAQ,OACnB,CAAA,EAAI,IAAM,CACV,EACD,MAAO,IAAM,CACXQ,EAAa,EACbE,EAAW,CACZ,CACH","x_google_ignoreList":[0]}
{"version":3,"file":"useHotKey-BoUBuGOL.chunk.mjs","sources":["../node_modules/@nextcloud/vue/dist/chunks/platform-CC2ecGvV.mjs","../node_modules/@nextcloud/vue/dist/Composables/useHotKey.mjs"],"sourcesContent":["const isMac = /mac|ipad|iphone|darwin/i.test(navigator.userAgent);\nexport {\n  isMac as i\n};\n//# sourceMappingURL=platform-CC2ecGvV.mjs.map\n","import { onKeyStroke } from \"@vueuse/core\";\nimport { i as isMac } from \"../chunks/platform-CC2ecGvV.mjs\";\nconst disableKeyboardShortcuts = window.OCP?.Accessibility?.disableKeyboardShortcuts?.();\nconst derivedKeysRegex = /^[a-zA-Z0-9]$/;\nconst nonAsciiPrintableRegex = /^[^\\x20-\\x7F]$/;\nfunction shouldIgnoreEvent(event) {\n  if (!(event.target instanceof HTMLElement) || event.target instanceof HTMLInputElement || event.target instanceof HTMLTextAreaElement || event.target instanceof HTMLSelectElement || event.target.isContentEditable) {\n    return true;\n  }\n  return Array.from(document.getElementsByClassName(\"modal-mask\")).filter((el) => el.checkVisibility()).length > 0;\n}\nfunction eventHandler(callback, options) {\n  return (event) => {\n    const ctrlKeyPressed = isMac ? event.metaKey : event.ctrlKey;\n    if (ctrlKeyPressed !== Boolean(options.ctrl)) {\n      return;\n    } else if (event.altKey !== Boolean(options.alt)) {\n      return;\n    } else if (options.shift !== void 0 && event.shiftKey !== Boolean(options.shift)) {\n      return;\n    } else if (shouldIgnoreEvent(event)) {\n      return;\n    }\n    if (options.prevent) {\n      event.preventDefault();\n    }\n    if (options.stop) {\n      event.stopPropagation();\n    }\n    callback(event);\n  };\n}\nfunction useHotKey(keysOrFilter, callback = () => {\n}, options = {}) {\n  if (disableKeyboardShortcuts) {\n    return () => {\n    };\n  }\n  const validateKeyEvent = (event, key) => {\n    if (event.key === key) {\n      return true;\n    }\n    if (options.caseSensitive) {\n      const isKeyInLowerCase = key === key.toLowerCase();\n      const isEventKeyInLowerCase = event.key === event.key.toLowerCase();\n      if (isKeyInLowerCase !== isEventKeyInLowerCase) {\n        return false;\n      }\n    }\n    if (derivedKeysRegex.test(key) && nonAsciiPrintableRegex.test(event.key)) {\n      return event.code.replace(/^(?:Key|Digit|Numpad)/, \"\") === key.toUpperCase();\n    }\n    return event.key.toLowerCase() === key.toLowerCase();\n  };\n  const keyFilter = (event) => {\n    if (typeof keysOrFilter === \"function\") {\n      return keysOrFilter(event);\n    } else if (typeof keysOrFilter === \"string\") {\n      return validateKeyEvent(event, keysOrFilter);\n    } else if (Array.isArray(keysOrFilter)) {\n      return keysOrFilter.some((key) => validateKeyEvent(event, key));\n    } else {\n      return true;\n    }\n  };\n  const stopKeyDown = onKeyStroke(keyFilter, eventHandler(callback, options), {\n    eventName: \"keydown\",\n    dedupe: true,\n    passive: !options.prevent\n  });\n  const stopKeyUp = options.push ? onKeyStroke(keyFilter, eventHandler(callback, options), {\n    eventName: \"keyup\",\n    passive: !options.prevent\n  }) : () => {\n  };\n  return () => {\n    stopKeyDown();\n    stopKeyUp();\n  };\n}\nexport {\n  useHotKey\n};\n//# sourceMappingURL=useHotKey.mjs.map\n"],"names":["isMac","disableKeyboardShortcuts","derivedKeysRegex","nonAsciiPrintableRegex","shouldIgnoreEvent","event","el","eventHandler","callback","options","useHotKey","keysOrFilter","validateKeyEvent","key","isKeyInLowerCase","isEventKeyInLowerCase","keyFilter","stopKeyDown","onKeyStroke","stopKeyUp"],"mappings":"+CAAA,MAAMA,EAAQ,0BAA0B,KAAK,UAAU,SAAS,ECE1DC,EAA2B,OAAO,KAAK,eAAe,2BAA4B,EAClFC,EAAmB,gBACnBC,EAAyB,iBAC/B,SAASC,EAAkBC,EAAO,CAChC,MAAI,EAAEA,EAAM,kBAAkB,cAAgBA,EAAM,kBAAkB,kBAAoBA,EAAM,kBAAkB,qBAAuBA,EAAM,kBAAkB,mBAAqBA,EAAM,OAAO,kBAC1L,GAEF,MAAM,KAAK,SAAS,uBAAuB,YAAY,CAAC,EAAE,OAAQC,GAAOA,EAAG,gBAAe,CAAE,EAAE,OAAS,CACjH,CACA,SAASC,EAAaC,EAAUC,EAAS,CACvC,OAAQJ,GAAU,CAEhB,IADuBL,EAAQK,EAAM,QAAUA,EAAM,WAC9B,CAAQI,CAAAA,EAAQ,KAEhC,CAIA,GAJIJ,EAAM,SAAW,CAAA,CAAQI,EAAQ,KAEjCA,EAAQ,QAAU,QAAUJ,EAAM,WAAa,CAAA,CAAQI,EAAQ,OAE/DL,EAAkBC,CAAK,EAChC,OAEEI,EAAQ,SACVJ,EAAM,eAAgB,EAEpBI,EAAQ,MACVJ,EAAM,gBAAiB,EAEzBG,EAASH,CAAK,CAAA,CACf,CACH,CACA,SAASK,EAAUC,EAAcH,EAAW,IAAM,CAClD,EAAGC,EAAU,CAAA,EAAI,CACf,GAAIR,EACF,MAAO,IAAM,CACZ,EAEH,MAAMW,EAAmB,CAACP,EAAOQ,IAAQ,CACvC,GAAIR,EAAM,MAAQQ,EAChB,MAAO,GAET,GAAIJ,EAAQ,cAAe,CACzB,MAAMK,EAAmBD,IAAQA,EAAI,YAAa,EAC5CE,EAAwBV,EAAM,MAAQA,EAAM,IAAI,YAAa,EACnE,GAAIS,IAAqBC,EACvB,MAAO,EAEf,CACI,OAAIb,EAAiB,KAAKW,CAAG,GAAKV,EAAuB,KAAKE,EAAM,GAAG,EAC9DA,EAAM,KAAK,QAAQ,wBAAyB,EAAE,IAAMQ,EAAI,YAAa,EAEvER,EAAM,IAAI,YAAW,IAAOQ,EAAI,YAAa,CACrD,EACKG,EAAaX,GACb,OAAOM,GAAiB,WACnBA,EAAaN,CAAK,EAChB,OAAOM,GAAiB,SAC1BC,EAAiBP,EAAOM,CAAY,EAClC,MAAM,QAAQA,CAAY,EAC5BA,EAAa,KAAME,GAAQD,EAAiBP,EAAOQ,CAAG,CAAC,EAEvD,GAGLI,EAAcC,EAAYF,EAAWT,EAAaC,EAAUC,CAAO,EAAG,CAC1E,UAAW,UACX,OAAQ,GACR,QAAS,CAACA,EAAQ,OACtB,CAAG,EACKU,EAAYV,EAAQ,KAAOS,EAAYF,EAAWT,EAAaC,EAAUC,CAAO,EAAG,CACvF,UAAW,QACX,QAAS,CAACA,EAAQ,OACnB,CAAA,EAAI,IAAM,CACV,EACD,MAAO,IAAM,CACXQ,EAAa,EACbE,EAAW,CACZ,CACH","x_google_ignoreList":[0,1]}
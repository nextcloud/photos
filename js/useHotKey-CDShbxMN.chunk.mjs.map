{"version":3,"file":"useHotKey-CDShbxMN.chunk.mjs","sources":["../node_modules/@nextcloud/vue/dist/Composables/useHotKey.mjs"],"sourcesContent":["import { onKeyStroke } from \"@vueuse/core\";\nconst disableKeyboardShortcuts = window.OCP?.Accessibility?.disableKeyboardShortcuts?.();\nconst isMac = /mac|ipad|iphone|darwin/i.test(navigator.userAgent);\nfunction shouldIgnoreEvent(event) {\n  if (!(event.target instanceof HTMLElement) || event.target instanceof HTMLInputElement || event.target instanceof HTMLTextAreaElement || event.target instanceof HTMLSelectElement || event.target.isContentEditable) {\n    return true;\n  }\n  return document.getElementsByClassName(\"modal-mask\").length !== 0;\n}\nfunction eventHandler(callback, options) {\n  return (event) => {\n    const ctrlKeyPressed = isMac ? event.metaKey : event.ctrlKey;\n    if (ctrlKeyPressed !== Boolean(options.ctrl)) {\n      return;\n    } else if (event.altKey !== Boolean(options.alt)) {\n      return;\n    } else if (options.shift !== void 0 && event.shiftKey !== Boolean(options.shift)) {\n      return;\n    } else if (shouldIgnoreEvent(event)) {\n      return;\n    }\n    if (options.prevent) {\n      event.preventDefault();\n    }\n    if (options.stop) {\n      event.stopPropagation();\n    }\n    callback(event);\n  };\n}\nfunction useHotKey(keysOrFilter, callback = () => {\n}, options = {}) {\n  if (disableKeyboardShortcuts) {\n    return () => {\n    };\n  }\n  const validateKeyEvent = (event, key) => {\n    if (options.caseSensitive) {\n      return event.key === key;\n    }\n    return event.key.toLowerCase() === key.toLowerCase();\n  };\n  const keyFilter = (event) => {\n    if (typeof keysOrFilter === \"function\") {\n      return keysOrFilter(event);\n    } else if (typeof keysOrFilter === \"string\") {\n      return validateKeyEvent(event, keysOrFilter);\n    } else if (Array.isArray(keysOrFilter)) {\n      return keysOrFilter.some((key) => validateKeyEvent(event, key));\n    } else {\n      return true;\n    }\n  };\n  const stopKeyDown = onKeyStroke(keyFilter, eventHandler(callback, options), {\n    eventName: \"keydown\",\n    dedupe: true,\n    passive: !options.prevent\n  });\n  const stopKeyUp = options.push ? onKeyStroke(keyFilter, eventHandler(callback, options), {\n    eventName: \"keyup\",\n    passive: !options.prevent\n  }) : () => {\n  };\n  return () => {\n    stopKeyDown();\n    stopKeyUp();\n  };\n}\nexport {\n  useHotKey\n};\n//# sourceMappingURL=useHotKey.mjs.map\n"],"names":[],"mappings":";;;AACA,MAAM,2BAA2B,OAAO,KAAK,eAAe,2BAA4B;AACxF,MAAM,QAAQ,0BAA0B,KAAK,UAAU,SAAS;AAChE,SAAS,kBAAkB,OAAO;AAChC,MAAI,EAAE,MAAM,kBAAkB,gBAAgB,MAAM,kBAAkB,oBAAoB,MAAM,kBAAkB,uBAAuB,MAAM,kBAAkB,qBAAqB,MAAM,OAAO,mBAAmB;AACpN,WAAO;AAAA,EACX;AACE,SAAO,SAAS,uBAAuB,YAAY,EAAE,WAAW;AAClE;AACA,SAAS,aAAa,UAAU,SAAS;AACvC,SAAO,CAAC,UAAU;AAChB,UAAM,iBAAiB,QAAQ,MAAM,UAAU,MAAM;AACrD,QAAI,mBAAmB,QAAQ,QAAQ,IAAI,GAAG;AAC5C;AAAA,IACN,WAAe,MAAM,WAAW,QAAQ,QAAQ,GAAG,GAAG;AAChD;AAAA,IACN,WAAe,QAAQ,UAAU,UAAU,MAAM,aAAa,QAAQ,QAAQ,KAAK,GAAG;AAChF;AAAA,IACN,WAAe,kBAAkB,KAAK,GAAG;AACnC;AAAA,IACN;AACI,QAAI,QAAQ,SAAS;AACnB,YAAM,eAAgB;AAAA,IAC5B;AACI,QAAI,QAAQ,MAAM;AAChB,YAAM,gBAAiB;AAAA,IAC7B;AACI,aAAS,KAAK;AAAA,EACf;AACH;AACA,SAAS,UAAU,cAAc,WAAW,MAAM;AAClD,GAAG,UAAU,CAAA,GAAI;AACf,MAAI,0BAA0B;AAC5B,WAAO,MAAM;AAAA,IACZ;AAAA,EACL;AACE,QAAM,mBAAmB,CAAC,OAAO,QAAQ;AACvC,QAAI,QAAQ,eAAe;AACzB,aAAO,MAAM,QAAQ;AAAA,IAC3B;AACI,WAAO,MAAM,IAAI,YAAW,MAAO,IAAI,YAAa;AAAA,EACrD;AACD,QAAM,YAAY,CAAC,UAAU;AAC3B,QAAI,OAAO,iBAAiB,YAAY;AACtC,aAAO,aAAa,KAAK;AAAA,IAC/B,WAAe,OAAO,iBAAiB,UAAU;AAC3C,aAAO,iBAAiB,OAAO,YAAY;AAAA,IAC5C,WAAU,MAAM,QAAQ,YAAY,GAAG;AACtC,aAAO,aAAa,KAAK,CAAC,QAAQ,iBAAiB,OAAO,GAAG,CAAC;AAAA,IACpE,OAAW;AACL,aAAO;AAAA,IACb;AAAA,EACG;AACD,QAAM,cAAc,YAAY,WAAW,aAAa,UAAU,OAAO,GAAG;AAAA,IAC1E,WAAW;AAAA,IACX,QAAQ;AAAA,IACR,SAAS,CAAC,QAAQ;AAAA,EACtB,CAAG;AACD,QAAM,YAAY,QAAQ,OAAO,YAAY,WAAW,aAAa,UAAU,OAAO,GAAG;AAAA,IACvF,WAAW;AAAA,IACX,SAAS,CAAC,QAAQ;AAAA,EACnB,CAAA,IAAI,MAAM;AAAA,EACV;AACD,SAAO,MAAM;AACX,gBAAa;AACb,cAAW;AAAA,EACZ;AACH;","x_google_ignoreList":[0]}